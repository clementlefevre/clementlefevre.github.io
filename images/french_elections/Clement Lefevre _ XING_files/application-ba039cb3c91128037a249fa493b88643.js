(function(){function e(e){function n(n,t,i,s,a,l){for(;a>=0&&a<l;a+=e){var r=s?s[a]:a;i=t(i,n[r],r,n)}return i}return function(t,i,s,a){i=b(i,a,4);var l=!T(t)&&v.keys(t),r=(l||t).length,o=e>0?0:r-1;return arguments.length<3&&(s=t[l?l[o]:o],o+=e),n(t,i,s,l,o,r)}}function n(e){return function(n,t,i){t=x(t,i);for(var s=S(n),a=e>0?0:s-1;a>=0&&a<s;a+=e)if(t(n[a],a,n))return a;return-1}}function t(e,n,t){return function(i,s,a){var l=0,r=S(i);if("number"==typeof a)e>0?l=a>=0?a:Math.max(a+r,l):r=a>=0?Math.min(a+1,r):a+r+1;else if(t&&a&&r)return a=t(i,s),i[a]===s?a:-1;if(s!==s)return a=n(u.call(i,l,r),v.isNaN),a>=0?a+l:-1;for(a=e>0?l:r-1;a>=0&&a<r;a+=e)if(i[a]===s)return a;return-1}}function i(e,n){var t=C.length,i=e.constructor,s=v.isFunction(i)&&i.prototype||r,a="constructor";for(v.has(e,a)&&!v.contains(n,a)&&n.push(a);t--;)(a=C[t])in e&&e[a]!==s[a]&&!v.contains(n,a)&&n.push(a)}var s=this,a=s._,l=Array.prototype,r=Object.prototype,o=Function.prototype,c=l.push,u=l.slice,d=r.toString,p=r.hasOwnProperty,h=Array.isArray,f=Object.keys,m=o.bind,g=Object.create,_=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=v),exports._=v):s._=v,v.VERSION="1.8.3";var b=function(e,n,t){if(void 0===n)return e;switch(null==t?3:t){case 1:return function(t){return e.call(n,t)};case 2:return function(t,i){return e.call(n,t,i)};case 3:return function(t,i,s){return e.call(n,t,i,s)};case 4:return function(t,i,s,a){return e.call(n,t,i,s,a)}}return function(){return e.apply(n,arguments)}},x=function(e,n,t){return null==e?v.identity:v.isFunction(e)?b(e,n,t):v.isObject(e)?v.matcher(e):v.property(e)};v.iteratee=function(e,n){return x(e,n,Infinity)};var E=function(e,n){return function(t){var i=arguments.length;if(i<2||null==t)return t;for(var s=1;s<i;s++)for(var a=arguments[s],l=e(a),r=l.length,o=0;o<r;o++){var c=l[o];n&&void 0!==t[c]||(t[c]=a[c])}return t}},y=function(e){if(!v.isObject(e))return{};if(g)return g(e);_.prototype=e;var n=new _;return _.prototype=null,n},I=function(e){return function(n){return null==n?void 0:n[e]}},R=Math.pow(2,53)-1,S=I("length"),T=function(e){var n=S(e);return"number"==typeof n&&n>=0&&n<=R};v.each=v.forEach=function(e,n,t){n=b(n,t);var i,s;if(T(e))for(i=0,s=e.length;i<s;i++)n(e[i],i,e);else{var a=v.keys(e);for(i=0,s=a.length;i<s;i++)n(e[a[i]],a[i],e)}return e},v.map=v.collect=function(e,n,t){n=x(n,t);for(var i=!T(e)&&v.keys(e),s=(i||e).length,a=Array(s),l=0;l<s;l++){var r=i?i[l]:l;a[l]=n(e[r],r,e)}return a},v.reduce=v.foldl=v.inject=e(1),v.reduceRight=v.foldr=e(-1),v.find=v.detect=function(e,n,t){var i;if(void 0!==(i=T(e)?v.findIndex(e,n,t):v.findKey(e,n,t))&&-1!==i)return e[i]},v.filter=v.select=function(e,n,t){var i=[];return n=x(n,t),v.each(e,function(e,t,s){n(e,t,s)&&i.push(e)}),i},v.reject=function(e,n,t){return v.filter(e,v.negate(x(n)),t)},v.every=v.all=function(e,n,t){n=x(n,t);for(var i=!T(e)&&v.keys(e),s=(i||e).length,a=0;a<s;a++){var l=i?i[a]:a;if(!n(e[l],l,e))return!1}return!0},v.some=v.any=function(e,n,t){n=x(n,t);for(var i=!T(e)&&v.keys(e),s=(i||e).length,a=0;a<s;a++){var l=i?i[a]:a;if(n(e[l],l,e))return!0}return!1},v.contains=v.includes=v.include=function(e,n,t,i){return T(e)||(e=v.values(e)),("number"!=typeof t||i)&&(t=0),v.indexOf(e,n,t)>=0},v.invoke=function(e,n){var t=u.call(arguments,2),i=v.isFunction(n);return v.map(e,function(e){var s=i?n:e[n];return null==s?s:s.apply(e,t)})},v.pluck=function(e,n){return v.map(e,v.property(n))},v.where=function(e,n){return v.filter(e,v.matcher(n))},v.findWhere=function(e,n){return v.find(e,v.matcher(n))},v.max=function(e,n,t){var i,s,a=-Infinity,l=-Infinity;if(null==n&&null!=e){e=T(e)?e:v.values(e);for(var r=0,o=e.length;r<o;r++)(i=e[r])>a&&(a=i)}else n=x(n,t),v.each(e,function(e,t,i){((s=n(e,t,i))>l||s===-Infinity&&a===-Infinity)&&(a=e,l=s)});return a},v.min=function(e,n,t){var i,s,a=Infinity,l=Infinity;if(null==n&&null!=e){e=T(e)?e:v.values(e);for(var r=0,o=e.length;r<o;r++)(i=e[r])<a&&(a=i)}else n=x(n,t),v.each(e,function(e,t,i){((s=n(e,t,i))<l||s===Infinity&&a===Infinity)&&(a=e,l=s)});return a},v.shuffle=function(e){for(var n,t=T(e)?e:v.values(e),i=t.length,s=Array(i),a=0;a<i;a++)n=v.random(0,a),n!==a&&(s[a]=s[n]),s[n]=t[a];return s},v.sample=function(e,n,t){return null==n||t?(T(e)||(e=v.values(e)),e[v.random(e.length-1)]):v.shuffle(e).slice(0,Math.max(0,n))},v.sortBy=function(e,n,t){return n=x(n,t),v.pluck(v.map(e,function(e,t,i){return{value:e,index:t,criteria:n(e,t,i)}}).sort(function(e,n){var t=e.criteria,i=n.criteria;if(t!==i){if(t>i||void 0===t)return 1;if(t<i||void 0===i)return-1}return e.index-n.index}),"value")};var A=function(e){return function(n,t,i){var s={};return t=x(t,i),v.each(n,function(i,a){var l=t(i,a,n);e(s,i,l)}),s}};v.groupBy=A(function(e,n,t){v.has(e,t)?e[t].push(n):e[t]=[n]}),v.indexBy=A(function(e,n,t){e[t]=n}),v.countBy=A(function(e,n,t){v.has(e,t)?e[t]++:e[t]=1}),v.toArray=function(e){return e?v.isArray(e)?u.call(e):T(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:T(e)?e.length:v.keys(e).length},v.partition=function(e,n,t){n=x(n,t);var i=[],s=[];return v.each(e,function(e,t,a){(n(e,t,a)?i:s).push(e)}),[i,s]},v.first=v.head=v.take=function(e,n,t){if(null!=e)return null==n||t?e[0]:v.initial(e,e.length-n)},v.initial=function(e,n,t){return u.call(e,0,Math.max(0,e.length-(null==n||t?1:n)))},v.last=function(e,n,t){if(null!=e)return null==n||t?e[e.length-1]:v.rest(e,Math.max(0,e.length-n))},v.rest=v.tail=v.drop=function(e,n,t){return u.call(e,null==n||t?1:n)},v.compact=function(e){return v.filter(e,v.identity)};var w=function(e,n,t,i){for(var s=[],a=0,l=i||0,r=S(e);l<r;l++){var o=e[l];if(T(o)&&(v.isArray(o)||v.isArguments(o))){n||(o=w(o,n,t));var c=0,u=o.length;for(s.length+=u;c<u;)s[a++]=o[c++]}else t||(s[a++]=o)}return s};v.flatten=function(e,n){return w(e,n,!1)},v.without=function(e){return v.difference(e,u.call(arguments,1))},v.uniq=v.unique=function(e,n,t,i){v.isBoolean(n)||(i=t,t=n,n=!1),null!=t&&(t=x(t,i));for(var s=[],a=[],l=0,r=S(e);l<r;l++){var o=e[l],c=t?t(o,l,e):o;n?(l&&a===c||s.push(o),a=c):t?v.contains(a,c)||(a.push(c),s.push(o)):v.contains(s,o)||s.push(o)}return s},v.union=function(){return v.uniq(w(arguments,!0,!0))},v.intersection=function(e){for(var n=[],t=arguments.length,i=0,s=S(e);i<s;i++){var a=e[i];if(!v.contains(n,a)){for(var l=1;l<t&&v.contains(arguments[l],a);l++);l===t&&n.push(a)}}return n},v.difference=function(e){var n=w(arguments,!0,!0,1);return v.filter(e,function(e){return!v.contains(n,e)})},v.zip=function(){return v.unzip(arguments)},v.unzip=function(e){for(var n=e&&v.max(e,S).length||0,t=Array(n),i=0;i<n;i++)t[i]=v.pluck(e,i);return t},v.object=function(e,n){for(var t={},i=0,s=S(e);i<s;i++)n?t[e[i]]=n[i]:t[e[i][0]]=e[i][1];return t},v.findIndex=n(1),v.findLastIndex=n(-1),v.sortedIndex=function(e,n,t,i){t=x(t,i,1);for(var s=t(n),a=0,l=S(e);a<l;){var r=Math.floor((a+l)/2);t(e[r])<s?a=r+1:l=r}return a},v.indexOf=t(1,v.findIndex,v.sortedIndex),v.lastIndexOf=t(-1,v.findLastIndex),v.range=function(e,n,t){null==n&&(n=e||0,e=0),t=t||1;for(var i=Math.max(Math.ceil((n-e)/t),0),s=Array(i),a=0;a<i;a++,e+=t)s[a]=e;return s};var L=function(e,n,t,i,s){if(!(i instanceof n))return e.apply(t,s);var a=y(e.prototype),l=e.apply(a,s);return v.isObject(l)?l:a};v.bind=function(e,n){if(m&&e.bind===m)return m.apply(e,u.call(arguments,1));if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var t=u.call(arguments,2),i=function(){return L(e,i,n,this,t.concat(u.call(arguments)))};return i},v.partial=function(e){var n=u.call(arguments,1),t=function(){for(var i=0,s=n.length,a=Array(s),l=0;l<s;l++)a[l]=n[l]===v?arguments[i++]:n[l];for(;i<arguments.length;)a.push(arguments[i++]);return L(e,t,this,this,a)};return t},v.bindAll=function(e){var n,t,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(n=1;n<i;n++)t=arguments[n],e[t]=v.bind(e[t],e);return e},v.memoize=function(e,n){var t=function(i){var s=t.cache,a=""+(n?n.apply(this,arguments):i);return v.has(s,a)||(s[a]=e.apply(this,arguments)),s[a]};return t.cache={},t},v.delay=function(e,n){var t=u.call(arguments,2);return setTimeout(function(){return e.apply(null,t)},n)},v.defer=v.partial(v.delay,v,1),v.throttle=function(e,n,t){var i,s,a,l=null,r=0;t||(t={});var o=function(){r=!1===t.leading?0:v.now(),l=null,a=e.apply(i,s),l||(i=s=null)};return function(){var c=v.now();r||!1!==t.leading||(r=c);var u=n-(c-r);return i=this,s=arguments,u<=0||u>n?(l&&(clearTimeout(l),l=null),r=c,a=e.apply(i,s),l||(i=s=null)):l||!1===t.trailing||(l=setTimeout(o,u)),a}},v.debounce=function(e,n,t){var i,s,a,l,r,o=function(){var c=v.now()-l;c<n&&c>=0?i=setTimeout(o,n-c):(i=null,t||(r=e.apply(a,s),i||(a=s=null)))};return function(){a=this,s=arguments,l=v.now();var c=t&&!i;return i||(i=setTimeout(o,n)),c&&(r=e.apply(a,s),a=s=null),r}},v.wrap=function(e,n){return v.partial(n,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,n=e.length-1;return function(){for(var t=n,i=e[n].apply(this,arguments);t--;)i=e[t].call(this,i);return i}},v.after=function(e,n){return function(){if(--e<1)return n.apply(this,arguments)}},v.before=function(e,n){var t;return function(){return--e>0&&(t=n.apply(this,arguments)),e<=1&&(n=null),t}},v.once=v.partial(v.before,2);var O=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];v.keys=function(e){if(!v.isObject(e))return[];if(f)return f(e);var n=[];for(var t in e)v.has(e,t)&&n.push(t);return O&&i(e,n),n},v.allKeys=function(e){if(!v.isObject(e))return[];var n=[];for(var t in e)n.push(t);return O&&i(e,n),n},v.values=function(e){for(var n=v.keys(e),t=n.length,i=Array(t),s=0;s<t;s++)i[s]=e[n[s]];return i},v.mapObject=function(e,n,t){n=x(n,t);for(var i,s=v.keys(e),a=s.length,l={},r=0;r<a;r++)i=s[r],l[i]=n(e[i],i,e);return l},v.pairs=function(e){for(var n=v.keys(e),t=n.length,i=Array(t),s=0;s<t;s++)i[s]=[n[s],e[n[s]]];return i},v.invert=function(e){for(var n={},t=v.keys(e),i=0,s=t.length;i<s;i++)n[e[t[i]]]=t[i];return n},v.functions=v.methods=function(e){var n=[];for(var t in e)v.isFunction(e[t])&&n.push(t);return n.sort()},v.extend=E(v.allKeys),v.extendOwn=v.assign=E(v.keys),v.findKey=function(e,n,t){n=x(n,t);for(var i,s=v.keys(e),a=0,l=s.length;a<l;a++)if(i=s[a],n(e[i],i,e))return i},v.pick=function(e,n,t){var i,s,a={},l=e;if(null==l)return a;v.isFunction(n)?(s=v.allKeys(l),i=b(n,t)):(s=w(arguments,!1,!1,1),i=function(e,n,t){return n in t},l=Object(l));for(var r=0,o=s.length;r<o;r++){var c=s[r],u=l[c];i(u,c,l)&&(a[c]=u)}return a},v.omit=function(e,n,t){if(v.isFunction(n))n=v.negate(n);else{var i=v.map(w(arguments,!1,!1,1),String);n=function(e,n){return!v.contains(i,n)}}return v.pick(e,n,t)},v.defaults=E(v.allKeys,!0),v.create=function(e,n){var t=y(e);return n&&v.extendOwn(t,n),t},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,n){return n(e),e},v.isMatch=function(e,n){var t=v.keys(n),i=t.length;if(null==e)return!i;for(var s=Object(e),a=0;a<i;a++){var l=t[a];if(n[l]!==s[l]||!(l in s))return!1}return!0};var k=function(e,n,t,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof v&&(e=e._wrapped),n instanceof v&&(n=n._wrapped);var s=d.call(e);if(s!==d.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+e==""+n;case"[object Number]":return+e!=+e?+n!=+n:0==+e?1/+e==1/n:+e==+n;case"[object Date]":case"[object Boolean]":return+e==+n}var a="[object Array]"===s;if(!a){if("object"!=typeof e||"object"!=typeof n)return!1;var l=e.constructor,r=n.constructor;if(l!==r&&!(v.isFunction(l)&&l instanceof l&&v.isFunction(r)&&r instanceof r)&&"constructor"in e&&"constructor"in n)return!1}t=t||[],i=i||[];for(var o=t.length;o--;)if(t[o]===e)return i[o]===n;if(t.push(e),i.push(n),a){if((o=e.length)!==n.length)return!1;for(;o--;)if(!k(e[o],n[o],t,i))return!1}else{var c,u=v.keys(e);if(o=u.length,v.keys(n).length!==o)return!1;for(;o--;)if(c=u[o],!v.has(n,c)||!k(e[c],n[c],t,i))return!1}return t.pop(),i.pop(),!0};v.isEqual=function(e,n){return k(e,n)},v.isEmpty=function(e){return null==e||(T(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=h||function(e){return"[object Array]"===d.call(e)},v.isObject=function(e){var n=typeof e;return"function"===n||"object"===n&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){v["is"+e]=function(n){return d.call(n)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&e!==+e},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===d.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,n){return null!=e&&p.call(e,n)},v.noConflict=function(){return s._=a,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=I,v.propertyOf=function(e){return null==e?function(){}:function(n){return e[n]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(n){return v.isMatch(n,e)}},v.times=function(e,n,t){var i=Array(Math.max(0,e));n=b(n,t,1);for(var s=0;s<e;s++)i[s]=n(s);return i},v.random=function(e,n){return null==n&&(n=e,e=0),e+Math.floor(Math.random()*(n-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},D=v.invert(P),M=function(e){var n=function(n){return e[n]},t="(?:"+v.keys(e).join("|")+")",i=RegExp(t),s=RegExp(t,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(s,n):e}};v.escape=M(P),v.unescape=M(D),v.result=function(e,n,t){var i=null==e?void 0:e[n];return void 0===i&&(i=t),v.isFunction(i)?i.call(e):i};var F=0;v.uniqueId=function(e){var n=++F+"";return e?e+n:n},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var N=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,j=function(e){return"\\"+H[e]};v.template=function(e,n,t){!n&&t&&(n=t),n=v.defaults({},n,v.templateSettings);var i=RegExp([(n.escape||N).source,(n.interpolate||N).source,(n.evaluate||N).source].join("|")+"|$","g"),s=0,a="__p+='";e.replace(i,function(n,t,i,l,r){return a+=e.slice(s,r).replace(z,j),s=r+n.length,t?a+="'+\n((__t=("+t+"))==null?'':_.escape(__t))+\n'":i?a+="'+\n((__t=("+i+"))==null?'':__t)+\n'":l&&(a+="';\n"+l+"\n__p+='"),n}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var l=new Function(n.variable||"obj","_",a)}catch(e){throw e.source=a,e}var r=function(e){return l.call(this,e,v)},o=n.variable||"obj";return r.source="function("+o+"){\n"+a+"}",r},v.chain=function(e){var n=v(e);return n._chain=!0,n};var $=function(e,n){return e._chain?v(n).chain():n};v.mixin=function(e){v.each(v.functions(e),function(n){var t=v[n]=e[n];v.prototype[n]=function(){var e=[this._wrapped];return c.apply(e,arguments),$(this,t.apply(v,e))}})},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var n=l[e];v.prototype[e]=function(){var t=this._wrapped;return n.apply(t,arguments),"shift"!==e&&"splice"!==e||0!==t.length||delete t[0],$(this,t)}}),v.each(["concat","join","slice"],function(e){var n=l[e];v.prototype[e]=function(){return $(this,n.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}).call(this),function(){var e,n=this,t=n.Backbone,i=[],s=(i.push,i.slice);i.splice;e="undefined"!=typeof exports?exports:n.Backbone={},e.VERSION="1.1.0";var a=n._;a||"undefined"==typeof require||(a=require("underscore")),e.$=n.jQuery||n.Zepto||n.ender||n.$,e.noConflict=function(){return n.Backbone=t,this},e.emulateHTTP=!1,e.emulateJSON=!1;var l=e.Events={on:function(e,n,t){return o(this,"on",e,[n,t])&&n?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:n,context:t,ctx:t||this}),this):this},once:function(e,n,t){if(!o(this,"once",e,[n,t])||!n)return this;var i=this,s=a.once(function(){i.off(e,s),n.apply(this,arguments)});return s._callback=n,this.on(e,s,t)},off:function(e,n,t){var i,s,l,r,c,u,d,p;if(!this._events||!o(this,"off",e,[n,t]))return this;if(!e&&!n&&!t)return this._events={},this;for(r=e?[e]:a.keys(this._events),c=0,u=r.length;c<u;c++)if(e=r[c],l=this._events[e]){if(this._events[e]=i=[],n||t)for(d=0,p=l.length;d<p;d++)s=l[d],(n&&n!==s.callback&&n!==s.callback._callback||t&&t!==s.context)&&i.push(s);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var n=s.call(arguments,1);if(!o(this,"trigger",e,n))return this;var t=this._events[e],i=this._events.all;return t&&c(t,n),i&&c(i,arguments),this},stopListening:function(e,n,t){var i=this._listeningTo;if(!i)return this;var s=!n&&!t;t||"object"!=typeof n||(t=this),e&&((i={})[e._listenId]=e);for(var l in i)e=i[l],e.off(n,t,this),(s||a.isEmpty(e._events))&&delete this._listeningTo[l];return this}},r=/\s+/,o=function(e,n,t,i){if(!t)return!0;if("object"==typeof t){for(var s in t)e[n].apply(e,[s,t[s]].concat(i));return!1}if(r.test(t)){for(var a=t.split(r),l=0,o=a.length;l<o;l++)e[n].apply(e,[a[l]].concat(i));return!1}return!0},c=function(e,n){var t,i=-1,s=e.length,a=n[0],l=n[1],r=n[2];switch(n.length){case 0:for(;++i<s;)(t=e[i]).callback.call(t.ctx);return;case 1:for(;++i<s;)(t=e[i]).callback.call(t.ctx,a);return;case 2:for(;++i<s;)(t=e[i]).callback.call(t.ctx,a,l);return;case 3:for(;++i<s;)(t=e[i]).callback.call(t.ctx,a,l,r);return;default:for(;++i<s;)(t=e[i]).callback.apply(t.ctx,n)}},u={listenTo:"on",listenToOnce:"once"};a.each(u,function(e,n){l[n]=function(n,t,i){return(this._listeningTo||(this._listeningTo={}))[n._listenId||(n._listenId=a.uniqueId("l"))]=n,i||"object"!=typeof t||(i=this),n[e](t,i,this),this}}),l.bind=l.on,l.unbind=l.off,a.extend(e,l);var d=e.Model=function(e,n){var t=e||{};n||(n={}),this.cid=a.uniqueId("c"),this.attributes={},n.collection&&(this.collection=n.collection),n.parse&&(t=this.parse(t,n)||{}),t=a.defaults({},t,a.result(this,"defaults")),this.set(t,n),this.changed={},this.initialize.apply(this,arguments)};a.extend(d.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return a.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,n,t){var i,s,l,r,o,c,u,d;if(null==e)return this;if("object"==typeof e?(s=e,t=n):(s={})[e]=n,t||(t={}),!this._validate(s,t))return!1;l=t.unset,o=t.silent,r=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in s&&(this.id=s[this.idAttribute]);for(i in s)n=s[i],a.isEqual(d[i],n)||r.push(i),a.isEqual(u[i],n)?delete this.changed[i]:this.changed[i]=n,l?delete d[i]:d[i]=n;if(!o){r.length&&(this._pending=!0);for(var p=0,h=r.length;p<h;p++)this.trigger("change:"+r[p],this,d[r[p]],t)}if(c)return this;if(!o)for(;this._pending;)this._pending=!1,this.trigger("change",this,t);return this._pending=!1,this._changing=!1,this},unset:function(e,n){return this.set(e,void 0,a.extend({},n,{unset:!0}))},clear:function(e){var n={};for(var t in this.attributes)n[t]=void 0;return this.set(n,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&a.clone(this.changed);var n,t=!1,i=this._changing?this._previousAttributes:this.attributes;for(var s in e)a.isEqual(i[s],n=e[s])||((t||(t={}))[s]=n);return t},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=this,t=e.success;return e.success=function(i){if(!n.set(n.parse(i,e),e))return!1;t&&t(n,i,e),n.trigger("sync",n,i,e)},F(this,e),this.sync("read",this,e)},save:function(e,n,t){var i,s,l,r=this.attributes;if(null==e||"object"==typeof e?(i=e,t=n):(i={})[e]=n,t=a.extend({validate:!0},t),i&&!t.wait){if(!this.set(i,t))return!1}else if(!this._validate(i,t))return!1;i&&t.wait&&(this.attributes=a.extend({},r,i)),void 0===t.parse&&(t.parse=!0);var o=this,c=t.success;return t.success=function(e){o.attributes=r;var n=o.parse(e,t);if(t.wait&&(n=a.extend(i||{},n)),a.isObject(n)&&!o.set(n,t))return!1;c&&c(o,e,t),o.trigger("sync",o,e,t)},F(this,t),s=this.isNew()?"create":t.patch?"patch":"update","patch"===s&&(t.attrs=i),l=this.sync(s,this,t),i&&t.wait&&(this.attributes=r),l},destroy:function(e){e=e?a.clone(e):{};var n=this,t=e.success,i=function(){n.trigger("destroy",n,n.collection,e)};if(e.success=function(s){(e.wait||n.isNew())&&i(),t&&t(n,s,e),n.isNew()||n.trigger("sync",n,s,e)},this.isNew())return e.success(),!1;F(this,e);var s=this.sync("delete",this,e);return e.wait||i(),s},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||M();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},a.extend(e||{},{validate:!0}))},_validate:function(e,n){if(!n.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var t=this.validationError=this.validate(e,n)||null;return!t||(this.trigger("invalid",this,t,a.extend(n,{validationError:t})),!1)}});var p=["keys","values","pairs","invert","pick","omit"];a.each(p,function(e){d.prototype[e]=function(){var n=s.call(arguments);return n.unshift(this.attributes),a[e].apply(a,n)}});var h=e.Collection=function(e,n){n||(n={}),n.model&&(this.model=n.model),void 0!==n.comparator&&(this.comparator=n.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},n))},f={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};a.extend(h.prototype,l,{model:d,initialize:function(){},toJSON:function(e){return this.map(function(n){return n.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,n){return this.set(e,a.extend({merge:!1},n,m))},remove:function(e,n){var t=!a.isArray(e);e=t?[e]:a.clone(e),n||(n={});var i,s,l,r;for(i=0,s=e.length;i<s;i++)(r=e[i]=this.get(e[i]))&&(delete this._byId[r.id],delete this._byId[r.cid],l=this.indexOf(r),this.models.splice(l,1),this.length--,n.silent||(n.index=l,r.trigger("remove",r,this,n)),this._removeReference(r));return t?e[0]:e},set:function(e,n){n=a.defaults({},n,f),n.parse&&(e=this.parse(e,n));var t=!a.isArray(e);e=t?e?[e]:[]:a.clone(e);var i,s,l,r,o,c,u,p=n.at,h=this.model,m=this.comparator&&null==p&&!1!==n.sort,g=a.isString(this.comparator)?this.comparator:null,_=[],v=[],b={},x=n.add,E=n.merge,y=n.remove,I=!(m||!x||!y)&&[];for(i=0,s=e.length;i<s;i++){if(o=e[i],l=o instanceof d?r=o:o[h.prototype.idAttribute],c=this.get(l))y&&(b[c.cid]=!0),E&&(o=o===r?r.attributes:o,n.parse&&(o=c.parse(o,n)),c.set(o,n),m&&!u&&c.hasChanged(g)&&(u=!0)),e[i]=c;else if(x){if(!(r=e[i]=this._prepareModel(o,n)))continue;_.push(r),r.on("all",this._onModelEvent,this),this._byId[r.cid]=r,null!=r.id&&(this._byId[r.id]=r)}I&&I.push(c||r)}if(y){for(i=0,s=this.length;i<s;++i)b[(r=this.models[i]).cid]||v.push(r);v.length&&this.remove(v,n)}if(_.length||I&&I.length)if(m&&(u=!0),this.length+=_.length,null!=p)for(i=0,s=_.length;i<s;i++)this.models.splice(p+i,0,_[i]);else{I&&(this.models.length=0);var R=I||_;for(i=0,s=R.length;i<s;i++)this.models.push(R[i])}if(u&&this.sort({silent:!0}),!n.silent){for(i=0,s=_.length;i<s;i++)(r=_[i]).trigger("add",r,this,n);(u||I&&I.length)&&this.trigger("sort",this,n)}return t?e[0]:e},reset:function(e,n){n||(n={});for(var t=0,i=this.models.length;t<i;t++)this._removeReference(this.models[t]);return n.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},n)),n.silent||this.trigger("reset",this,n),e},push:function(e,n){return this.add(e,a.extend({at:this.length},n))},pop:function(e){var n=this.at(this.length-1);return this.remove(n,e),n},unshift:function(e,n){return this.add(e,a.extend({at:0},n))},shift:function(e){var n=this.at(0);return this.remove(n,e),n},slice:function(){return s.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,n){return a.isEmpty(e)?n?void 0:[]:this[n?"find":"filter"](function(n){for(var t in e)if(e[t]!==n.get(t))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){e=e?a.clone(e):{},void 0===e.parse&&(e.parse=!0);var n=e.success,t=this;return e.success=function(i){var s=e.reset?"reset":"set";t[s](i,e),n&&n(t,i,e),t.trigger("sync",t,i,e)},F(this,e),this.sync("read",this,e)},create:function(e,n){if(n=n?a.clone(n):{},!(e=this._prepareModel(e,n)))return!1;n.wait||this.add(e,n);var t=this,i=n.success;return n.success=function(e,n,s){s.wait&&t.add(e,s),i&&i(e,n,s)},e.save(null,n),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,n){if(e instanceof d)return e.collection||(e.collection=this),e;n=n?a.clone(n):{},n.collection=this;var t=new this.model(e,n);return t.validationError?(this.trigger("invalid",this,t.validationError,n),!1):t},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,n,t,i){("add"!==e&&"remove"!==e||t===this)&&("destroy"===e&&this.remove(n,i),n&&e==="change:"+n.idAttribute&&(delete this._byId[n.previous(n.idAttribute)],null!=n.id&&(this._byId[n.id]=n)),this.trigger.apply(this,arguments))}});var g=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(g,function(e){h.prototype[e]=function(){var n=s.call(arguments);return n.unshift(this.models),a[e].apply(a,n)}});var _=["groupBy","countBy","sortBy"];a.each(_,function(e){h.prototype[e]=function(n,t){var i=a.isFunction(n)?n:function(e){return e.get(n)};return a[e](this.models,i,t)}});var v=e.View=function(e){this.cid=a.uniqueId("view"),e||(e={}),a.extend(this,a.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];a.extend(v.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(n,t){return this.$el&&this.undelegateEvents(),this.$el=n instanceof e.$?n:e.$(n),this.el=this.$el[0],!1!==t&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=a.result(this,"events")))return this;this.undelegateEvents();for(var n in e){var t=e[n];if(a.isFunction(t)||(t=this[e[n]]),t){var i=n.match(b),s=i[1],l=i[2];t=a.bind(t,this),s+=".delegateEvents"+this.cid,""===l?this.$el.on(s,t):this.$el.on(s,l,t)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var n=a.extend({},a.result(this,"attributes"));this.id&&(n.id=a.result(this,"id")),this.className&&(n["class"]=a.result(this,"className"));var t=e.$("<"+a.result(this,"tagName")+">").attr(n);this.setElement(t,!1)}}}),e.sync=function(n,t,i){var s=y[n];a.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var l={type:s,dataType:"json"};if(i.url||(l.url=a.result(t,"url")||M()),null!=i.data||!t||"create"!==n&&"update"!==n&&"patch"!==n||(l.contentType="application/json",l.data=JSON.stringify(i.attrs||t.toJSON(i))),i.emulateJSON&&(l.contentType="application/x-www-form-urlencoded",l.data=l.data?{model:l.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){l.type="POST",i.emulateJSON&&(l.data._method=s);var r=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",s),r)return r.apply(this,arguments)}}"GET"===l.type||i.emulateJSON||(l.processData=!1),"PATCH"===l.type&&E&&(l.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var o=i.xhr=e.ajax(a.extend(l,i));return t.trigger("request",t,o,i),o};var E=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),y={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var I=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,T=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(I.prototype,l,{initialize:function(){},route:function(n,t,i){a.isRegExp(n)||(n=this._routeToRegExp(n)),a.isFunction(t)&&(i=t,t=""),i||(i=this[t]);var s=this;return e.history.route(n,function(a){var l=s._extractParameters(n,a);i&&i.apply(s,l),s.trigger.apply(s,["route:"+t].concat(l)),s.trigger("route",t,l),e.history.trigger("route",s,t,l)}),this},navigate:function(n,t){return e.history.navigate(n,t),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e,n=a.keys(this.routes);null!=(e=n.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(R,"(?:$1)?").replace(S,function(e,n){return n?e:"([^/]+)"}).replace(T,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,n){var t=e.exec(n).slice(1);return a.map(t,function(e){return e?decodeURIComponent(e):null})}});var w=e.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,C=/msie [\w.]+/,k=/\/$/,P=/[?#].*$/;w.started=!1,a.extend(w.prototype,l,{interval:50,getHash:function(e){var n=(e||this).location.href.match(/#(.*)$/);return n?n[1]:""},getFragment:function(e,n){if(null==e)if(this._hasPushState||!this._wantsHashChange||n){e=this.location.pathname;var t=this.root.replace(k,"");e.indexOf(t)||(e=e.slice(t.length))}else e=this.getHash();return e.replace(L,"")},start:function(n){if(w.started)throw new Error("Backbone.history has already been started");w.started=!0,this.options=a.extend({root:"/"},this.options,n),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),i=document.documentMode,s=C.exec(navigator.userAgent.toLowerCase())&&(!i||i<=7);this.root=("/"+this.root+"/").replace(O,"/"),s&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!s?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var l=this.location,r=l.pathname.replace(/[^\/]$/,"$&/")===this.root
;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!r)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&r&&l.hash&&(this.fragment=this.getHash().replace(L,""),this.history.replaceState({},document.title,this.root+this.fragment+l.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),w.started=!1},route:function(e,n){this.handlers.unshift({route:e,callback:n})},checkUrl:function(){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),a.any(this.handlers,function(n){if(n.route.test(e))return n.callback(e),!0})},navigate:function(e,n){if(!w.started)return!1;n&&!0!==n||(n={trigger:!!n});var t=this.root+(e=this.getFragment(e||""));if(e=e.replace(P,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==t&&(t=t.slice(0,-1)),this._hasPushState)this.history[n.replace?"replaceState":"pushState"]({},document.title,t);else{if(!this._wantsHashChange)return this.location.assign(t);this._updateHash(this.location,e,n.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(n.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,n.replace))}return n.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,n,t){if(t){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+n)}else e.hash="#"+n}}),e.history=new w;var D=function(e,n){var t,i=this;t=e&&a.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},a.extend(t,i,n);var s=function(){this.constructor=t};return s.prototype=i.prototype,t.prototype=new s,e&&a.extend(t.prototype,e),t.__super__=i.prototype,t};d.extend=h.extend=I.extend=v.extend=w.extend=D;var M=function(){throw new Error('A "url" property or function must be specified')},F=function(e,n){var t=n.error;n.error=function(i){t&&t(e,i,n),e.trigger("error",e,i,n)}}}.call(this),Backbone.Validation=function(e){"use strict";var n={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},t={formatLabel:function(e,t){return o[n.labelFormatter](e,t)},format:function(){var e=Array.prototype.slice.call(arguments);return e.shift().replace(/\{(\d+)\}/g,function(n,t){return"undefined"!=typeof e[t]?e[t]:n})}},i=function(n,t,s){return t=t||{},s=s||"",e.each(n,function(e,a){n.hasOwnProperty(a)&&(e&&"object"==typeof e&&e.constructor===Object?i(e,t,s+a+"."):t[s+a]=e)}),t},s=function(){var s=function(n){return e.reduce(e.keys(e.result(n,"validation")||{}),function(e,n){return e[n]=void 0,e},{})},l=function(n,t){var i=n.validation?e.result(n,"validation")[t]||{}:{};return(e.isFunction(i)||e.isString(i))&&(i={fn:i}),e.isArray(i)||(i=[i]),e.reduce(i,function(n,t){return e.each(e.without(e.keys(t),"msg"),function(e){n.push({fn:c[e],val:t[e],msg:t.msg})}),n},[])},r=function(n,i,s,a){return e.reduce(l(n,i),function(l,r){var o=e.extend({},t,c),u=r.fn.call(o,s,i,r.val,n,a);return!1!==u&&!1!==l&&(u&&!l?e.result(r,"msg")||u:l)},"")},o=function(n,t){var s,a={},l=!0,o=e.clone(t),c=i(t);return e.each(c,function(e,t){(s=r(n,t,e,o))&&(a[t]=s,l=!1)}),{invalidAttrs:a,isValid:l}},u=function(n,t){return{preValidate:function(n,t){var i,s=this,a={};return e.isObject(n)?(e.each(n,function(e,n){(i=s.preValidate(n,e))&&(a[n]=i)}),e.isEmpty(a)?void 0:a):r(this,n,t,e.extend({},this.attributes))},isValid:function(n){var t=i(this.attributes);return e.isString(n)?!r(this,n,t[n],e.extend({},this.attributes)):e.isArray(n)?e.reduce(n,function(n,i){return n&&!r(this,i,t[i],e.extend({},this.attributes))},!0,this):(!0===n&&this.validate(),!this.validation||this._isValid)},validate:function(a,l){var r=this,c=!a,u=e.extend({},t,l),d=s(r),p=e.extend({},d,r.attributes,a),h=i(a||p),f=o(r,p);return r._isValid=f.isValid,e.each(d,function(e,t){f.invalidAttrs.hasOwnProperty(t)||u.valid(n,t,u.selector)}),e.each(d,function(e,t){var i=f.invalidAttrs.hasOwnProperty(t),s=h.hasOwnProperty(t);i&&(s||c)&&u.invalid(n,t,f.invalidAttrs[t],u.selector)}),e.defer(function(){r.trigger("validated",r._isValid,r,f.invalidAttrs),r.trigger("validated:"+(r._isValid?"valid":"invalid"),r,f.invalidAttrs)}),!u.forceUpdate&&e.intersection(e.keys(f.invalidAttrs),e.keys(h)).length>0?f.invalidAttrs:void 0}}},d=function(n,t,i){e.extend(t,u(n,i))},p=function(e){delete e.validate,delete e.preValidate,delete e.isValid},h=function(e){d(this.view,e,this.options)},f=function(e){p(e)};return{version:"0.9.1",configure:function(t){e.extend(n,t)},bind:function(t,i){i=e.extend({},n,a,i);var s=i.model||t.model,l=i.collection||t.collection;if(void 0===s&&void 0===l)throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";s?d(t,s,i):l&&(l.each(function(e){d(t,e,i)}),l.bind("add",h,{view:t,options:i}),l.bind("remove",f))},unbind:function(n,t){t=e.extend({},t);var i=t.model||n.model,s=t.collection||n.collection;i?p(i):s&&(s.each(function(e){p(e)}),s.unbind("add",h),s.unbind("remove",f))},mixin:u(null,n)}}(),a=s.callbacks={valid:function(e,n,t){e.$("["+t+'~="'+n+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(e,n,t,i){e.$("["+i+'~="'+n+'"]').addClass("invalid").attr("data-error",t)}},l=s.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},r=s.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},o=s.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,n){return 0===n?e.toUpperCase():" "+e.toLowerCase()}).replace(/_/g," ")},label:function(e,n){return n.labels&&n.labels[e]||o.sentenceCase(e,n)}},c=s.validators=function(){var n=String.prototype.trim?function(e){return null===e?"":String.prototype.trim.call(e)}:function(e){var n=/^\s+/,t=/\s+$/;return null===e?"":e.toString().replace(n,"").replace(t,"")},t=function(n){return e.isNumber(n)||e.isString(n)&&n.match(l.number)},i=function(t){return!(e.isNull(t)||e.isUndefined(t)||e.isString(t)&&""===n(t)||e.isArray(t)&&e.isEmpty(t))};return{fn:function(n,t,i,s,a){return e.isString(i)&&(i=s[i]),i.call(s,n,t,a)},required:function(n,t,s,a,l){var o=e.isFunction(s)?s.call(a,n,t,l):s;return!(!o&&!i(n))&&(o&&!i(n)?this.format(r.required,this.formatLabel(t,a)):void 0)},acceptance:function(n,t,i,s){return"true"===n||e.isBoolean(n)&&!1!==n?void 0:this.format(r.acceptance,this.formatLabel(t,s))},min:function(e,n,i,s){return!t(e)||i>e?this.format(r.min,this.formatLabel(n,s),i):void 0},max:function(e,n,i,s){return!t(e)||e>i?this.format(r.max,this.formatLabel(n,s),i):void 0},range:function(e,n,i,s){return!t(e)||e<i[0]||e>i[1]?this.format(r.range,this.formatLabel(n,s),i[0],i[1]):void 0},length:function(n,t,i,s){return e.isString(n)&&n.length===i?void 0:this.format(r.length,this.formatLabel(t,s),i)},minLength:function(n,t,i,s){return!e.isString(n)||n.length<i?this.format(r.minLength,this.formatLabel(t,s),i):void 0},maxLength:function(n,t,i,s){return!e.isString(n)||n.length>i?this.format(r.maxLength,this.formatLabel(t,s),i):void 0},rangeLength:function(n,t,i,s){return!e.isString(n)||n.length<i[0]||n.length>i[1]?this.format(r.rangeLength,this.formatLabel(t,s),i[0],i[1]):void 0},oneOf:function(n,t,i,s){return e.include(i,n)?void 0:this.format(r.oneOf,this.formatLabel(t,s),i.join(", "))},equalTo:function(e,n,t,i,s){return e!==s[t]?this.format(r.equalTo,this.formatLabel(n,i),this.formatLabel(t,i)):void 0},pattern:function(e,n,t,s){return i(e)&&e.toString().match(l[t]||t)?void 0:this.format(r[t]||r.inlinePattern,this.formatLabel(n,s),t)}}}();return e.each(c,function(n,i){c[i]=e.bind(c[i],e.extend({},t,c))}),s}(_),function(){"use strict";function e(){}function n(e,n){for(var t=e.length;t--;)if(e[t].listener===n)return t;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,s=this,a=s.EventEmitter;i.getListeners=function(e){var n,t,i=this._getEvents();if(e instanceof RegExp){n={};for(t in i)i.hasOwnProperty(t)&&e.test(t)&&(n[t]=i[t])}else n=i[e]||(i[e]=[]);return n},i.flattenListeners=function(e){var n,t=[];for(n=0;n<e.length;n+=1)t.push(e[n].listener);return t},i.getListenersAsObject=function(e){var n,t=this.getListeners(e);return t instanceof Array&&(n={},n[e]=t),n||t},i.addListener=function(e,t){var i,s=this.getListenersAsObject(e),a="object"==typeof t;for(i in s)s.hasOwnProperty(i)&&-1===n(s[i],t)&&s[i].push(a?t:{listener:t,once:!1});return this},i.on=t("addListener"),i.addOnceListener=function(e,n){return this.addListener(e,{listener:n,once:!0})},i.once=t("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var n=0;n<e.length;n+=1)this.defineEvent(e[n]);return this},i.removeListener=function(e,t){var i,s,a=this.getListenersAsObject(e);for(s in a)a.hasOwnProperty(s)&&-1!==(i=n(a[s],t))&&a[s].splice(i,1);return this},i.off=t("removeListener"),i.addListeners=function(e,n){return this.manipulateListeners(!1,e,n)},i.removeListeners=function(e,n){return this.manipulateListeners(!0,e,n)},i.manipulateListeners=function(e,n,t){var i,s,a=e?this.removeListener:this.addListener,l=e?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp)for(i=t.length;i--;)a.call(this,n,t[i]);else for(i in n)n.hasOwnProperty(i)&&(s=n[i])&&("function"==typeof s?a.call(this,i,s):l.call(this,i,s));return this},i.removeEvent=function(e){var n,t=typeof e,i=this._getEvents();if("string"===t)delete i[e];else if(e instanceof RegExp)for(n in i)i.hasOwnProperty(n)&&e.test(n)&&delete i[n];else delete this._events;return this},i.removeAllListeners=t("removeEvent"),i.emitEvent=function(e,n){var t,i,s,a=this.getListenersAsObject(e);for(s in a)if(a.hasOwnProperty(s))for(i=a[s].length;i--;)t=a[s][i],!0===t.once&&this.removeListener(e,t.listener),t.listener.apply(this,n||[])===this._getOnceReturnValue()&&this.removeListener(e,t.listener);return this},i.trigger=t("emitEvent"),i.emit=function(e){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,n)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return s.EventEmitter=a,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){"use strict";function n(n){var t=e.event;return t.target=t.target||t.srcElement||n,t}var t=document.documentElement,i=function(){};t.addEventListener?i=function(e,n,t){e.addEventListener(n,t,!1)}:t.attachEvent&&(i=function(e,t,i){e[t+i]=i.handleEvent?function(){var t=n(e);i.handleEvent.call(i,t)}:function(){var t=n(e);i.call(e,t)},e.attachEvent("on"+t,e[t+i])});var s=function(){};t.removeEventListener?s=function(e,n,t){e.removeEventListener(n,t,!1)}:t.detachEvent&&(s=function(e,n,t){e.detachEvent("on"+n,e[n+t]);try{delete e[n+t]}catch(i){e[n+t]=undefined}});var a={bind:i,unbind:s};"function"==typeof define&&define.amd?define(a):"object"==typeof exports?module.exports=a:e.eventie=a}(this),function(e){"use strict";function n(e,n){for(var t in n)e[t]=n[t];return e}function t(e){return"[object Array]"===o.call(e)}function i(e){var n=[];if(t(e))n=e;else if("number"==typeof e.length)for(var i=0,s=e.length;i<s;i++)n.push(e[i]);else n.push(e);return n}function s(e,t){function s(e,t,l){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=i(e),this.options=n({},this.options),"function"==typeof t?l=t:n(this.options,t),l&&this.on("always",l),this.getImages(),a&&(this.jqDeferred=new a.Deferred);var r=this;setTimeout(function(){r.check()})}function o(e){this.img=e}s.prototype=new e,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,n=this.elements.length;e<n;e++){var t=this.elements[e];"IMG"===t.nodeName&&this.addImage(t);for(var i=t.querySelectorAll("img"),s=0,a=i.length;s<a;s++){var l=i[s];this.addImage(l)}}},s.prototype.addImage=function(e){var n=new o(e);this.images.push(n)},s.prototype.check=function(){function e(e,s){return n.options.debug&&r&&l.log("confirm",e,s),n.progress(e),t++,t===i&&n.complete(),!0}var n=this,t=0,i=this.images.length;if(this.hasAnyBroken=!1,!i)return void this.complete();for(var s=0;s<i;s++){var a=this.images[s];a.on("confirm",e),a.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var n=this;setTimeout(function(){n.emit("progress",n,e),n.jqDeferred&&n.jqDeferred.notify(n,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var n=this;setTimeout(function(){if(n.emit(e,n),n.emit("always",n),n.jqDeferred){var t=n.hasAnyBroken?"reject":"resolve";n.jqDeferred[t](n)}})},a&&(a.fn.imagesLoaded=function(e,n){return new s(this,e,n).jqDeferred.promise(a(this))});var c={};return o.prototype=new e,o.prototype.check=function(){var e=c[this.img.src];if(e)return void this.useCached(e);if(c[this.img.src]=this,this.img.complete&&this.img.naturalWidth!==undefined)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var n=this.proxyImage=new Image;t.bind(n,"load",this),t.bind(n,"error",this),n.src=this.img.src},o.prototype.useCached=function(e){if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else{var n=this;e.on("confirm",function(e){return n.confirm(e.isLoaded,"cache emitted confirmed"),!0})}},o.prototype.confirm=function(e,n){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,n)},o.prototype.handleEvent=function(e){var n="on"+e.type;this[n]&&this[n](e)},o.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindProxyEvents()},o.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindProxyEvents()},o.prototype.unbindProxyEvents=function(){t.unbind(this.proxyImage,"load",this),t.unbind(this.proxyImage,"error",this)},s}var a=e.jQuery,l=e.console,r=void 0!==l,o=Object.prototype.toString;"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],s):e.imagesLoaded=s(e.EventEmitter,e.eventie)}(window),$.extend(Backbone.Model.prototype,{populated:!1,parse:function(e){return this.populated=!0,e}}),$.extend(Backbone.Collection.prototype,{populated:!1,parse:function(e){return this.populated=!0,e}}),function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Handlebars=n():e.Handlebars=n()}(this,function(){return function(e){function n(i){if(t[i])return t[i].exports;var s=t[i]={exports:{},id:i,loaded:!1};return e[i].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function i(){var e=new r.HandlebarsEnvironment;return h.extend(e,r),e.SafeString=c["default"],e.Exception=d["default"],e.Utils=h,e.escapeExpression=h.escapeExpression,e.VM=m,e.template=function(n){return m.template(n,e)},e}var s=t(1)["default"],a=t(2)["default"];n.__esModule=!0;var l=t(3),r=s(l),o=t(17),c=a(o),u=t(5),d=a(u),p=t(4),h=s(p),f=t(18),m=s(f),g=t(19),_=a(g),v=i();v.create=i,_["default"](v),v["default"]=v,n["default"]=v,e.exports=n["default"]},function(e,n){"use strict";n["default"]=function(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n["default"]=e,n},n.__esModule=!0},function(e,n){"use strict";n["default"]=function(e){return e&&e.__esModule?e:{"default":e}},n.__esModule=!0},function(e,n,t){"use strict";function i(e,n,t){this.helpers=e||{},this.partials=n||{},this.decorators=t||{},o.registerDefaultHelpers(this),c.registerDefaultDecorators(this)}var s=t(2)["default"];n.__esModule=!0,n.HandlebarsEnvironment=i;var a=t(4),l=t(5),r=s(l),o=t(6),c=t(14),u=t(16),d=s(u);n.VERSION="4.0.5",n.COMPILER_REVISION=7;var p={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};n.REVISION_CHANGES=p;var h="[object Object]";i.prototype={constructor:i,logger:d["default"],log:d["default"].log,registerHelper:function(e,n){if(a.toString.call(e)===h){if(n)throw new r["default"]("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=n},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,n){if(a.toString.call(e)===h)a.extend(this.partials,e);else{if(void 0===n)throw new r["default"]('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=n}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,n){if(a.toString.call(e)===h){if(n)throw new r["default"]("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=n},unregisterDecorator:function(e){delete this.decorators[e]}};var f=d["default"].log;n.log=f,n.createFrame=a.createFrame,n.logger=d["default"]},function(e,n){"use strict";function t(e){return u[e]}function i(e){for(var n=1;n<arguments.length;n++)for(var t in arguments[n])Object.prototype.hasOwnProperty.call(arguments[n],t)&&(e[t]=arguments[n][t]);return e}function s(e,n){for(var t=0,i=e.length;t<i;t++)if(e[t]===n)return t;return-1}function a(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return p.test(e)?e.replace(d,t):e}function l(e){return!e&&0!==e||!(!m(e)||0!==e.length)}function r(e){var n=i({},e);return n._parent=e,n}function o(e,n){return e.path=n,e}function c(e,n){return(e?e+".":"")+n}n.__esModule=!0,n.extend=i,n.indexOf=s,n.escapeExpression=a,n.isEmpty=l,n.createFrame=r,n.blockParams=o,n.appendContextPath=c;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},d=/[&<>"'`=]/g,p=/[&<>"'`=]/,h=Object.prototype.toString;n.toString=h;var f=function(e){return"function"==typeof e};f(/x/)&&(n.isFunction=f=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)}),n.isFunction=f;var m=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===h.call(e)};n.isArray=m},function(e,n){"use strict";function t(e,n){var s=n&&n.loc,a=undefined,l=undefined;s&&(a=s.start.line,l=s.start.column,e+=" - "+a+":"+l);for(var r=Error.prototype.constructor.call(this,e),o=0;o<i.length;o++)this[i[o]]=r[i[o]];Error.captureStackTrace&&Error.captureStackTrace(this,t),s&&(this.lineNumber=a,this.column=l)}n.__esModule=!0;var i=["description","fileName","lineNumber","message","name","number","stack"];t.prototype=new Error,n["default"]=t,e.exports=n["default"]},function(e,n,t){"use strict";function i(e){l["default"](e),o["default"](e),u["default"](e),p["default"](e),f["default"](e),g["default"](e),v["default"](e)}var s=t(2)["default"];n.__esModule=!0,n.registerDefaultHelpers=i;var a=t(7),l=s(a),r=t(8),o=s(r),c=t(9),u=s(c),d=t(10),p=s(d),h=t(11),f=s(h),m=t(12),g=s(m),_=t(13),v=s(_)},function(e,n,t){"use strict";n.__esModule=!0;var i=t(4);n["default"]=function(e){e.registerHelper("blockHelperMissing",function(n,t){var s=t.inverse,a=t.fn;if(!0===n)return a(this);if(!1===n||null==n)return s(this);if(i.isArray(n))return n.length>0?(t.ids&&(t.ids=[t.name]),e.helpers.each(n,t)):s(this);if(t.data&&t.ids){var l=i.createFrame(t.data);l.contextPath=i.appendContextPath(t.data.contextPath,t.name),t={data:l}}return a(n,t)})},e.exports=n["default"]},function(e,n,t){"use strict";var i=t(2)["default"];n.__esModule=!0;var s=t(4),a=t(5),l=i(a);n["default"]=function(e){e.registerHelper("each",function(e,n){function t(n,t,a){c&&(c.key=n,c.index=t,c.first=0===t,c.last=!!a,u&&(c.contextPath=u+n)),o+=i(e[n],{data:c,blockParams:s.blockParams([e[n],n],[u+n,null])})}if(!n)throw new l["default"]("Must pass iterator to #each");var i=n.fn,a=n.inverse,r=0,o="",c=undefined,u=undefined;if(n.data&&n.ids&&(u=s.appendContextPath(n.data.contextPath,n.ids[0])+"."),s.isFunction(e)&&(e=e.call(this)),n.data&&(c=s.createFrame(n.data)),e&&"object"==typeof e)if(s.isArray(e))for(var d=e.length;r<d;r++)r in e&&t(r,r,r===e.length-1);else{var p=undefined;for(var h in e)e.hasOwnProperty(h)&&(p!==undefined&&t(p,r-1),p=h,r++);p!==undefined&&t(p,r-1,!0)}return 0===r&&(o=a(this)),o})},e.exports=n["default"]},function(e,n,t){"use strict";var i=t(2)["default"];n.__esModule=!0;var s=t(5),a=i(s);n["default"]=function(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return undefined;throw new a["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=n["default"]},function(e,n,t){"use strict";n.__esModule=!0;var i=t(4);n["default"]=function(e){e.registerHelper("if",function(e,n){return i.isFunction(e)&&(e=e.call(this)),!n.hash.includeZero&&!e||i.isEmpty(e)?n.inverse(this):n.fn(this)}),e.registerHelper("unless",function(n,t){return e.helpers["if"].call(this,n,{fn:t.inverse,inverse:t.fn,hash:t.hash})})},e.exports=n["default"]},function(e,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("log",function(){for(var n=[undefined],t=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)n.push(arguments[i]);var s=1;null!=t.hash.level?s=t.hash.level:t.data&&null!=t.data.level&&(s=t.data.level),n[0]=s,e.log.apply(e,n)})},e.exports=n["default"]},function(e,n){"use strict";n.__esModule=!0,n["default"]=function(e){e.registerHelper("lookup",function(e,n){return e&&e[n]})},e.exports=n["default"]},function(e,n,t){"use strict";n.__esModule=!0;var i=t(4);n["default"]=function(e){e.registerHelper("with",function(e,n){i.isFunction(e)&&(e=e.call(this));var t=n.fn;if(i.isEmpty(e))return n.inverse(this);var s=n.data;return n.data&&n.ids&&(s=i.createFrame(n.data),s.contextPath=i.appendContextPath(n.data.contextPath,n.ids[0])),t(e,{data:s,blockParams:i.blockParams([e],[s&&s.contextPath])})})},e.exports=n["default"]},function(e,n,t){"use strict";function i(e){l["default"](e)}var s=t(2)["default"];n.__esModule=!0,n.registerDefaultDecorators=i;var a=t(15),l=s(a)},function(e,n,t){"use strict";n.__esModule=!0;var i=t(4);n["default"]=function(e){e.registerDecorator("inline",function(e,n,t,s){var a=e;return n.partials||(n.partials={},a=function(s,a){var l=t.partials;t.partials=i.extend({},l,n.partials);var r=e(s,a);return t.partials=l,r}),n.partials[s.args[0]]=s.fn,a})},e.exports=n["default"]},function(e,n,t){"use strict";n.__esModule=!0;var i=t(4),s={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var n=i.indexOf(s.methodMap,e.toLowerCase());e=n>=0?n:parseInt(e,10)}return e},log:function(e){if(e=s.lookupLevel(e),void 0!==console&&s.lookupLevel(s.level)<=e){var n=s.methodMap[e];console[n]||(n="log");for(var t=arguments.length,i=Array(t>1?t-1:0),a=1;a<t;a++)i[a-1]=arguments[a];console[n].apply(console,i)}}};n["default"]=s,e.exports=n["default"]},function(e,n){"use strict";function t(e){this.string=e}n.__esModule=!0,t.prototype.toString=t.prototype.toHTML=function(){return""+this.string},n["default"]=t,e.exports=n["default"]},function(e,n,t){"use strict";function i(e){var n=e&&e[0]||1,t=_.COMPILER_REVISION;if(n!==t){if(n<t){var i=_.REVISION_CHANGES[t],s=_.REVISION_CHANGES[n];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+s+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,n){function t(t,i,s){s.hash&&(i=f.extend({},i,s.hash),s.ids&&(s.ids[0]=!0)),t=n.VM.resolvePartial.call(this,t,i,s);var a=n.VM.invokePartial.call(this,t,i,s);if(null==a&&n.compile&&(s.partials[s.name]=n.compile(t,e.compilerOptions,n),a=s.partials[s.name](i,s)),null!=a){if(s.indent){for(var l=a.split("\n"),r=0,o=l.length;r<o&&(l[r]||r+1!==o);r++)l[r]=s.indent+l[r];a=l.join("\n")}return a}throw new g["default"]("The partial "+s.name+" could not be compiled when running in runtime-only mode")}function i(n){function t(n){return""+e.main(s,n,s.helpers,s.partials,l,o,r)}var a=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],l=a.data;i._setup(a),!a.partial&&e.useData&&(l=c(n,l));var r=undefined,o=e.useBlockParams?[]:undefined;return e.useDepths&&(r=a.depths?n!==a.depths[0]?[n].concat(a.depths):a.depths:[n]),(t=u(e.main,t,s,a.depths||[],l,o))(n,a)}if(!n)throw new g["default"]("No environment passed to template");if(!e||!e.main)throw new g["default"]("Unknown template object: "+typeof e);e.main.decorator=e.main_d,n.VM.checkRevision(e.compiler);var s={strict:function(e,n){if(!(n in e))throw new g["default"]('"'+n+'" not defined in '+e);return e[n]},lookup:function(e,n){for(var t=e.length,i=0;i<t;i++)if(e[i]&&null!=e[i][n])return e[i][n]},lambda:function(e,n){return"function"==typeof e?e.call(n):e},escapeExpression:f.escapeExpression,invokePartial:t,fn:function(n){var t=e[n];return t.decorator=e[n+"_d"],t},programs:[],program:function(e,n,t,i,s){var l=this.programs[e],r=this.fn(e);return n||s||i||t?l=a(this,e,r,n,t,i,s):l||(l=this.programs[e]=a(this,e,r)),l},data:function(e,n){for(;e&&n--;)e=e._parent;return e},merge:function(e,n){var t=e||n;return e&&n&&e!==n&&(t=f.extend({},n,e)),t},noop:n.VM.noop,compilerInfo:e.compiler};return i.isTop=!0,i._setup=function(t){t.partial?(s.helpers=t.helpers,s.partials=t.partials,s.decorators=t.decorators):(s.helpers=s.merge(t.helpers,n.helpers),e.usePartial&&(s.partials=s.merge(t.partials,n.partials)),(e.usePartial||e.useDecorators)&&(s.decorators=s.merge(t.decorators,n.decorators)))},i._child=function(n,t,i,l){if(e.useBlockParams&&!i)throw new g["default"]("must pass block params");if(e.useDepths&&!l)throw new g["default"]("must pass parent depths");return a(s,n,e[n],t,0,i,l)},i}function a(e,n,t,i,s,a,l){function r(n){var s=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],r=l;return l&&n!==l[0]&&(r=[n].concat(l)),t(e,n,e.helpers,e.partials,s.data||i,a&&[s.blockParams].concat(a),r)}return r=u(t,r,e,l,i,a),r.program=n,r.depth=l?l.length:0,r.blockParams=s||0,r}function l(e,n,t){return e?e.call||t.name||(t.name=e,e=t.partials[e]):e="@partial-block"===t.name?t.data["partial-block"]:t.partials[t.name],e}function r(e,n,t){t.partial=!0,t.ids&&(t.data.contextPath=t.ids[0]||t.data.contextPath);var i=undefined;if(t.fn&&t.fn!==o&&(t.data=_.createFrame(t.data),i=t.data["partial-block"]=t.fn,i.partials&&(t.partials=f.extend({},t.partials,i.partials))),e===undefined&&i&&(e=i),e===undefined)throw new g["default"]("The partial "+t.name+" could not be found");if(e instanceof Function)return e(n,t)}function o(){return""}function c(e,n){return n&&"root"in n||(n=n?_.createFrame(n):{},n.root=e),n}function u(e,n,t,i,s,a){if(e.decorator){var l={};n=e.decorator(n,l,t,i&&i[0],s,a,i),f.extend(n,l)}return n}var d=t(1)["default"],p=t(2)["default"];n.__esModule=!0,n.checkRevision=i,n.template=s,n.wrapProgram=a,n.resolvePartial=l,n.invokePartial=r,n.noop=o;var h=t(4),f=d(h),m=t(5),g=p(m),_=t(3)},function(e,n){(function(t){"use strict";n.__esModule=!0,n["default"]=function(e){var n=void 0!==t?t:window,i=n.Handlebars;e.noConflict=function(){return n.Handlebars===e&&(n.Handlebars=i),e}},e.exports=n["default"]}).call(n,function(){return this}())}])}),xing.define("profiles.settings",{mainPath:"/profile/",api:{jobSeeker:{settings:"/job_seeker.json"}}}),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates.error_message=Handlebars.template({1:function(e,n,t,i,s){return"    "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.msg:n,null!=n?n.options:n,{name:"t",hash:{},data:s}))+"\n"},3:function(e,n,t,i,s){return"    "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},n,{name:"t",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="error-message">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.msg:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?a:"")+"</div>"},useData:!0}),this.HandlebarsTemplates.error_message}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/common/legal_notice_dialog"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'    <form class="form-grid profile-form">\n      <h2><label for="legal-info">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_LEGAL_INFO_EDIT_HL",{name:"t",hash:{},data:s}))+'</label></h2>\n      <p class="description">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_LEGAL_INFO_EDIT_HINT",{name:"t",hash:{},data:s}))+'</p>\n      <textarea maxlength="5000" id="legal-info" name="content">'+e.escapeExpression((a=null!=(a=t.content||(null!=n?n.content:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"content",hash:{},data:s}):a))+'</textarea>\n\n      <div class="submit-row clfx">\n        <button class="element-form-button-solid-lime" type="submit">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n        <a href="#" class="cancel-link">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n      </div>\n    </form>\n"},3:function(e,n,t,i,s){var a,l;return"    <h2>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_LEGAL_INFO_HL",{name:"t",hash:{name:null!=n?n.name:n},data:s
}))+'</h2>\n    <div class="formatted-text">'+(null!=(l=null!=(l=t.display_content||(null!=n?n.display_content:n))?l:t.helperMissing,a="function"==typeof l?l.call(null!=n?n:{},{name:"display_content",hash:{},data:s}):l)?a:"")+"</div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l,r,o='<div class="profile-legal-notice-dialog">\n\n  <div class="spinner big-spinner"></div>\n\n';return l=null!=(l=t.isCurrentUser||(null!=n?n.isCurrentUser:n))?l:t.helperMissing,r={name:"isCurrentUser",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},a="function"==typeof l?l.call(null!=n?n:{},r):l,t.isCurrentUser||(a=t.blockHelperMissing.call(n,a,r)),null!=a&&(o+=a),l=null!=(l=t.isCurrentUser||(null!=n?n.isCurrentUser:n))?l:t.helperMissing,r={name:"isCurrentUser",hash:{},fn:e.noop,inverse:e.program(3,s,0),data:s},a="function"==typeof l?l.call(null!=n?n:{},r):l,t.isCurrentUser||(a=t.blockHelperMissing.call(n,a,r)),null!=a&&(o+=a),o+"</div>"},useData:!0}),this.HandlebarsTemplates["sections/common/legal_notice_dialog"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/common/notification"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div title="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CLOSEWINDOW",{name:"t",hash:{},data:s}))+'">\n  '+(null!=(a=e.lambda(n,n))?a:"")+'\n  <a href="#" class="close" title="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CLOSEWINDOW",{name:"t",hash:{},data:s}))+'">X</a>\n</div>'},useData:!0}),this.HandlebarsTemplates["sections/common/notification"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/common/profile_preview_msg"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="profile-preview-msg">\n  <h1>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PREVIEW_LIGHTBOX_H1",{name:"t",hash:{},data:s}))+"</h1>\n  <p>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PREVIEW_LIGHTBOX_P",{name:"t",hash:{},data:s}))+'</p>\n\n  <div class="clfx">\n    <a href="/profile/'+e.escapeExpression((a=null!=(a=t.pageName||(null!=n?n.pageName:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"pageName",hash:{},data:s}):a))+'" class="element-form-button-solid-lime">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PREVIEW_LIGHTBOX_BACK_BTN",{name:"t",hash:{},data:s}))+'</a>\n    <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates["sections/common/profile_preview_msg"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/awards_form"]=Handlebars.template({1:function(e,n,t,i,s,a,l){var r;return'            <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].year:l[1],{name:"is",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+" >"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},2:function(){return"selected"},4:function(e,n,t,i,s){return'      <button type="button" class="element-form-button-solid-gray fl" id="delete-award" >'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_AWARDS",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <div class="entry line form-row">\n    <div class="unit size1of3">\n      <div class="mod labeled">\n        <label for="award-year">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_YEAR_HL",{name:"t",hash:{},data:s}))+'</label>\n        <select\n          name="year"\n          id="award-year">\n          <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.years:n,{name:"each",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="entry line form-row">\n    <div class="unit size1of1">\n      <div class="mod labeled">\n        <label for="award-name">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_AWARDS_NAME",{name:"t",hash:{},data:s}))+' *:</label>\n        <input\n          type="text"\n          class="text"\n          name="name"\n          id="award-name"\n          placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_AWARDS_NAME_EXAMPLE",{name:"t",hash:{},data:s}))+'"\n          value="'+e.escapeExpression((o=null!=(o=t.name||(null!=n?n.name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"name",hash:{},data:s}):o))+'">\n      </div>\n    </div>\n  </div>\n\n  <div class="entry line form-row">\n    <div class="unit size1of1">\n      <div class="mod labeled">\n        <label for="award-url">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_AWARDS_URL",{name:"t",hash:{},data:s}))+':</label>\n        <input\n          type="text"\n          class="text"\n          name="url"\n          id="award-url"\n          placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_AWARDS_URL_EXAMPLE",{name:"t",hash:{},data:s}))+'"\n          value="'+e.escapeExpression((o=null!=(o=t.url||(null!=n?n.url:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"url",hash:{},data:s}):o))+'">\n      </div>\n    </div>\n  </div>\n\n  <div class="submit-row clfx">\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.name:n,{name:"if",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</form>"},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/cv/awards_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/birth_date_form"]=Handlebars.template({1:function(e,n,t,i,s,a,l){var r,o;return'              <option value="'+e.escapeExpression((o=null!=(o=t.value||(null!=n?n.value:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"value",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,null!=l[1]?l[1].day:l[1],{name:"is",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+" >"+e.escapeExpression((o=null!=(o=t.name||(null!=n?n.name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"name",hash:{},data:s}):o))+"</option>\n"},2:function(){return"selected"},4:function(e,n,t,i,s,a,l){var r,o;return'              <option value="'+e.escapeExpression((o=null!=(o=t.value||(null!=n?n.value:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"value",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,null!=l[1]?l[1].month:l[1],{name:"is",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+" >"+e.escapeExpression((o=null!=(o=t.name||(null!=n?n.name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"name",hash:{},data:s}):o))+"</option>\n"},6:function(e,n,t,i,s,a,l){var r;return'              <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].year:l[1],{name:"is",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+" >"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_BIRTHDATE",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <ul class="date-inputs-container">\n\n    <li class="form-row line">\n      <div class="unit size1of3">\n        <div class="mod labeled">\n          <label for="birth_date_day">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DAY_HL",{name:"t",hash:{},data:s}))+'</label>\n          <select name="day" id="birth_date_day">\n            <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.days:n,{name:"each",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'          </select>\n        </div>\n      </div>\n\n      <div class="unit size1of3">\n        <div class="mod labeled">\n          <label for="birth_date_month">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_MONTH_HL",{name:"t",hash:{},data:s}))+'</label>\n          <select name="month" maxlength="100" id="birth_date_month">\n            <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.months:n,{name:"each",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'          </select>\n        </div>\n      </div>\n\n      <div class="unit size1of3">\n        <div class="mod labeled">\n          <label for="birth_date_year">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_YEAR_HL",{name:"t",hash:{},data:s}))+'</label>\n          <select name="year" id="birth_date_year">\n            <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.years:n,{name:"each",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'          </select>\n        </div>\n      </div>\n    </li>\n  </ul>\n\n  <div class="submit-row clfx">\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</form>"},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/cv/birth_date_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/education_form"]=Handlebars.template({1:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=n?n.primary_school:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?a:""},2:function(e,n,t,i,s){return'          <input type="hidden" name="primary_school" value="1">\n          <span class="icon-links icn icn-ext-hint-yes"></span>\n          <div class="overflow">\n            <h5 class="mb5">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_PRIMARY_SCHOOL_HEADLINE",{name:"t",hash:{},data:s}))+"</h5>\n            <p>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_PRIMARY_SCHOOL_INFO",{name:"t",hash:{},data:s}))+"</p>\n          </div>\n"},4:function(e,n,t,i,s){return'          <label for="primary-school" class="simpletext">\n            <input type="checkbox" id="primary-school" name="primary_school">\n              '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_PRIMARY_SCHOOL_LABEL",{name:"t",hash:{},data:s}))+"\n          </label>\n"},6:function(){return"*"},8:function(e,n,t,i,s,a,l){var r,o;return'                  <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].begin_date_month:l[1],{name:"is",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},9:function(){return" selected"},11:function(e,n,t,i,s,a,l){var r;return'                  <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].begin_date_year:l[1],{name:"is",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},13:function(e,n,t,i,s,a,l){var r,o;return'                    <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].end_date_month:l[1],{name:"is",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},15:function(e,n,t,i,s,a,l){var r;return'                    <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].end_date_year:l[1],{name:"is",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},17:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=n?n.id:n,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?a:""},18:function(e,n,t,i,s){return'        <button type="button" class="element-form-button-solid-gray fl" id="delete" >'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</button>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_EDUCATION",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <ul>\n    <li class="line form-row">\n      <div class="unit size1of1">\n        <div class="mod labeled">\n          <label for="school-name">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_UNIVERSITY",{name:"t",hash:{},data:s}))+'*: </label>\n          <input type="text"\n                 class="text"\n                 name="school_name"\n                 id="school-name"\n                 value="'+e.escapeExpression((o=null!=(o=t.school_name||(null!=n?n.school_name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"school_name",hash:{},data:s}):o))+'"\n                 data-ds-suggestor=\'{"type": "profiles", "field": "university", "consumer": "loggedin.web.profiles.university.center"}\'>\n        </div>\n      </div>\n    </li>\n\n    <li class="line form-row">\n      <div class="unit size1of1">\n        <div class="mod labeled">\n'+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.employment_status:n,"student",{name:"is",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'        </div>\n      </div>\n    </li>\n\n    <li class="line form-row">\n      <div class="unit size1of2">\n        <div class="mod labeled">\n          <label for="subject">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_SUBJECT",{name:"t",hash:{},data:s}))+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.employment_status:n,"student",{name:"is",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+': </label>\n          <input type="text"\n                 class="text"\n                 name="subject"\n                 id="subject"\n                 value="'+e.escapeExpression((o=null!=(o=t.subject||(null!=n?n.subject:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"subject",hash:{},data:s}):o))+'"\n                 data-ds-suggestor=\'{"type": "profiles", "field": "fieldofstudy", "consumer": "loggedin.web.profiles.fieldofstudy.center"}\'>\n        </div>\n      </div>\n      <div class="unit size1of2" data-qa="1365518168">\n        <div class="mod labeled">\n          <label for="degree">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_DEGREE",{name:"t",hash:{},data:s}))+':</label>\n          <input type="text" class="text" name="degree" id="degree" value="'+e.escapeExpression((o=null!=(o=t.degree||(null!=n?n.degree:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"degree",hash:{},data:s}):o))+'">\n        </div>\n      </div>\n    </li>\n\n    <li class="line form-row small-screen-hack">\n      <div class="unit size1of1">\n        <fieldset class="mod labeled dates">\n          <legend for="begin-year">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_DURATION",{name:"t",hash:{},data:s}))+':</legend>\n\n          <div class="first-size1of6 unit size1of6">\n            <div class="mod">\n              <select name="begin_date_month" id="begin-month">\n                <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.months:n,{name:"each",hash:{},fn:e.program(8,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'              </select>\n            </div>\n          </div>\n\n          <div class="unit size1of6">\n            <div class="mod">\n              <select name="begin_date_year" id="begin-year">\n                <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.begin_years:n,{name:"each",hash:{},fn:e.program(11,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'              </select>\n            </div>\n          </div>\n\n          <div id="current">\n            <div class="unit small-screen-hack-size1of1 small-screen-hack-ml-24">\n              <div class="mod">\n                <span class="seperator" for="end-year">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DURATION_SEPERATOR",{name:"t",hash:{},data:s}))+'</span>\n              </div>\n            </div>\n\n            <div class="unit size1of6">\n              <div class="mod">\n                <select name="end_date_month" id="end-month">\n                  <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.months:n,{name:"each",hash:{},fn:e.program(13,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                </select>\n              </div>\n            </div>\n\n            <div class="unit size1of6">\n              <div class="mod">\n                <select name="end_date_year" id="end-year">\n                  <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.end_years:n,{name:"each",hash:{},fn:e.program(15,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                </select>\n              </div>\n            </div>\n          </fieldset>\n        </div>\n      </div>\n    </li>\n\n    <li class="line form-row">\n      <div class="unit size1of1">\n        <div class="mod labeled">\n          <label for="school-notes">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_NOTES",{name:"t",hash:{},data:s}))+':</label>\n          <textarea class="text" name="school_notes" id="school-notes">'+e.escapeExpression((o=null!=(o=t.school_notes||(null!=n?n.school_notes:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"school_notes",hash:{},data:s}):o))+'</textarea>\n        </div>\n      </div>\n    </li>\n  </ul>\n\n  <div class="submit-row clfx">\n'+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.primary_school:n,{name:"unless",hash:{},fn:e.program(17,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n\n</form>"},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/cv/education_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/interests_form"]=Handlebars.template({1:function(e,n,t,i,s){var a,l;return'      <li class="entry line form-row">\n        <div class="unit size1of1">\n          <div class="mod">\n            <input type="text"\n                   name="'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.id:n,{name:"if",hash:{},fn:e.program(2,s,0),inverse:e.program(4,s,0),data:s}))?a:"")+'"\n                   class="text"\n                   value="'+e.escapeExpression((l=null!=(l=t.description||(null!=n?n.description:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"description",hash:{},data:s}):l))+'"\n                   maxlength="200"\n                   data-ds-suggestor=\'{"type": "profiles", "field": "interest", "consumer": "loggedin.web.profiles.interest.center"}\'>\n            <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n          </div>\n        </div>\n      </li>\n"},2:function(e,n,t,i,s){var a;return e.escapeExpression((a=null!=(a=t.id||(null!=n?n.id:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"id",hash:{},data:s}):a))},4:function(){return"interests"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_INTERESTS",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <ul class="entry-container">\n\n'+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.interests:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'\n    <li class="entry line form-row">\n      <div class="unit size1of1">\n        <div class="mod">\n          <input type="text"\n                 name="interests"\n                 class="text"\n                 placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CV_INTERESTS_INLINE_HINT",{name:"t",hash:{},data:s}))+'"\n                 maxlength="200"\n                 data-ds-suggestor=\'{"type": "profiles", "field": "interest", "consumer": "loggedin.web.profiles.interest.center"}\'>\n          <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+'</span></div>\n        </div>\n      </div>\n    </li>\n\n  </ul>\n\n  <div class="submit-row clfx">\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</form>"},useData:!0}),this.HandlebarsTemplates["sections/cv/interests_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/language_skill_entry"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'          <option value="'+e.escapeExpression((a=null!=(a=t.key||s&&s.key)?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"key",hash:{},data:s}):a))+'">'+e.escapeExpression(e.lambda(n,n))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return'<li class="entry line form-row language_entry">\n  <div class="unit size2of3">\n    <div class="mod">\n      <div\n        class="language language-level-0"\n        data-level="0"\n        data-language="'+e.escapeExpression((l=null!=(l=t.language||(null!=n?n.language:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"language",hash:{},data:s}):l))+'">\n        <div>'+e.escapeExpression((l=null!=(l=t.language_full||(null!=n?n.language_full:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"language_full",hash:{},data:s}):l))+'</div>\n      </div>\n    </div>\n  </div>\n\n  <div class="unit size1of3">\n    <div class="mod">\n      <select name="skill_level">\n        <option value="">-</option>\n'+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.language_skill_levels:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'      </select>\n      <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n    </div>\n  </div>\n</li>\n"},useData:!0}),this.HandlebarsTemplates["sections/cv/language_skill_entry"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/language_skills_form"]=Handlebars.template({1:function(e,n,t,i,s,a,l){var r;return'    <li class="entry line form-row language_entry">\n      <div class="unit size2of3">\n        <div class="mod">\n          <div\n            class="language language-level-'+e.escapeExpression(e.lambda(null!=n?n.skill_level_id:n,n))+'"\n            data-level="'+e.escapeExpression(e.lambda(null!=n?n.skill_level_id:n,n))+'"\n            data-language="'+e.escapeExpression(e.lambda(null!=n?n.language:n,n))+'">\n            <div>'+e.escapeExpression(e.lambda(null!=n?n.language_full:n,n))+"</div>\n          </div>\n        </div>\n      </div>\n\n"+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.additional:n,{name:"unless",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=(t.isNot||n&&n.isNot||t.helperMissing).call(null!=n?n:{},null!=n?n.language:n,null!=l[1]?l[1].system_language:l[1],{name:"isNot",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n    </li>\n"},2:function(e,n,t,i,s,a,l){var r;return'      <div class="unit size1of3">\n        <div class="mod">\n          <select name="skill_level">\n            <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=l[1]?l[1].language_skill_levels:l[1],{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"          </select>\n        </div>\n      </div>\n"},3:function(e,n,t,i,s,a,l){var r,o;return'              <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].skill_level_id:l[1],{name:"is",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},4:function(){return"selected"},6:function(e,n,t,i,s){return'        <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n"},8:function(){return"display: none"},10:function(e,n,t,i,s,a,l){var r,o;return'            <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.isIn||n&&n.isIn||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].spoken_languages:l[1],{name:"isIn",hash:{},fn:e.program(11,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},11:function(){return'disabled="disabled"'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r;return'<form id="language-skills-form" class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_LANGUAGES",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <ul class="entry-container">\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.language_skills:n,{name:"each",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n    <li id="other_language" class="entry line form-row other_language" style="display: none;">\n      <div class="unit size1of1">\n        <div class="mod">\n          <input type="text" class="text" name="other_language" placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_LANGUAGE_OTHER_INLINE_HINT",{name:"t",hash:{},data:s}))+'">\n          <div class="add-entry add-fields" style="display: none;"><span>+</span></div>\n        </div>\n      </div>\n    </li>\n\n  </ul>\n\n  <hr style="'+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.language_skills:n,{name:"unless",hash:{},fn:e.program(8,s,0,a,l),inverse:e.noop,data:s}))?r:"")+';">\n\n  <div class="entry line form-row">\n    <div class="unit size1of1">\n      <div class="mod">\n        <select name="languages" id="languages">\n          <option value="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_LANGUAGE_ADD",{name:"t",hash:{},data:s}))+"</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.languages:n,{name:"each",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'           <option value="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_LANGUAGE_OTHER",{name:"t",hash:{},data:s}))+'">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_LANGUAGE_OTHER",{name:"t",hash:{},data:s}))+'</option>\n        </select>\n      </div>\n    </div>\n  </div>\n\n  <div class="submit-row clfx">\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n\n</form>"},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/cv/language_skills_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/organizations_form"]=Handlebars.template({1:function(e,n,t,i,s){return'      <li class="entry line form-row">\n        <div class="unit size1of1">\n          <div class="mod">\n            <input type="text" class="text" name="organizations" value="'+e.escapeExpression(e.lambda(null!=n?n.description:n,n))+'" maxlength="200">\n            <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n          </div>\n        </div>\n      </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_HL_ORGANISATIONS",{name:"t",hash:{},data:s
}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <ul class="entry-container">\n\n'+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.organizations:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'\n    <li class="entry line form-row">\n      <div class="unit size1of1">\n        <div class="mod">\n         <input type="text" class="text" name="organizations" placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CV_ORG_INLINE_HINT",{name:"t",hash:{},data:s}))+'">\n         <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+'</span></div>\n        </div>\n      </div>\n    </li>\n\n  </ul>\n\n  <div class="submit-row clfx">\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</form>"},useData:!0}),this.HandlebarsTemplates["sections/cv/organizations_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/qualifications_form"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'      <li class="entry line form-row">\n        <div class="unit size1of1">\n          <div class="mod">\n            <input\n              type="text"\n              class="text"\n              name="'+e.escapeExpression((a=null!=(a=t.id||(null!=n?n.id:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"id",hash:{},data:s}):a))+'"\n              placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CV_QUALIFICATION_INLINE_HINT",{name:"t",hash:{},data:s}))+'"\n              value="'+e.escapeExpression((a=null!=(a=t.description||(null!=n?n.description:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"description",hash:{},data:s}):a))+'"\n              maxlength="80">\n            <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n          </div>\n        </div>\n      </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_QUALIFICATIONS",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <ul class="entry-container">\n\n'+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.qualifications:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'\n    <li class="entry line form-row">\n      <div class="unit size1of1">\n        <div class="mod">\n          <input\n            type="text"\n            class="text"\n            name="qualifications"\n            placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CV_QUALIFICATION_INLINE_HINT",{name:"t",hash:{},data:s}))+'"\n            maxlength="80">\n          <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+'</span></div>\n        </div>\n      </div>\n    </li>\n\n  </ul>\n\n  <div class="submit-row clfx">\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</form>"},useData:!0}),this.HandlebarsTemplates["sections/cv/qualifications_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/references_confirmation_form"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="spinner"></div>\n\n<form class="profile-form" method="delete" action="/profile/'+e.escapeExpression((a=null!=(a=t.profile_id||(null!=n?n.profile_id:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"profile_id",hash:{},data:s}):a))+"/references/"+e.escapeExpression((a=null!=(a=t.reference_id||(null!=n?n.reference_id:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"reference_id",hash:{},data:s}):a))+'">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DELETE_REFERENCE_HEADLINE",{name:"t",hash:{},data:s}))+'</h2>\n\n  <div class="submit-row clfx">\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_OK",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</form>"},useData:!0}),this.HandlebarsTemplates["sections/cv/references_confirmation_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/sub_industries"]=Handlebars.template({1:function(){return" selected"},3:function(e,n,t,i,s,a,l){var r;return'      <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.id:n,null!=l[1]?l[1].industry_id:l[1],{name:"is",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.name:n,n))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r;return'<div class="mod labeled">\n  <label for="sub_industry">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_INDUSTRY_2ND_LEVEL",{name:"t",hash:{},data:s}))+':</label>\n  <select name="sub_industry_id" id="sub-industry">\n    <option value="" '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.industry_id:n,{name:"unless",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">---</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.sub_industries:n,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"  </select>\n</div>"},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/cv/sub_industries"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/cv/work_experience_form"]=Handlebars.template({1:function(e,n,t,i,s,a,l){var r,o;return"    <h4>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_SUB_HL_POSITION",{name:"t",hash:{},data:s}))+'</h4>\n    <ul>\n      <li class="line form-row" data-qa="1365429947">\n        <div class="unit size1of2">\n          <div class="mod labeled">\n            <label for="job-title">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_JOB_TITLE",{name:"t",hash:{},data:s}))+'*:</label>\n            <input type="text"\n                   class="text"\n                   name="job_title"\n                   id="job-title"\n                   value="'+e.escapeExpression((o=null!=(o=t.job_title||(null!=n?n.job_title:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"job_title",hash:{},data:s}):o))+'"\n                   data-ds-suggestor=\'{"type": "profiles", "field": "jobrole", "consumer": "loggedin.web.profiles.add_work_experience.center"}\'>\n          </div>\n        </div>\n\n        <div class="unit size1of2" data-qa="1365517834">\n          <div class="mod labeled">\n            <label for="status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_JOB_STATUS",{name:"t",hash:{},data:s}))+'*:</label>\n            <select name="status_id" id="status">\n              '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.status_id:n,{name:"unless",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.job_statuses:n,{name:"each",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n      </li>\n\n      <li class="line form-row hide '+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.job_title:n,{name:"if",hash:{},fn:e.program(7,s,0,a,l),inverse:e.noop,data:s}))?r:"")+' position-optional" >\n        <div class="unit size1of2">\n          <div class="mod labeled">\n            <label for="discipline">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DISCIPLINE",{name:"t",hash:{},data:s}))+':</label>\n            <select name="discipline_id" id="discipline">\n              <option value="" '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.discipline_id:n,{name:"unless",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">---</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.disciplines:n,{name:"each",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n        <div class="unit size1of2">\n          <div class="mod labeled">\n            <label for="level">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_LEVEL",{name:"t",hash:{},data:s}))+':</label>\n            <select name="level_id" id="level">\n              <option value="" '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.level_id:n,{name:"unless",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">---</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.job_levels:n,{name:"each",hash:{},fn:e.program(11,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n      </li>\n\n      <li class="line form-row hide '+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.job_title:n,{name:"if",hash:{},fn:e.program(7,s,0,a,l),inverse:e.noop,data:s}))?r:"")+' position-optional">\n        <div class="unit size1of1">\n          <div class="mod labeled">\n            <label for="company-notes">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_DESC_POS",{name:"t",hash:{},data:s}))+':</label>\n            <textarea class="text" name="company_notes" id="company-notes">'+e.escapeExpression((o=null!=(o=t.company_notes||(null!=n?n.company_notes:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_notes",hash:{},data:s}):o))+"</textarea>\n          </div>\n        </div>\n      </li>\n    </ul>\n\n\n    <h4>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_SUB_HL_COMPANY",{name:"t",hash:{},data:s}))+'</h4>\n    <ul>\n\n      <li class="line form-row" data-qa="1365518717">\n        <div class="unit size1of1">\n          <div class="mod labeled">\n            <label for="company-name">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_COMPANY",{name:"t",hash:{},data:s}))+'*:</label>\n            <input type="text"\n                   class="text"\n                   name="company_name"\n                   id="company-name"\n                   value="'+e.escapeExpression((o=null!=(o=t.company_name||(null!=n?n.company_name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):o))+'"\n                   data-ds-suggestor=\'{"type": "companies", "field": "name", "consumer": "loggedin.web.profiles.add_work_experience.center"}\'>\n          </div>\n        </div>\n      </li>\n\n      <li class="line form-row">\n        <div class="unit size1of2" data-qa="1365518168">\n          <div class="mod labeled">\n            <label for="industry">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_INDUSTRY",{name:"t",hash:{},data:s}))+'*:</label>\n            <select name="industry_id" id="industry">\n              '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.industry_id:n,{name:"unless",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.industries:n,{name:"each",hash:{},fn:e.program(13,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n        <div class="unit size1of2 hide '+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.sub_industries:n,{name:"if",hash:{},fn:e.program(7,s,0,a,l),inverse:e.noop,data:s}))?r:"")+' industry-optional" data-qa="1365518168">\n          <div class="mod labeled">\n            <label for="sub-industry">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_INDUSTRY_2ND_LEVEL",{name:"t",hash:{},data:s}))+':</label>\n            <select name="sub_industry_id" id="sub-industry">\n              <option value="" '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.industry_id:n,{name:"unless",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">---</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.sub_industries:n,{name:"each",hash:{},fn:e.program(15,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n      </li>\n\n      <li class="line form-row hide '+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.company_name:n,{name:"if",hash:{},fn:e.program(17,s,0,a,l),inverse:e.noop,data:s}))?r:"")+' company-optional">\n        <div class="unit size1of2">\n          <div class="mod labeled">\n            <label for="org-type">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_ORG_TYPE",{name:"t",hash:{},data:s}))+':</label>\n            <select name="org_type_id" id="org-type">\n              <option value="" '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.org_type_id:n,{name:"unless",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">---</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.organization_types:n,{name:"each",hash:{},fn:e.program(19,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n        <div class="unit size1of2">\n          <div class="mod labeled">\n            <label for="company-size">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_COMPANY_SIZE",{name:"t",hash:{},data:s}))+':</label>\n            <select name="company_size_id" id="company-size">\n              <option value="" '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.company_size_id:n,{name:"unless",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">---</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.company_sizes:n,{name:"each",hash:{},fn:e.program(21,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n      </li>\n\n      <li class="line form-row hide '+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.company_name:n,{name:"if",hash:{},fn:e.program(17,s,0,a,l),inverse:e.noop,data:s}))?r:"")+' company-optional">\n        <div class="unit size1of2">\n          <div class="mod labeled">\n            <label for="company-url">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_COMPANY_URL",{name:"t",hash:{},data:s}))+':</label>\n            <input type="text" class="text" name="company_url" id="company-url" value="'+e.escapeExpression((o=null!=(o=t.company_url||(null!=n?n.company_url:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_url",hash:{},data:s}):o))+'">\n          </div>\n        </div>\n      </li>\n    </ul>\n\n    <h4>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_SUB_HL_DURATION",{name:"t",hash:{},data:s}))+'</h4>\n    <ul>\n      <li class="line form-row small-screen-hack">\n        <div class="unit size1of3">\n          <div class="mod labeled">\n            <label for="begin-month">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_PERIOD_START",{name:"t",hash:{},data:s}))+':</label>\n            <div class="unit first-size">\n              <div class="mod month">\n                <select name="begin_date_month" id="begin-month">\n                  <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.months:n,{name:"each",hash:{},fn:e.program(23,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                </select>\n              </div>\n            </div>\n\n            <div class="unit">\n              <div class="mod year">\n                <select name="begin_date_year" id="begin-year">\n                  <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.begin_years:n,{name:"each",hash:{},fn:e.program(25,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div id="current" class="unit size1of3 hide '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.current_company:n,{name:"unless",hash:{},fn:e.program(7,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'">\n          <div class="mod labeled">\n            <label for="end-year">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_PERIOD_END",{name:"t",hash:{},data:s}))+':</label>\n            <div class="unit first-size small-screen-hack-ml-24">\n              <div class="mod month">\n                <select name="end_date_month" id="end-month">\n                  <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.months:n,{name:"each",hash:{},fn:e.program(27,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                </select>\n              </div>\n            </div>\n\n            <div class="unit">\n              <div class="mod year">\n                <select name="end_date_year" id="end-year">\n                  <option value="">---</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.end_years:n,{name:"each",hash:{},fn:e.program(29,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                </select>\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div class="unit size1of3">\n          <div class="mod">\n            <label for="current-company" class="simpletext">\n              <input type="checkbox" id="current-company" name="current_company" '+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.current_company:n,{name:"if",hash:{},fn:e.program(31,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">\n              "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_STILL_IN_POSITION",{name:"t",hash:{},data:s}))+'\n            </label>\n          </div>\n        </div>\n\n      </li>\n    </ul>\n\n    <ul class="without-headline" id="primary-job">\n      <li class="line" data-qa="1365429947">\n        <div class="unit size1of1">\n'+(null!=(r=(t.isNot||n&&n.isNot||t.helperMissing).call(null!=n?n:{},null!=n?n.employment_status:n,"student",{name:"isNot",hash:{},fn:e.program(33,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'        </div>\n      </li>\n    </ul>\n\n    <div class="submit-row clfx">\n'+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.primary_job:n,{name:"unless",hash:{},fn:e.program(38,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'      <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n      <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n    </div>\n\n"},2:function(){return'<option value="" selected>---</option>'},4:function(e,n,t,i,s,a,l){var r,o;return'                <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].status_id:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},5:function(){return" selected"},7:function(){return"show"},9:function(e,n,t,i,s,a,l){var r;return'                <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.id:n,null!=l[1]?l[1].discipline_id:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.discipline:n,n))+"</option>\n"},11:function(e,n,t,i,s,a,l){var r,o;return'                <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].level_id:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},13:function(e,n,t,i,s,a,l){var r;return'                <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(r=(t.isFirstIndustryLevel||n&&n.isFirstIndustryLevel||t.helperMissing).call(null!=n?n:{},null!=n?n.id:n,null!=l[1]?l[1].industry_id:l[1],{name:"isFirstIndustryLevel",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.name:n,n))+"</option>\n"},15:function(e,n,t,i,s,a,l){var r;return'                <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.id:n,null!=l[1]?l[1].industry_id:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.name:n,n))+"</option>\n"},17:function(){return" show"},19:function(e,n,t,i,s,a,l){var r,o;return'                <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].org_type_id:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},21:function(e,n,t,i,s,a,l){var r,o;return'                <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].company_size_id:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},23:function(e,n,t,i,s,a,l){var r,o;return'                    <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].begin_date_month:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},25:function(e,n,t,i,s,a,l){var r;return'                    <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].begin_date_year:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},27:function(e,n,t,i,s,a,l){var r,o;return'                    <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[1]?l[1].end_date_month:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},29:function(e,n,t,i,s,a,l){var r;return'                    <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].end_date_year:l[1],{name:"is",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},31:function(){return"checked"},33:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=n?n.primary_job:n,{name:"if",hash:{},fn:e.program(34,s,0),inverse:e.program(36,s,0),data:s}))?a:""},34:function(e,n,t,i,s){return'              <div class="mod">\n                <input type="hidden" name="primary_job" value="1" id="primary_job">\n                <span class="icon-links icn icn-ext-hint-yes"></span>\n                <div class="overflow">\n                  <p class="mb5">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_PRIMARY_JOB",{name:"t",hash:{},data:s}))+"</p>\n                  <p>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_CHANGE_PRIMARY_JOB_EXPL",{name:"t",hash:{},data:s}))+"</p>\n                </div>\n              </div>\n"},36:function(e,n,t,i,s){return'              <div class="mod labeled">\n                <label for="primary-job">\n                  <input type="checkbox" id="primary-job" name="primary_job">\n                    '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WE_PRIMARY_JOB",{name:"t",hash:{},data:s}))+"\n                </label>\n              </div>\n"},38:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=n?n.id:n,{name:"if",hash:{},fn:e.program(39,s,0),inverse:e.noop,data:s}))?a:""},39:function(e,n,t,i,s){return'          <button type="button" class="element-form-button-solid-gray fl" id="delete" >'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</button>\n"},41:function(){return'  <div class="loading-indicator">\n    <img width="16" height="16" alt="" src="/img/v/ajax_wait_r1.gif">\n  </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_WORK_EXP",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.hasData:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.program(41,s,0,a,l),data:s}))?r:"")+"\n</form>"},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/cv/work_experience_form"]}.call(this),function(){Handlebars.registerPartial("sections/filling_wizard/_close_card",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<a title="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CLOSE",{name:"t",hash:{},data:s}))+'" class="icn icn-ext-ctr-close close-wizard" href="'+e.escapeExpression(e.lambda(null!=n?n.close_url:n,n))+'" rel="nofollow">\n  <img src="'+e.escapeExpression((a=null!=(a=t.transparentImage||(null!=n?n.transparentImage:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"transparentImage",hash:{},data:s}):a))+'" width="12px" height="12px" alt="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CLOSE",{name:"t",hash:{},data:s}))+'">\n</a>\n'},useData:!0}))}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/academic_degree_card"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-academic-degree-card" class="card-content person-badge">\n  <h3>'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?a:"")+'</h3>\n  <form>\n    <ul>\n      <li class="line">\n        <div class="unit size1of2">\n          <div class="mod">\n            <input\n              id="academic-degree-input"\n              type="text"\n              class="text"\n              name="academic_degree"\n              placeholder=\''+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholder:n,{name:"t",hash:{},data:s}))+"'\n              value=\""+e.escapeExpression((l=null!=(l=t.academicDegree||(null!=n?n.academicDegree:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"academicDegree",hash:{},data:s}):l))+'">\n          </div>\n        </div>\n      </li>\n    </ul>\n  </form>\n</div>\n\n'+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/academic_degree_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/business_address_card"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'      <img src="'+e.escapeExpression((a=null!=(a=t.company_logo||(null!=n?n.company_logo:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"company_logo",hash:{},data:s}):a))+'" alt="'+e.escapeExpression((a=null!=(a=t.company_name||(null!=n?n.company_name:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):a))+'"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-business-address-card" class="card-content company-badge">\n  <h3>'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{company_name:null!=n?n.company_name:n},data:s}))?a:"")+'</strong></h3>\n  <div class="business-address-card data-wrapper edit-mode">\n    <a href="#" class="edit-icon foundation-icon foundation-icon-core-edit"><%= I18n.t("PROFILERAILS_CV_EDIT_CONTENT") %></a>\n\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.company_logo:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'    <div class="company-details">\n      <p>'+e.escapeExpression((l=null!=(l=t.company_street||(null!=n?n.company_street:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"company_street",hash:{},data:s}):l))+"</p>\n      <p>"+e.escapeExpression((l=null!=(l=t.company_zip||(null!=n?n.company_zip:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"company_zip",hash:{},data:s}):l))+" "+e.escapeExpression((l=null!=(l=t.company_city||(null!=n?n.company_city:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"company_city",hash:{},data:s}):l))+'</p>\n      <p class="mb0">\n        '+e.escapeExpression((t.join||n&&n.join||t.helperMissing).call(null!=n?n:{},null!=n?n.company_province:n,null!=n?n.company_country_name:n,{name:"join",hash:{},data:s
}))+"\n      </p>\n    </div>\n  </div>\n</div>\n\n"+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/business_address_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/business_city_card"]=Handlebars.template({1:function(e,n,t,i,s){var a;return e.escapeExpression((a=null!=(a=t.business_city||(null!=n?n.business_city:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"business_city",hash:{},data:s}):a))},3:function(e,n,t,i,s){return e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholder:n,{name:"t",hash:{},data:s}))},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-business-location-card" class="card-content company-badge">\n  <h3>'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{company_name:null!=n?n.company_name:n},data:s}))?a:"")+'</h3>\n  <form class="company-details">\n    <ul>\n      <li class="line">\n        <div class="unit size1of2">\n          <div class="mod">\n            <input\n              id="location-input"\n              type="text"\n              class="text"\n              name="business_city"\n              placeholder=\''+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.business_city:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?a:"")+'\'\n              value=""\n              data-ds-suggestor=\'{"type": "locations", "field": "city", "consumer": "loggedin.web.profiles.contact_details.business_contact_city.center"}\'>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </form>\n</div>\n\n'+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/business_city_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/contact_reco_card"]=Handlebars.template({1:function(){return'              style="display: none;"\n'},3:function(e,n,t,i,s,a,l){var r;return"        <li>\n          <ul>\n\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.recos:n,{name:"each",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"          </ul>\n        </li>\n"},4:function(e,n,t,i,s,a,l){var r;return(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.isLastCard:n,{name:"if",hash:{},fn:e.program(5,s,0,a,l),inverse:e.program(7,s,0,a,l),data:s}))?r:"")+"\n"},5:function(e,n,t,i,s){var a;return'                <li>\n                  <a class="reco more-recos" href="'+e.escapeExpression((a=null!=(a=t.url||(null!=n?n.url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"url",hash:{},data:s}):a))+'" target="_blank">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_CONTACT_RECO_CARD_MORE",{name:"t",hash:{},data:s}))+"</a>\n                </li>\n"},7:function(e,n,t,i,s,a,l){var r,o;return'                <li>\n                  <a href="'+e.escapeExpression((o=null!=(o=t.link||(null!=n?n.link:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"link",hash:{},data:s}):o))+"?sc_o="+e.escapeExpression(e.lambda(null!=l[2]?l[2].omnitureValue:l[2],n))+'"\n                     class="reco"\n                     title="'+e.escapeExpression((o=null!=(o=t.name||(null!=n?n.name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"name",hash:{},data:s}):o))+" - "+e.escapeExpression((o=null!=(o=t.occupation_title||(null!=n?n.occupation_title:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"occupation_title",hash:{},data:s}):o))+" "+e.escapeExpression((o=null!=(o=t.company_name||(null!=n?n.company_name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):o))+'"\n                     target="_blank">\n                    <img alt="'+e.escapeExpression((o=null!=(o=t.name||(null!=n?n.name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"name",hash:{},data:s}):o))+'" src="'+e.escapeExpression((o=null!=(o=t.avatar_url||(null!=n?n.avatar_url:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"avatar_url",hash:{},data:s}):o))+'" class="reco-user-photo"/>\n\n                    <div class="contact-reco-info">\n                      <div class="two-lines">\n                        '+e.escapeExpression((t.truncate||n&&n.truncate||t.helperMissing).call(null!=n?n:{},null!=n?n.name:n,45,{name:"truncate",hash:{},data:s}))+"\n                      </div>\n                      "+e.escapeExpression((o=null!=(o=t.occupation_title||(null!=n?n.occupation_title:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"occupation_title",hash:{},data:s}):o))+"<br>\n                      "+e.escapeExpression((o=null!=(o=t.company_name||(null!=n?n.company_name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):o))+"\n                    </div>\n\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.reason:n,{name:"if",hash:{},fn:e.program(8,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                  </a>\n                </li>\n"},8:function(e,n,t,i,s){var a,l;return'                      <div class="reason">\n                        '+(null!=(l=null!=(l=t.reason||(null!=n?n.reason:n))?l:t.helperMissing,a="function"==typeof l?l.call(null!=n?n:{},{name:"reason",hash:{},data:s}):l)?a:"")+"\n                      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return(null!=(r=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?r:"")+'\n<div id="contact-reco-card" class="card-content reco-card-content">\n  <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_CONTACT_RECO_CARD_HL",{name:"t",hash:{},data:s}))+'</h3>\n\n  <div id="reco-carousel">\n    <a href="#" class="left" rel="prev">\n      <img alt=""\n           class="icn icn-ext-ctr-carousel-active-left"\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.first_slide:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'           src="'+e.escapeExpression((o=null!=(o=t.transparentImage||(null!=n?n.transparentImage:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"transparentImage",hash:{},data:s}):o))+'" >\n    </a>\n\n    <ul>\n\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.slides:n,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n    </ul>\n\n    <a href="#" class="right" rel="next">\n      <img alt=""\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.last_slide:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'           class="icn icn-ext-ctr-carousel-active-right"\n           src="'+e.escapeExpression((o=null!=(o=t.transparentImage||(null!=n?n.transparentImage:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"transparentImage",hash:{},data:s}):o))+'">\n    </a>\n  </div>\n\n</div>'},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/filling_wizard/contact_reco_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/controls"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'  <div class="reason mt5">\n    '+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.reason:n,{name:"t",hash:{},data:s}))?a:"")+"\n  </div>\n"},3:function(){return"disabled"},5:function(e,n,t,i,s){return"    "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.ctaAgreeText:n,{name:"t",hash:{},data:s}))+"\n"},7:function(e,n,t,i,s){return"    "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_BUTTON_AGREE",{name:"t",hash:{},data:s}))+"\n"},9:function(e,n,t,i,s){var a;return'  <a href="#" class="element-form-button-solid-gray disagree">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.ctaDisagreeText:n,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.program(12,s,0),data:s}))?a:"")+"  </a>\n"},10:function(e,n,t,i,s){return"      "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.ctaDisagreeText:n,{name:"t",hash:{},data:s}))+"\n"},12:function(e,n,t,i,s){return"      "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_BUTTON_DISAGREE",{name:"t",hash:{},data:s}))+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.reason:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'\n<button class="complete-card element-form-button-solid-lime" type="submit" '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.submitDisabled:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+">\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.ctaAgreeText:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?a:"")+"</button>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.disagreeBtn:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?a:"")+'\n<a href="#" class="skip-card">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_SKIP",{name:"t",hash:{},data:s}))+"</a>"},useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/controls"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/discipline_card"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'                <option value="">'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholderOption:n,{name:"t",hash:{},data:s}))?a:"")+"</option>\n"},3:function(e,n,t,i,s,a,l){var r;return'                <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.id:n,null!=l[1]?l[1].discipline_id:l[1],{name:"is",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.discipline:n,n))+"</option>\n"},4:function(){return" selected"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return(null!=(r=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?r:"")+'\n<div id="'+e.escapeExpression((o=null!=(o=t.type||(null!=n?n.type:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"type",hash:{},data:s}):o))+'-discipline-card" class="card-content person-badge">\n  <h3>'+(null!=(r=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?r:"")+'</h3>\n  <form>\n    <ul>\n      <li class="line">\n        <div class="unit size1of2">\n          <div class="mod">\n            <select name="discipline_id">\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.placeholderOption:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.disciplines:n,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"            </select>\n          </div>\n        </div>\n      </li>\n    </ul>\n  </form>\n</div>\n\n"+e.escapeExpression((o=null!=(o=t.controls||(null!=n?n.controls:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"controls",hash:{},data:s}):o))},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/filling_wizard/discipline_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/field_of_study_card"]=Handlebars.template({1:function(e,n,t,i,s){var a;return"    "+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{school_name:(t.wrap||n&&n.wrap||t.helperMissing).call(null!=n?n:{},null!=n?n.school_name:n,"[","]",{name:"wrap",hash:{},data:s})},data:s}))?a:"")+"\n"},3:function(e,n,t,i,s){var a;return'      <br><span class="sub-headline">'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_SUB_HL_IMPROVE",{name:"t",hash:{},data:s}))?a:"")+"</span>\n"},5:function(e,n,t,i,s){return e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholderWithSuggestion:n,{name:"t",hash:{suggestion:null!=n?n.suggestion:n},data:s}))},7:function(e,n,t,i,s){return e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholder:n,{name:"t",hash:{},data:s}))},9:function(e,n,t,i,s){var a,l,r,o='      <li>\n        <div class="unit size1of2">\n          <span>\n';return l=null!=(l=t.inlineBold||(null!=n?n.inlineBold:n))?l:t.helperMissing,r={name:"inlineBold",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s},a="function"==typeof l?l.call(null!=n?n:{},r):l,t.inlineBold||(a=t.blockHelperMissing.call(n,a,r)),null!=a&&(o+=a),o+"          </span>\n        </div>\n      </li>\n"},10:function(e,n,t,i,s){var a;return"            "+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_PREVIOUS_VALUE",{name:"t",hash:{field_of_study:(t.wrap||n&&n.wrap||t.helperMissing).call(null!=n?n:{},null!=n?n.field_of_study:n,"[","]",{name:"wrap",hash:{},data:s})},data:s}))?a:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l,r,o=(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-field-of-study-card" class="card-content person-badge">\n  <h3 class="field-of-study-card-header">\n';return l=null!=(l=t.inlineBold||(null!=n?n.inlineBold:n))?l:t.helperMissing,r={name:"inlineBold",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s},a="function"==typeof l?l.call(null!=n?n:{},r):l,t.inlineBold||(a=t.blockHelperMissing.call(n,a,r)),null!=a&&(o+=a),o+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.field_of_study:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+'  </h3>\n\n  <form>\n    <ul>\n      <li class="line field-of-study-card-input-item-with-hint">\n        <div class="unit size1of2">\n          <div class="mod">\n            <input\n                id="field-of-study-input"\n                type="text"\n                class="text"\n                name="field_of_study"\n                placeholder=\''+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.suggestion:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.program(7,s,0),data:s}))?a:"")+'\'\n                data-ds-suggestor=\'{"type": "profiles", "field": "fieldofstudy", "consumer": "loggedin.web.profiles.fieldofstudy.center"}\'>\n                <!-- TODO: check the consumer name! -->\n          </div>\n        </div>\n      </li>\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.field_of_study:n,{name:"if",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?a:"")+"    </ul>\n  </form>\n</div>\n\n"+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/field_of_study_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/haves_card"]=Handlebars.template({1:function(e,n,t,i,s){return'      <br><span class="sub-headline">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_HAVES_CARD_SUB_HL_IMPROVE",{name:"t",hash:{},data:s}))+"</span>\n"},3:function(e,n,t,i,s,a,l){var r;return'              <li class="suggestion-tag ellipsed-tag '+(null!=(r=(t.isInsideArray||n&&n.isInsideArray||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].selectedHaves:l[1],{name:"isInsideArray",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'" alt="'+e.escapeExpression(e.lambda(n,n))+'">'+e.escapeExpression(e.lambda(n,n))+"</li>\n"},4:function(){return"selected"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return(null!=(r=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?r:"")+'\n<div id="'+e.escapeExpression((o=null!=(o=t.type||(null!=n?n.type:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"type",hash:{},data:s}):o))+'-haves-card" class="card-content person-badge">\n  <h3>\n    '+(null!=(r=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?r:"")+"\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.PROFILERAILS_WIZARD_HAVES_CARD_SUB_HL_IMPROVE:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'  </h3>\n  <form id="haves_card_form">\n    <div class="line form-row">\n      <div class="unit">\n        <div class="mod">\n          <ul class="cv-tag-list inline-block-list wizard-tag-list">\n            <li class="input-tag">\n              <input\n                type="text"\n                class="text"\n                name="haves"\n                placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholder:n,{name:"t",hash:{},data:s}))+'"\n                value=""\n                data-ds-suggestor=\'{"type": "profiles", "field": "have", "consumer": "loggedin.web.profiles.wizard.topcenter"}\'>\n            </li>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.haves:n,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"          </ul>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n\n"+e.escapeExpression((o=null!=(o=t.controls||(null!=n?n.controls:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"controls",hash:{},data:s}):o))},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/filling_wizard/haves_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/haves_card_improve"]=Handlebars.template({1:function(e,n){return'<li class="suggestion-tag">'+e.escapeExpression(e.lambda(n,n))+"</li>"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-haves-card" class="card-content person-badge">\n  <h3>\n    '+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?a:"")+'\n  </h3>\n\n  <form>\n    <div class="line form-row wizard-tag-list">\n      <div class="unit size1of2">\n        <div class="mod labeled">\n          <label for="have">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_HAVES_CARD_YOU_OFFER",{name:"t",hash:{},data:s}))+'</label>\n          <ul class="cv-tag-list inline-block-list">\n            <li>'+e.escapeExpression((l=null!=(l=t.haveItemToImprove||(null!=n?n.haveItemToImprove:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"haveItemToImprove",hash:{},data:s}):l))+'</li>\n          </ul>\n        </div>\n\n        <div class="mod replace-value-checkbox" style="display: none;">\n          <input id="replace-value" type="checkbox">\n          <label for="replace-value">\n            '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_HAVES_CARD_REPLACE_CURRENT_VALUE",{name:"t",hash:{},data:s}))+'\n          </label>\n        </div>\n      </div>\n      <div class="unit size1of2 suggestions" data-qa="1365518168">\n        <div class="mod labeled">\n          <label>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_HAVES_CARD_SUB_HL_UPDATE",{name:"t",hash:{},data:s}))+'</label>\n          <ul class="cv-tag-list inline-block-list">\n            '+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.suggestions:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+"\n          </ul>\n          </ul>\n        </div>\n      </div>\n    </div>\n  </form>\n\n</div>\n\n"+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/haves_card_improve"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/improve_job_title_card"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'        <option value="'+e.escapeExpression((a=null!=(a=t.entity_label||(null!=n?n.entity_label:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"entity_label",hash:{},data:s}):a))+'">'+e.escapeExpression((a=null!=(a=t.entity_label||(null!=n?n.entity_label:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"entity_label",hash:{},data:s}):a))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-job-title-card" class="card-content job-badge">\n  <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))+'</h3>\n\n  <div class="duration">\n    <div class="circle"></div>\n    <div class="label"><div>'+(null!=(l=null!=(l=t.duration||(null!=n?n.duration:n))?l:t.helperMissing,a="function"==typeof l?l.call(null!=n?n:{},{name:"duration",hash:{},data:s}):l)?a:"")+'</div></div>\n  </div>\n\n  <div class="details">\n    <div class="date_range">\n      '+e.escapeExpression((l=null!=(l=t.date_range||(null!=n?n.date_range:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"date_range",hash:{},data:s}):l))+'\n    </div>\n\n    <select name="job-title">\n      <option value="'+e.escapeExpression((l=null!=(l=t.job_title||(null!=n?n.job_title:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"job_title",hash:{},data:s}):l))+'" selected>\n        '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_JOB_TITLE_CARD_UNTIL_NOW",{name:"t",hash:{},data:s}))+": "+e.escapeExpression((l=null!=(l=t.job_title||(null!=n?n.job_title:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"job_title",hash:{},data:s}):l))+"\n      </option>\n"+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.suggestions:n,{name:"each",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'    </select>\n\n    <div class="name">'+e.escapeExpression((l=null!=(l=t.company_name||(null!=n?n.company_name:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):l))+'</div>\n    <div class="website">'+e.escapeExpression((l=null!=(l=t.company_url||(null!=n?n.company_url:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"company_url",hash:{},data:s}):l))+"</div>\n\n  </div>\n</div>\n\n"+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/improve_job_title_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/job_reco_card"]=Handlebars.template({1:function(){return'              style="display: none;"\n'},3:function(e,n,t,i,s,a,l){var r;return"        <li>\n          <ul>\n\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.recos:n,{name:"each",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"          </ul>\n        </li>\n"},4:function(e,n,t,i,s,a,l){var r;return(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.isLastCard:n,{name:"if",hash:{},fn:e.program(5,s,0,a,l),inverse:e.program(7,s,0,a,l),data:s}))?r:"")+"\n"},5:function(e,n,t,i,s){var a;return'                <li>\n                  <a class="reco more-recos" href="'+e.escapeExpression((a=null!=(a=t.url||(null!=n?n.url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"url",hash:{},data:s}):a))+'" target="_blank">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_JOB_RECO_CARD_MORE",{name:"t",hash:{},data:s}))+"</a>\n                </li>\n"},7:function(e,n,t,i,s,a,l){var r,o;return'                <li>\n                  <a href="'+e.escapeExpression((o=null!=(o=t.link||(null!=n?n.link:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"link",hash:{},data:s}):o))+"?ijt="+e.escapeExpression(e.lambda(null!=l[2]?l[2].omnitureValue:l[2],n))+'"\n                     class="reco"\n                     title="'+e.escapeExpression((o=null!=(o=t.title||(null!=n?n.title:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"title",hash:{},data:s}):o))+" - "+e.escapeExpression((o=null!=(o=t.company_description||(null!=n?n.company_description:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_description",hash:{},data:s}):o))+'"\n                     target="_blank">\n                    <div class="company-image">\n                      <img alt="'+e.escapeExpression((o=null!=(o=t.company_name||(null!=n?n.company_name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):o))+'" src="'+e.escapeExpression((o=null!=(o=t.company_logo||(null!=n?n.company_logo:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_logo",hash:{},data:s}):o))+'" />\n                    </div>\n\n                    <div class="reco-info">\n                      <div class="two-lines">\n                        '+e.escapeExpression((t.truncate||n&&n.truncate||t.helperMissing).call(null!=n?n:{},null!=n?n.title:n,65,{name:"truncate",hash:{},data:s}))+"\n                      </div>\n                      "+e.escapeExpression((o=null!=(o=t.company_description||(null!=n?n.company_description:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"company_description",hash:{},data:s}):o))+"\n                    </div>\n\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.reason:n,{name:"if",hash:{},fn:e.program(8,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                  </a>\n                </li>\n"},8:function(e,n,t,i,s){var a,l;return'                      <div class="reason">\n                        '+(null!=(l=null!=(l=t.reason||(null!=n?n.reason:n))?l:t.helperMissing,a="function"==typeof l?l.call(null!=n?n:{},{name:"reason",hash:{},data:s}):l)?a:"")+"\n                      </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return(null!=(r=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?r:"")+'\n<div id="job-reco-card" class="card-content reco-card-content">\n  <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_JOB_RECO_CARD_HL",{name:"t",hash:{},data:s}))+'</h3>\n\n  <div id="reco-carousel">\n    <a href="#" class="left" rel="prev">\n      <img alt=""\n           class="icn icn-ext-ctr-carousel-active-left"\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.first_slide:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'           src="'+e.escapeExpression((o=null!=(o=t.transparentImage||(null!=n?n.transparentImage:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"transparentImage",hash:{},data:s}):o))+'" >\n    </a>\n\n    <ul>\n\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.slides:n,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n    </ul>\n\n    <a href="#" class="right" rel="next">\n      <img alt=""\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.last_slide:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'           class="icn icn-ext-ctr-carousel-active-right"\n           src="'+e.escapeExpression((o=null!=(o=t.transparentImage||(null!=n?n.transparentImage:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"transparentImage",hash:{},data:s}):o))+'">\n    </a>\n  </div>\n\n</div>'},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/filling_wizard/job_reco_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/job_title_card"]=Handlebars.template({1:function(e,n,t,i,s){var a;return'      <img src="'+e.escapeExpression((a=null!=(a=t.company_logo||(null!=n?n.company_logo:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"company_logo",hash:{},data:s}):a))+'" alt="'+e.escapeExpression((a=null!=(a=t.company_name||(null!=n?n.company_name:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):a))+'"/>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-job-title-card" class="card-content company-badge">\n  <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))+" <strong>"+e.escapeExpression((t.truncate||n&&n.truncate||t.helperMissing).call(null!=n?n:{},null!=n?n.company_name:n,50,{name:"truncate",hash:{},data:s}))+'?</strong></h3>\n  <div class="jobtitle-card data-wrapper edit-mode">\n    <a href="#" class="edit-icon foundation-icon foundation-icon-core-edit"><%= I18n.t("PROFILERAILS_CV_EDIT_CONTENT") %></a>\n\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.company_logo:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'    <div class="company-details">\n      <p class="bold">\n        '+e.escapeExpression((l=null!=(l=t.job_title||(null!=n?n.job_title:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"job_title",hash:{},data:s}):l))+'\n      </p>\n      <p class="mb0">\n        '+e.escapeExpression((t.join||n&&n.join||t.helperMissing).call(null!=n?n:{},null!=n?n.company_name:n,null!=n?n.company_city:n,null!=n?n.company_country:n,{name:"join",hash:{},data:s}))+"\n      </p>\n    </div>\n  </div>\n</div>\n\n"+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/job_title_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/photo_card"]=Handlebars.template({1:function(e,n,t,i,s){var a
;return'              <a class="download-photo-link" href="'+e.escapeExpression((a=null!=(a=t.download_link||(null!=n?n.download_link:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"download_link",hash:{},data:s}):a))+'">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DOWNLOAD_OLD_RECTANGULAR_IMAGE",{name:"t",hash:{},data:s}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-photo-card" class="card-content">\n\n  <h3>'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?a:"")+'</h3>\n  <form>\n    <ul>\n      <li class="line">\n        <div class="unit size1of2">\n          <div class="mod">\n            <input\n              data-entry-point="input"\n              id="photo-input"\n              type="text"\n              class="text"\n              name="photo"\n              placeholder=\''+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholder:n,{name:"t",hash:{},data:s}))+"'/>\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.download_link:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'          </div>\n        </div>\n        <div class="unit size1of2">\n          <button class="element-form-button-solid-gray fl ml10" data-entry-point="button">\n            '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PHOTO_CARD_BUTTON_UPLOAD",{name:"t",hash:{},data:s}))+'\n          </button>\n        </div>\n      </li>\n    </ul>\n  </form>\n\n  <div class="user-photo" data-entry-point="photo">\n    <img src="'+e.escapeExpression((l=null!=(l=t.image_url||(null!=n?n.image_url:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):l))+'"/>\n    <div class="upload-hover">\n      <i class="icon-upload"></i>\n    </div>\n  </div>\n\n</div>\n\n'+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/photo_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/photo_card_improve"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-photo-card" class="card-content person-badge">\n  <div class="text-area">\n    <h3>'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?a:"")+"</h3>\n    <div>\n      "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PHOTO_CARD_DESCRIPTION",{name:"t",hash:{},data:s}))+'\n      <a href="#" id="expand-link">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PHOTO_CARD_EXPAND",{name:"t",hash:{},data:s}))+'</a>\n    </div>\n  </div>\n  <div id="improve-photo-form" class="image-area">\n    <div class="overlay"></div>\n    <img class="image-to-crop" src="'+e.escapeExpression((l=null!=(l=t.image_url||(null!=n?n.image_url:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):l))+'" width="'+e.escapeExpression((l=null!=(l=t.image_width||(null!=n?n.image_width:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"image_width",hash:{},data:s}):l))+'" height="'+e.escapeExpression((l=null!=(l=t.image_height||(null!=n?n.image_height:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"image_height",hash:{},data:s}):l))+'"/>\n  </div>\n</div>\n\n'+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/photo_card_improve"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/photo_download_dialog"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="download-dialog">\n  <div class="text">\n    <h5>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PHOTO_CARD_DOWNLOAD_HL",{name:"t",hash:{},data:s}))+"</h5>\n    <p>\n      "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PHOTO_CARD_DOWNLOAD_HINT",{name:"t",hash:{},data:s}))+'\n    </p>\n  </div>\n  <div class="controls">\n    <a href="/profile/'+e.escapeExpression((a=null!=(a=t.page_name||(null!=n?n.page_name:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"page_name",hash:{},data:s}):a))+'/picture/old?force=true" class="button download-yes fr">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PHOTO_CARD_DOWNLOAD_YES",{name:"t",hash:{},data:s}))+'</a>\n    <button class="download-no element-form-button-solid-gray fr" type="button" >'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_BUTTON_DISAGREE",{name:"t",hash:{},data:s}))+"</button>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/photo_download_dialog"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/preferred_industry_card"]=Handlebars.template({1:function(){return"disabled"},3:function(e,n,t,i,s,a,l){var r;return'              <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.id:n,null!=l[1]?l[1].baseIndustry:l[1],{name:"is",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+" "+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.disabled:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.name:n,n))+"</option>\n"},4:function(){return"selected"},6:function(e,n,t,i,s){var a;return'            <select name="sub-industries" '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.maxIndustriesReached:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?a:"")+'>\n              <option value="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_PLACEHOLDER_SUB",{name:"t",hash:{},data:s}))+'</option>\n              <option value="0" '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.baseIndustrySelected:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+">"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_OPTION_CHOOSE_BASE",{name:"t",hash:{},data:s}))+"</option>\n"+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.subIndustries:n,{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?a:"")+"            </select>\n"},7:function(){return'style="display: none;"'},9:function(e,n,t,i,s){var a;return'                <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.disabled:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+">"+e.escapeExpression(e.lambda(null!=n?n.name:n,n))+"</option>\n"},11:function(e,n,t,i,s){var a;return'              <li class="industry-tag" data-industry-id="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'" '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.disabled:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+">"+e.escapeExpression(e.lambda(null!=n?n.name:n,n))+"</li>\n"},13:function(e,n,t,i,s){var a;return'            <label class="other-industries-checkbox">\n              <input type="checkbox" '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.openToOtherIndustries:n,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?a:"")+">\n              "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_OTHER_INDUSTRIES",{name:"t",hash:{},data:s}))+"\n            </label>\n"},14:function(){return"checked"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return(null!=(r=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?r:"")+'\n<div id="'+e.escapeExpression((o=null!=(o=t.type||(null!=n?n.type:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"type",hash:{},data:s}):o))+'-industry-card" class="card-content pro-jobs-badge">\n  <h3>'+(null!=(r=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?r:"")+'</h3>\n  <form>\n    <div class="line form-row dropdown-area">\n      <div class="unit size2of5">\n        <div class="mod">\n          <select name="industries" '+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.maxIndustriesReached:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'>\n            <option value="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_PLACEHOLDER",{name:"t",hash:{},data:s}))+"</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.industries:n,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'          </select>\n        </div>\n      </div>\n      <div class="unit size2of5">\n        <div class="mod">\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.subIndustries:n,{name:"if",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'        </div>\n      </div>\n    </div>\n\n    <div class="line form-row wizard-tag-list">\n      <div class="unit">\n        <div class="mod">\n          <ul class="cv-tag-list inline-block-list">\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.industryTags:n,{name:"each",hash:{},fn:e.program(11,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"          </ul>\n\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.industryTags:n,{name:"if",hash:{},fn:e.program(13,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"        </div>\n      </div>\n    </div>\n  </form>\n</div>\n\n"+e.escapeExpression((o=null!=(o=t.controls||(null!=n?n.controls:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"controls",hash:{},data:s}):o))},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/filling_wizard/preferred_industry_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/preferred_work_location_card"]=Handlebars.template({1:function(){return" disabled "},3:function(e,n){return'              <li class="location-tag" data-city-id='+e.escapeExpression(e.lambda(null!=n?n.city_id:n,n))+">\n                "+e.escapeExpression(e.lambda(null!=n?n.locality:n,n))+", "+e.escapeExpression(e.lambda(null!=n?n.country:n,n))+"\n              </li>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return(null!=(a=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?a:"")+'\n<div id="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'-preferred-work-location-card" class="card-content job-badge">\n  <h3>\n    '+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?a:"")+'\n    <a href="#" id="preferred-work-location-card-info-popup">\n      <img src="'+e.escapeExpression((l=null!=(l=t.transparentImage||(null!=n?n.transparentImage:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"transparentImage",hash:{},data:s}):l))+'" alt="" class="icn icn-ext-ctr-info" width="14" height="14">\n    </a>\n  </h3>\n\n  <form>\n    <div class="line form-row wizard-tag-list">\n      <div class="unit">\n        <div class="mod">\n\n          <ul class="cv-tag-list inline-block-list">\n            <li class="input-tag">\n              <input\n                '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.numOfCitiesReached:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+'\n                id="preferred-work-location-input"\n                type="text"\n                class="text"\n                name="preferred_work_location"\n                placeholder=\''+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.placeholder:n,{name:"t",hash:{},data:s}))+'\'\n                value=""\n                data-ds-suggestor=\'{"type": "locations", "field": "city", "consumer": "loggedin.web.profiles.pro_jobs.preferred_work_location.center"}\'>\n                <!-- TODO: check the consumer name! -->\n            </li>\n'+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.locations:n,{name:"each",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+"          </ul>\n\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n\n\n"+e.escapeExpression((l=null!=(l=t.controls||(null!=n?n.controls:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"controls",hash:{},data:s}):l))+"\n"},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/preferred_work_location_card"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/preferred_work_location_info_popup"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){return"<h2>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_INFO_POPUP_HL",{name:"t",hash:{},data:s}))+"</h2>\n<p>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_INFO_POPUP_BODY",{name:"t",hash:{},data:s}))+'</p>\n<a href="/help/">\n  '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_INFO_POPUP_SUPPORT_LINK",{name:"t",hash:{},data:s}))+"\n</a>"},useData:!0}),this.HandlebarsTemplates["sections/filling_wizard/preferred_work_location_info_popup"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/filling_wizard/salary_expectation_card"]=Handlebars.template({1:function(e,n,t,i,s){return'                <option value="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_SALARY_EXPECTATIONS_CARD_PLACEHOLDER",{name:"t",hash:{},data:s}))+"</option>\n"},3:function(e,n,t,i,s,a,l){var r;return'                <option value="'+e.escapeExpression(e.lambda(null!=n?n.value:n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,null!=l[1]?l[1].currentSalaryExpectation:l[1],{name:"is",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.label:n,n))+"</option>\n"},4:function(){return" selected"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return(null!=(r=e.invokePartial(i["sections/filling_wizard/_close_card"],n,{name:"sections/filling_wizard/_close_card",data:s,helpers:t,partials:i,decorators:e.decorators}))?r:"")+'\n<div id="'+e.escapeExpression((o=null!=(o=t.type||(null!=n?n.type:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"type",hash:{},data:s}):o))+'-salary-expectation-card" class="card-content job-badge">\n  <h3>'+(null!=(r=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.question:n,{name:"t",hash:{},data:s}))?r:"")+'</h3>\n  <form>\n    <ul>\n      <li class="line">\n        <div class="unit size1of3">\n          <div class="mod">\n            <select name="salary_expectation">\n'+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.currentSalaryExpectation:n,{name:"unless",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.salaryExpectation:n,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'            </select>\n          </div>\n        </div>\n        <div class="unit size1of3">\n          <div class="currency">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WIZARD_SALARY_EXPECTATIONS_CURRENCY",{name:"t",hash:{},data:s}))+"</div>\n        </div>\n      </li>\n    </ul>\n  </form>\n</div>\n\n"+e.escapeExpression((o=null!=(o=t.controls||(null!=n?n.controls:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"controls",hash:{},data:s}):o))},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/filling_wizard/salary_expectation_card"]}.call(this),function(){Handlebars.registerPartial("sections/vcard/_contact_details_choose_give_me_a_better_name",Handlebars.template({1:function(e,n,t,i,s){return e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.resource:n,{name:"t",hash:{},data:s}))},3:function(e,n,t,i,s){var a;return e.escapeExpression((a=null!=(a=t.label||(null!=n?n.label:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"label",hash:{},data:s}):a))},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return'<li class="line form-row">\n  <div class="unit size1of3">\n    <div class="mod labeled">\n    <label for="contact-'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'">'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.resource:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?a:"")+'</label>\n  </div>\n  </div>\n  <div class="unit size2of3 size2of3-controll">\n    <div class="mod">\n      <input type="text" class="text" name="'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'" id="contact-'+e.escapeExpression((l=null!=(l=t.type||(null!=n?n.type:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"type",hash:{},data:s}):l))+'" value="'+e.escapeExpression((l=null!=(l=t.value||(null!=n?n.value:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:s}):l))+'">\n    </div>\n  </div>\n  <div class="unit">\n    <div class="remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n  </div>\n</li>"},useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_job-seeker-detailed-info--new",Handlebars.template({1:function(e,n,t,i,s){return'    <p class="projobs-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_SEEKING_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},3:function(e,n,t,i,s){return'    <p class="projobs-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_INTERESTED_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},5:function(e,n,t,i,s){return'    <p class="projobs-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_NOT_SEEKING_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},7:function(e,n,t,i,s){var a;return'  <section class="projobs-container">\n    <h1 class="projobs-headline--with-border">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SECRET_HEADLINE",{name:"t",hash:{},data:s}))+"</h1>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.discipline:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.industries:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.target_positions:n,{name:"if",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.target_companies:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.excluded_keywords:n,{name:"if",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.showFirstSeparator:a,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.salary_expectations:n,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.hasWorkingTime:a,{name:"if",hash:{},fn:e.program(30,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.showSecondSeparator:a,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.hasLocationOrTravel:a,{name:"if",hash:{},fn:e.program(37,s,0),inverse:e.noop,data:s}))?a:"")+"  </section>\n"},8:function(e,n,t,i,s){var a;return'      <dl class="projobs-list">\n        <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DISCIPLINE",{name:"t",hash:{},data:s}))+"</dt>\n"+(null!=(a=(t.getByKeyNames||n&&n.getByKeyNames||t.helperMissing).call(null!=n?n:{},null!=n?n.discipline:n,null!=(a=null!=n?n.resources:n)?a.disciplines:a,{name:"getByKeyNames",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?a:"")+"      </dl>\n"},9:function(e,n,t,i,s){var a;return null!=(a=t.each.call(null!=n?n:{},n,{name:"each",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?a:""},10:function(e,n){return"            <dd>"+e.escapeExpression(e.lambda(null!=n?n.discipline:n,n))+"</dd>\n"},12:function(e,n,t,i,s){var a;return'      <dl class="projobs-list">\n        <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_INDUSTRIES",{name:"t",hash:{},data:s}))+"</dt>\n"+(null!=(a=(t.getByKeyNames||n&&n.getByKeyNames||t.helperMissing).call(null!=n?n:{},null!=n?n.industries:n,null!=(a=null!=n?n.resources:n)?a.industries:a,{name:"getByKeyNames",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.open_to_other_industries:n,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.noop,data:s}))?a:"")+"      </dl>\n"},13:function(e,n,t,i,s){var a;return null!=(a=(t.forEach||n&&n.forEach||t.helperMissing).call(null!=n?n:{},n,{name:"forEach",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?a:""},14:function(e,n,t,i,s){var a;return'            <dd class="inline-block">'+e.escapeExpression(e.lambda(null!=(a=null!=n?n.item:n)?a.industry:a,n))+(null!=(a=t.unless.call(null!=n?n:{},null!=n?n.last:n,{name:"unless",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?a:"")+"</dd>\n"},15:function(){return","},17:function(e,n,t,i,s){return'          <dd class="note">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_INDUSTRIES_OPEN",{name:"t",hash:{},data:s}))+"</dd>\n"},19:function(e,n,t,i,s){var a;return'      <dl class="projobs-list">\n        <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_POSITION",{name:"t",hash:{},data:s}))+"</dt>\n"+(null!=(a=(t.forEach||n&&n.forEach||t.helperMissing).call(null!=n?n:{},null!=n?n.target_positions:n,{name:"forEach",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?a:"")+"      </dl>\n"},20:function(e,n,t,i,s){var a,l;return'          <dd class="inline-block">'+e.escapeExpression((l=null!=(l=t.item||(null!=n?n.item:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"item",hash:{},data:s}):l))+(null!=(a=t.unless.call(null!=n?n:{},null!=n?n.last:n,{name:"unless",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?a:"")+"</dd>\n"},22:function(e,n,t,i,s){var a;return'      <dl class="projobs-list">\n        <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_COMPANIES",{name:"t",hash:{},data:s}))+"</dt>\n"+(null!=(a=(t.forEach||n&&n.forEach||t.helperMissing).call(null!=n?n:{},null!=n?n.target_companies:n,{name:"forEach",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?a:"")+"      </dl>\n"},24:function(e,n,t,i,s){var a;return'      <dl class="projobs-list">\n        <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_EXCLUDED_KEYWORDS",{name:"t",hash:{},data:s}))+"</dt>\n"+(null!=(a=(t.forEach||n&&n.forEach||t.helperMissing).call(null!=n?n:{},null!=n?n.excluded_keywords:n,{name:"forEach",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?a:"")+"      </dl>\n"},26:function(){return"      <hr>\n"},28:function(e,n,t,i,s){return'      <dl class="projobs-list">\n        <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SALARY_EXPECTATION",{name:"t",hash:{},data:s}))+"</dt>\n        <dd>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SALARY_EXPECTATION_FROM",{name:"t",hash:{},data:s}))+"\n            "+e.escapeExpression((t.toCurrencyString||n&&n.toCurrencyString||t.helperMissing).call(null!=n?n:{},null!=n?n.salary_expectations:n,{name:"toCurrencyString",hash:{},data:s}))+" &euro;</dd>\n      </dl>\n"},30:function(e,n,t,i,s){var a;return'      <dl class="projobs-list">\n        <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_WORKING_TIME",{name:"t",hash:{},data:s}))+'</dt>\n          <dd class="inline-block">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.full_time:n,{name:"if",hash:{},fn:e.program(31,s,0),inverse:e.noop,data:s}))?a:"")+"            "+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.hasBothWorkingTime:a,{name:"if",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.part_time:n,{name:"if",hash:{},fn:e.program(35,s,0),inverse:e.noop,data:s}))?a:"")+"          </dd>\n      </dl>\n"},31:function(e,n,t,i,s){return"              "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_FULL_TIME",{name:"t",hash:{},data:s}))+"\n"},33:function(){return"/"},35:function(e,n,t,i,s){return"              "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_PART_TIME",{name:"t",hash:{},data:s}))+"\n"},37:function(e,n,t,i,s){var a;return(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.locations:n,{name:"if",hash:{},fn:e.program(38,s,0),inverse:e.program(43,s,0),data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.willingness_to_travel:n,{name:"if",hash:{},fn:e.program(46,s,0),inverse:e.noop,data:s}))?a:"")},38:function(e,n,t,i,s){var a;return'        <dl class="projobs-list">\n          <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_LOCATIONS",{name:"t",hash:{},data:s}))+"</dt>\n"+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.locations:n,{name:"each",hash:{},fn:e.program(39,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.willingness_to_move:n,{name:"if",hash:{},fn:e.program(41,s,0),inverse:e.noop,data:s}))?a:"")+"        </dl>\n"},39:function(e,n){return"            <dd>"+e.escapeExpression(e.lambda(null!=n?n.locality:n,n))+"</dd>\n"},41:function(e,n,t,i,s){var a;return'            <dd class="note">'+e.escapeExpression((a=null!=(a=t.displayName||(null!=n?n.displayName:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"displayName",hash:{},data:s}):a))+" "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_IS_WILLING_TO_MOVE_FOR",{name:"t",hash:{},data:s}))+"</dd>\n"},43:function(e,n,t,i,s){var a;return'        <dl class="projobs-list">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.willingness_to_move:n,{name:"if",hash:{},fn:e.program(44,s,0),inverse:e.noop,data:s}))?a:"")+"        </dl>\n"},44:function(e,n,t,i,s){var a;return"            <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_LOCATIONS",{name:"t",hash:{},data:s}))+'</dt>\n            <dd class="note">'+e.escapeExpression((a=null!=(a=t.displayName||(null!=n?n.displayName:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"displayName",hash:{},data:s}):a))+" "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_IS_WILLING_TO_MOVE_FOR",{name:"t",hash:{},data:s}))+"</dd>\n"},46:function(e,n,t,i,s){var a;return'        <dl class="projobs-list">\n          <dt>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_IS_WILLING_TO_TRAVELL",{name:"t",hash:{},data:s}))+"</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.willingness_to_travel_percentage||(null!=n?n.willingness_to_travel_percentage:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"willingness_to_travel_percentage",hash:{},data:s}):a))+"%</dd>\n        </dl>\n"},48:function(e,n,t,i,s){var a;return null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(49,s,0),inverse:e.program(51,s,0),data:s}))?a:""},49:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-discourage-contact"],n,{name:"sections/vcard/_job-seeker-discourage-contact",data:s,indent:"    ",helpers:t,partials:i,decorators:e.decorators}))?a:""},51:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-encourage-contact"],n,{name:"sections/vcard/_job-seeker-encourage-contact",data:s,indent:"    ",helpers:t,partials:i,decorators:e.decorators}))?a:""},53:function(e,n,t,i,s){return'    <a href="/upsell/projobs?reagent=uplt_232" class="button-as-link fl">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PREMIUM_JOBSEEKER_UPSELL_LAYER_MORE_BTN",{name:"t",hash:{},data:s}))+"</a>\n"},55:function(e,n,t,i,s){return'    <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CLOSEWINDOW",{name:"t",hash:{},data:s}))+"</a>\n"},57:function(e,n,t,i,s){var a;return'    <a href="#" class="element-form-button-solid-lime message-lightbox-link" data-lightbox-params="scr_rec_id='+e.escapeExpression((a=null!=(a=t.scrambledUserId||(null!=n?n.scrambledUserId:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"scrambledUserId",hash:{},data:s}):a))+'">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_VCARD_BUTTON_WRITE_MESSAGE",{name:"t",hash:{},data:s}))+'</a>\n    <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return'<h2 class="projobs-title">\n  '+e.escapeExpression((l=null!=(l=t.displayName||(null!=n?n.displayName:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"displayName",hash:{},data:s}):l))+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"seeking",{name:"is",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"interested",{name:"is",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s
}))?a:"")+"</h2>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.hasAnyProJobsData:a,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(48,s,0),data:s}))?a:"")+'\n<div class="projobs-submit-row clfx">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.showProJobsAdditionalUpsell:a,{name:"if",hash:{},fn:e.program(53,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(55,s,0),inverse:e.program(57,s,0),data:s}))?a:"")+"</div>"},usePartial:!0,useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_job-seeker-detailed-info",Handlebars.template({1:function(e,n,t,i,s){return'      <p class="job-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_SEEKING_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},3:function(e,n,t,i,s){return'      <p class="job-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_INTERESTED_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},5:function(e,n,t,i,s){return'      <p class="job-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_NOT_SEEKING_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},7:function(e,n,t,i,s){var a;return'    <div class="show-job-seeker-details">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.locations:n,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.program(13,s,0),data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.salary_expectations:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.discipline:n,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.industries:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?a:"")+"    </div>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.showProJobsUpsell:a,{name:"if",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?a:"")},8:function(e,n,t,i,s){var a;return'        <div class="block">\n          <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_LOCATIONS",{name:"t",hash:{},data:s}))+"</h3>\n"+(null!=(a=t.each.call(null!=n?n:{},null!=n?n.locations:n,{name:"each",hash:{},fn:e.program(9,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.willingness_to_move:n,{name:"if",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?a:"")+"        </div>\n"},9:function(e,n){return"            <p>"+e.escapeExpression(e.lambda(null!=n?n.locality:n,n))+"</p>\n"},11:function(e,n,t,i,s){var a;return'            <p class="location-status">'+e.escapeExpression((a=null!=(a=t.displayName||(null!=n?n.displayName:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"displayName",hash:{},data:s}):a))+" "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_IS_WILLING_TO_MOVE_FOR",{name:"t",hash:{},data:s}))+"</p>\n"},13:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=n?n.willingness_to_move:n,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?a:""},14:function(e,n,t,i,s){var a;return'          <div class="block">\n            <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_LOCATIONS",{name:"t",hash:{},data:s}))+'</h3>\n            <div class="location-status">'+e.escapeExpression((a=null!=(a=t.displayName||(null!=n?n.displayName:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"displayName",hash:{},data:s}):a))+" "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_IS_WILLING_TO_MOVE_FOR",{name:"t",hash:{},data:s}))+"</div>\n          </div>\n"},16:function(e,n,t,i,s){return'        <div class="block">\n          <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SALARY_EXPECTATION",{name:"t",hash:{},data:s}))+"</h3>\n          <p>\n            "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SALARY_EXPECTATION_FROM",{name:"t",hash:{},data:s}))+"\n            "+e.escapeExpression((t.toCurrencyString||n&&n.toCurrencyString||t.helperMissing).call(null!=n?n:{},null!=n?n.salary_expectations:n,{name:"toCurrencyString",hash:{},data:s}))+" &euro;\n          </p>\n        </div>\n"},18:function(e,n,t,i,s){var a;return'        <div class="block">\n          <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DISCIPLINE",{name:"t",hash:{},data:s}))+"</h3>\n"+(null!=(a=(t.getByKeyNames||n&&n.getByKeyNames||t.helperMissing).call(null!=n?n:{},null!=n?n.discipline:n,null!=(a=null!=n?n.resources:n)?a.disciplines:a,{name:"getByKeyNames",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?a:"")+"        </div>\n"},19:function(e,n,t,i,s){var a;return null!=(a=t.each.call(null!=n?n:{},n,{name:"each",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?a:""},20:function(e,n){return"              <p>"+e.escapeExpression(e.lambda(null!=n?n.discipline:n,n))+"</p>\n"},22:function(e,n,t,i,s){var a;return'        <div class="block">\n          <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_INDUSTRIES",{name:"t",hash:{},data:s}))+"</h3>\n"+(null!=(a=(t.getByKeyNames||n&&n.getByKeyNames||t.helperMissing).call(null!=n?n:{},null!=n?n.industries:n,null!=(a=null!=n?n.resources:n)?a.industries:a,{name:"getByKeyNames",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?a:"")+"        </div>\n"},23:function(e,n,t,i,s){var a;return null!=(a=(t.forEach||n&&n.forEach||t.helperMissing).call(null!=n?n:{},n,{name:"forEach",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?a:""},24:function(e,n,t,i,s){var a;return'              <p class="inline">'+e.escapeExpression(e.lambda(null!=(a=null!=n?n.item:n)?a.industry:a,n))+(null!=(a=t.unless.call(null!=n?n:{},null!=n?n.last:n,{name:"unless",hash:{},fn:e.program(25,s,0),inverse:e.noop,data:s}))?a:"")+"</p>\n"},25:function(){return","},27:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_pro-jobs-upsell-teaser-extended"],n,{name:"sections/vcard/_pro-jobs-upsell-teaser-extended",data:s,indent:"      ",helpers:t,partials:i,decorators:e.decorators}))?a:""},29:function(e,n,t,i,s){var a;return null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(30,s,0),inverse:e.program(32,s,0),data:s}))?a:""},30:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-discourage-contact"],n,{name:"sections/vcard/_job-seeker-discourage-contact",data:s,indent:"      ",helpers:t,partials:i,decorators:e.decorators}))?a:""},32:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-encourage-contact"],n,{name:"sections/vcard/_job-seeker-encourage-contact",data:s,indent:"      ",helpers:t,partials:i,decorators:e.decorators}))?a:""},34:function(e,n,t,i,s){return'      <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CLOSEWINDOW",{name:"t",hash:{},data:s}))+"</a>\n"},36:function(e,n,t,i,s){return'      <a href="#" class="element-form-button-solid-lime message-lightbox-link">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_VCARD_BUTTON_WRITE_MESSAGE",{name:"t",hash:{},data:s}))+'</a>\n      <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return'<form>\n  <h2 class="title">\n    '+e.escapeExpression((l=null!=(l=t.displayName||(null!=n?n.displayName:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"displayName",hash:{},data:s}):l))+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"seeking",{name:"is",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"interested",{name:"is",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?a:"")+"  </h2>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.hasAnyProJobsData:a,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.program(29,s,0),data:s}))?a:"")+'\n  <div class="field-row submit-row clfx">\n'+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(34,s,0),inverse:e.program(36,s,0),data:s}))?a:"")+"  </div>\n</form>"},usePartial:!0,useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_job-seeker-discourage-contact",Handlebars.template({1:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_pro-jobs-upsell-teaser-default"],n,{name:"sections/vcard/_pro-jobs-upsell-teaser-default",data:s,indent:"  ",helpers:t,partials:i,decorators:e.decorators}))?a:""},3:function(e,n){var t;return'  <div class="quote-grey">\n    '+(null!=(t=e.lambda(null!=(t=null!=n?n.resources:n)?t.job_seeker_discourage_contact:t,n))?t:"")+'\n    <div class="job-seeker-arrow"></div>\n  </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.showProJobsUpsell:a,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?a:""},usePartial:!0,useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_job-seeker-encourage-contact",Handlebars.template({1:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_pro-jobs-upsell-teaser-default"],n,{name:"sections/vcard/_pro-jobs-upsell-teaser-default",data:s,indent:"  ",helpers:t,partials:i,decorators:e.decorators}))?a:""},3:function(e,n,t,i,s){var a,l,r,o='  <div class="quote-grey">\n';return l=null!=(l=t.ifMale||(null!=n?n.ifMale:n))?l:t.helperMissing,r={name:"ifMale",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s},a="function"==typeof l?l.call(null!=n?n:{},r):l,t.ifMale||(a=t.blockHelperMissing.call(n,a,r)),null!=a&&(o+=a),o+'    <div class="job-seeker-arrow"></div>\n  </div>\n'},4:function(e,n){var t;return"      "+(null!=(t=e.lambda(null!=(t=null!=n?n.resources:n)?t.job_seeker_encourage_male:t,n))?t:"")+"\n"},6:function(e,n){var t;return"      "+(null!=(t=e.lambda(null!=(t=null!=n?n.resources:n)?t.job_seeker_encourage_female:t,n))?t:"")+"\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.showProJobsUpsell:a,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?a:""},usePartial:!0,useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_job-seeker-save-success-teaser",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){return'<div class="job-seeker-lightbox-contents">\n  <form">\n    <h2 class="title">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SAVE_SUCCESS_TEASER_TITLE_BASIC",{name:"t",hash:{},data:s}))+'</h2>\n\n    <div class="quote-blue premium-description">\n      '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SAVE_SUCCESS_TEASER_CONTENT_HTML",{name:"t",hash:{},data:s}))+'\n      <div class="job-seeker-arrow"></div>\n    </div>\n\n    <div class="field-row submit-row clfx">\n      <a href="/upsell/premium_offers?reagent=uplt_124" class="button">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SAVE_SUCCESS_TEASER_GET_PREMIUM_BUTT",{name:"t",hash:{},data:s}))+"</a>\n    </div>\n  </form>\n</div>"},useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_job_seeker_premium",Handlebars.template({1:function(e,n,t,i,s){var a;return null!=(a=t.each.call(null!=n?n:{},null!=n?n.locations:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?a:""},2:function(e,n,t,i,s){var a;return'          <div class="entry clfx">\n            <div class="grid-col grid-col-97">\n              <input\n                type="text"\n                class="text geocoded"\n                name="locations"\n                placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_LOCATION_PLACEHOLDER",{name:"t",hash:{},data:s}))+'"\n                maxlength="100"\n\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.administrative_area_level_1:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.id:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.locality:n,{name:"if",hash:{},fn:e.program(7,s,0),inverse:e.noop,data:s}))?a:"")+'\n                data-locality="'+e.escapeExpression(e.lambda(null!=n?n.locality:n,n))+'"\n                data-country="'+e.escapeExpression(e.lambda(null!=n?n.country:n,n))+'"\n                data-lat="'+e.escapeExpression(e.lambda(null!=n?n.lat:n,n))+'"\n                data-lng="'+e.escapeExpression(e.lambda(null!=n?n.lng:n,n))+'">\n            </div>\n\n            <div class="grid-col controls grid-last">\n              <div class="remove-fields remove-entry"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+'</span></div>\n            </div>\n\n            <div class="error-message location-duplicated">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_ERROR_LOCATION_DUPLICATED",{name:"t",hash:{},data:s}))+'</div>\n            <div class="error-message location-not-found">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_ERROR_LOCATION",{name:"t",hash:{},data:s}))+"</div>\n          </div>\n"},3:function(e,n){return'                  data-administrative_area_level_1="'+e.escapeExpression(e.lambda(null!=n?n.administrative_area_level_1:n,n))+'"\n'},5:function(e,n){return'                  data-id="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'"\n'},7:function(e,n){return'                  value="'+e.escapeExpression(e.lambda(null!=n?n.locality:n,n))+'"\n'},9:function(e,n,t,i,s){return'        <div class="entry clfx">\n          <div class="grid-col grid-col-97">\n            <input type="text" class="text" name="locations" placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_LOCATION_PLACEHOLDER",{name:"t",hash:{},data:s}))+'" maxlength="100">\n          </div>\n\n          <div class="grid-col controls grid-last">\n            <div class="remove-fields remove-entry"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+'</span></div>\n          </div>\n\n          <div class="error-message location-duplicated">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_ERROR_LOCATION_DUPLICATED",{name:"t",hash:{},data:s}))+'</div>\n          <div class="error-message location-not-found">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_ERROR_LOCATION",{name:"t",hash:{},data:s}))+"</div>\n        </div>\n"},11:function(){return'checked=""'},13:function(e,n,t,i,s){return'        <option value="'+e.escapeExpression(e.lambda(n,n))+'">&gt; '+e.escapeExpression((t.toCurrencyString||n&&n.toCurrencyString||t.helperMissing).call(null!=n?n:{},n,{name:"toCurrencyString",hash:{},data:s}))+" &euro;</option>\n"},15:function(e,n){return'        <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'">'+e.escapeExpression(e.lambda(null!=n?n.discipline:n,n))+"</option>\n"},17:function(e,n,t,i,s){var a;return null!=(a=t.each.call(null!=n?n:{},null!=n?n.industries:n,{name:"each",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?a:""},18:function(e,n,t,i,s){var a;return'          <div class="entry clfx">\n            <div class="grid-col grid-col-97">\n              <select name="industries" class="js-industries">\n                <option class="prompt" value="">---</option>\n'+(null!=(a=t.each.call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.industries:a,{name:"each",hash:{},fn:e.program(19,s,0),inverse:e.noop,data:s}))?a:"")+'              </select>\n            </div>\n            <div class="grid-col controls grid-last">\n              <div class="remove-fields remove-entry"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n            </div>\n          </div>\n"},19:function(e,n){return'                  <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'">'+e.escapeExpression(e.lambda(null!=n?n.industry:n,n))+"</option>\n"},21:function(e,n,t,i,s){var a;return'        <div class="entry clfx">\n          <div class="grid-col grid-col-97">\n            <select name="industries" class="js-industries">\n              <option class="prompt" value="">---</option>\n'+(null!=(a=t.each.call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.industries:a,{name:"each",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?a:"")+'            </select>\n          </div>\n          <div class="grid-col controls grid-last">\n            <div class="remove-fields remove-entry"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n          </div>\n        </div>\n"},22:function(e,n){return'                <option value="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'">'+e.escapeExpression(e.lambda(null!=n?n.industry:n,n))+"</option>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="field-row clfx">\n  <label for="locations" class="term">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_LOCATIONS",{name:"t",hash:{},data:s}))+'</label>\n  <div class="definition">\n    <div class="entry-container entry-locations-container" data-max-entries="3">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.locations:n)?a.length:a,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(9,s,0),data:s}))?a:"")+'    </div>\n\n    <label class="checkbox">\n      <input type="checkbox" name="willingness_to_move"'+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.willingness_to_move:n,!0,{name:"is",hash:{},fn:e.program(11,s,0),inverse:e.noop,data:s}))?a:"")+">\n      "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_MOVING_WILLINGNESS",{name:"t",hash:{},data:s}))+'\n    </label>\n  </div>\n</div>\n\n<div class="field-row clfx">\n  <div class="grid-col grid-col-1-2">\n    <label class="term" for="salary_expectations">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SALARY_EXPECTATION",{name:"t",hash:{},data:s}))+'</label>\n    <select class="definition js-salary_expectations" name="salary_expectations" maxlength="100" id="salary_expectations">\n      <option class="prompt" value="">---</option>\n'+(null!=(a=t.each.call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.salary_expectations:a,{name:"each",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?a:"")+'    </select>\n  </div>\n\n  <div class="grid-col grid-col-1-2 grid-last">\n    <label class="term" for="disciplines">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_DISCIPLINE",{name:"t",hash:{},data:s}))+'</label>\n    <select class="definition js-disciplines" name="discipline">\n      <option class="prompt" value="">---</option>\n\n'+(null!=(a=t.each.call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.disciplines:a,{name:"each",hash:{},fn:e.program(15,s,0),inverse:e.noop,data:s}))?a:"")+'    </select>\n  </div>\n</div>\n\n\n<div class="field-row clfx">\n  <label class="term">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_INDUSTRIES",{name:"t",hash:{},data:s}))+'</label>\n  <div class="definition">\n    <div class="entry-container entry-industries-container" data-max-entries="3">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.industries:n)?a.length:a,{name:"if",hash:{},fn:e.program(17,s,0),inverse:e.program(21,s,0),data:s}))?a:"")+"\n    </div>\n  </div>\n</div>\n"},useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_pro-jobs-upsell-teaser-default",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="projobs-upsell-teaser">\n  <h4 class="projobs-upsell-teaser-headline">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_VCARD_UPSELL_TEASER_HEADLINE_NO_DETAILS",{name:"t",hash:{},data:s}))+'</h4>\n  <p class="mb20">'+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_VCARD_UPSELL_TEASER_TEXT_NO_DETAILS",{name:"t",hash:{},data:s}))?a:"")+'</p>\n  <a href="/upsell/projobs?reagent=uplt_229" class="bold">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_LEARN_MORE",{name:"t",hash:{},data:s}))+"</a>\n</div>"},useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_pro-jobs-upsell-teaser-extended",Handlebars.template({1:function(e,n,t,i,s){return'      <a href="/upsell/projobs?reagent=uplt_231" class="bold">\n        '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_LEARN_MORE",{name:"t",hash:{},data:s}))+"\n      </a>\n"},3:function(e,n,t,i,s){return'      <a href="/upsell/projobs?reagent=uplt_230" class="bold">\n        '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_LEARN_MORE",{name:"t",hash:{},data:s}))+"\n      </a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="projobs-upsell-teaser">\n  <h4 class="projobs-upsell-teaser-headline mb5">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_VCARD_UPSELL_TEASER_HEADLINE",{name:"t",hash:{},data:s}))+"</h4>\n  <p>\n    "+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_VCARD_UPSELL_TEASER_TEXT",{name:"t",hash:{},data:s}))?a:"")+"\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.detailed_job_seeker_info:a,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?a:"")+"  </p>\n</div>"},useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/vcard/_pro-jobs-upsell-teaser-unflagged",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="projobs-upsell-teaser">\n  <h4 class="projobs-upsell-teaser-headline mb5">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_VCARD_UPSELL_TEASER_HEADLINE",{name:"t",hash:{},data:s}))+"</h4>\n  <p>\n    "+(null!=(a=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_VCARD_UPSELL_TEASER_TEXT",{name:"t",hash:{},data:s}))?a:"")+'\n    <a href="/upsell/projobs?reagent=uplt_230" class="bold">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROJOBS_LEARN_MORE",{name:"t",hash:{},data:s}))+"</a>\n  </p>\n</div>"},useData:!0}))}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/vcard/contact_details"]=Handlebars.template({1:function(){return'    <div class="projobs-contact-layer">\n'},3:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=n?n.hasProJobsContactData:n,{name:"if",hash:{},fn:e.program(4,s,0),inverse:e.noop,data:s}))?a:""},4:function(e,n,t,i,s){var a;return'      <section class="projobs-container--contact">\n        <h1 class="projobs-headline">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_SECRET_HEADLINE",{name:"t",hash:{},data:s}))+'</h1>\n\n        <dl class="mb0">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.jobSeeker:n)?a.via_phone:a,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.jobSeeker:n)?a.via_email:a,{name:"if",hash:{},fn:e.program(8,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.jobSeeker:n)?a.via_xing_message:a,{name:"if",hash:{},fn:e.program(10,s,0),inverse:e.noop,data:s}))?a:"")+"        </dl>\n      </section>\n"},5:function(e,n,t,i,s){var a;return'            <dt class="text-overflow">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_PHONE",{name:"t",hash:{},data:s}))+"</dt>\n            <dd>"+e.escapeExpression(e.lambda(null!=(a=null!=n?n.jobSeeker:n)?a.phone_number:a,n))+"</dd>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.jobSeeker:n)?a.phone_preference:a,{name:"if",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?a:"")},6:function(e,n,t,i,s){var a;return'              <dt class="text-overflow bold">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PHONE_PREFERENCE",{name:"t",hash:{},data:s}))+'</dt>\n              <dd class="bold">'+e.escapeExpression((a=null!=(a=t.contactTimeframe||(null!=n?n.contactTimeframe:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"contactTimeframe",hash:{},data:s}):a))+"</dd>\n"},8:function(e,n,t,i,s){var a;return'            <dt class="text-overflow">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_EMAIL",{name:"t",hash:{},data:s}))+'</dt>\n            <dd>\n              <a href="mailto:'+e.escapeExpression(e.lambda(null!=(a=null!=n?n.jobSeeker:n)?a.email_address:a,n))+'" target="_top" class="block text-overflow">'+e.escapeExpression(e.lambda(null!=(a=null!=n?n.jobSeeker:n)?a.email_address:a,n))+"</a>\n            </dd>\n"},10:function(e,n,t,i,s){return'            <dt class="text-overflow">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_XING",{name:"t",hash:{},data:s}))+'</dt>\n            <dd>\n              <a href="#" class="message-lightbox-link">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_VCARD_BUTTON_WRITE_MESSAGE",{name:"t",hash:{},data:s}))+"</a>\n            </dd>\n"},12:function(e,n,t,i,s){var a;return"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.hasBusinessData:n,{name:"if",hash:{},fn:e.program(13,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.hasPrivateData:n,{name:"if",hash:{},fn:e.program(40,s,0),inverse:e.noop,data:s}))?a:"")+"\n"},13:function(e,n,t,i,s){var a;return"\n      <h2>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_BUSINESS",{name:"t",hash:{},data:s}))+'</h2>\n      <dl data-qa="45b928">\n\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.business_mobile:n,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.business_phone:n,{name:"if",hash:{},fn:e.program(16,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.business_fax:n,{name:"if",hash:{},fn:e.program(18,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.business_email:n,{name:"if",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?a:"")+"\n        <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_ADDRESS",{name:"t",hash:{},data:s}))+"</dt>\n        <dd>\n          "+e.escapeExpression((t.join||n&&n.join||t.helperMissing).call(null!=n?n:{},null!=n?n.business_street:n,null!=n?n.business_zip:n,null!=n?n.business_city:n,null!=n?n.business_province:n,{name:"join",hash:{},data:s}))+"\n          "+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.business_country:n,{name:"if",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?a:"")+"\n        </dd>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.skype:n,{name:"if",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.googletalk:n,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.icq:n,{name:"if",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.msn:n,{name:"if",hash:{},fn:e.program(30,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.lync:n,{name:"if",hash:{},fn:e.program(32,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.yahoo:n,{name:"if",hash:{},fn:e.program(34,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.aim:n,{name:"if",hash:{},fn:e.program(36,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.jabber:n,{name:"if",hash:{},fn:e.program(38,s,0),inverse:e.noop,data:s}))?a:"")+"\n      </dl>\n\n"},14:function(e,n,t,i,s){return"          <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_MOBILE",{name:"t",hash:{},data:s}))+'</dt>\n          <dd class="text-break">'+e.escapeExpression((t.normalizePhoneDashes||n&&n.normalizePhoneDashes||t.helperMissing).call(null!=n?n:{},null!=n?n.business_mobile:n,{name:"normalizePhoneDashes",hash:{},data:s}))+"</dd>\n"},16:function(e,n,t,i,s){return"          <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_PHONE",{name:"t",hash:{},data:s}))+'</dt>\n          <dd class="text-break">'+e.escapeExpression((t.normalizePhoneDashes||n&&n.normalizePhoneDashes||t.helperMissing).call(null!=n?n:{},null!=n?n.business_phone:n,{name:"normalizePhoneDashes",hash:{},data:s}))+"</dd>\n"},18:function(e,n,t,i,s){return"          <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_FAX",{name:"t",hash:{},data:s}))+'</dt>\n          <dd class="text-break">'+e.escapeExpression((t.normalizePhoneDashes||n&&n.normalizePhoneDashes||t.helperMissing).call(null!=n?n:{},null!=n?n.business_fax:n,{name:"normalizePhoneDashes",hash:{},data:s}))+"</dd>\n"},20:function(e,n,t,i,s){var a;return"          <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_EMAIL",{name:"t",hash:{},data:s}))+'</dt>\n          <dd>\n            <a href="mailto:'+e.escapeExpression((a=null!=(a=t.business_email||(null!=n?n.business_email:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"business_email",hash:{},data:s}):a))+'">'+e.escapeExpression((a=null!=(a=t.business_email||(null!=n?n.business_email:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"business_email",hash:{},data:s}):a))+"</a>\n          </dd>\n"},22:function(e,n,t,i,s){var a;return"<br />"+e.escapeExpression((a=null!=(a=t.business_country_name||(null!=n?n.business_country_name:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"business_country_name",hash:{},data:s}):a))},24:function(e,n,t,i,s){var a;return"          <dt>Skype</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.skype||(null!=n?n.skype:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"skype",hash:{},data:s}):a))+"</dd>\n"},26:function(e,n,t,i,s){var a;return"          <dt>Google Hangouts</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.googletalk||(null!=n?n.googletalk:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"googletalk",hash:{},data:s}):a))+"</dd>\n"},28:function(e,n,t,i,s){var a;return"          <dt>ICQ</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.icq||(null!=n?n.icq:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"icq",hash:{},data:s}):a))+"</dd>\n"},
30:function(e,n,t,i,s){var a;return"          <dt>Windows Messenger</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.msn||(null!=n?n.msn:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"msn",hash:{},data:s}):a))+"</dd>\n"},32:function(e,n,t,i,s){var a;return"          <dt>Skype for Business</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.lync||(null!=n?n.lync:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"lync",hash:{},data:s}):a))+"</dd>\n"},34:function(e,n,t,i,s){var a;return"          <dt>Yahoo</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.yahoo||(null!=n?n.yahoo:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"yahoo",hash:{},data:s}):a))+"</dd>\n"},36:function(e,n,t,i,s){var a;return"          <dt>AIM</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.aim||(null!=n?n.aim:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"aim",hash:{},data:s}):a))+"</dd>\n"},38:function(e,n,t,i,s){var a;return"          <dt>Jabber</dt>\n          <dd>"+e.escapeExpression((a=null!=(a=t.jabber||(null!=n?n.jabber:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"jabber",hash:{},data:s}):a))+"</dd>\n"},40:function(e,n,t,i,s){var a;return"\n        <hr>\n\n        <h2>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PRIVATE",{name:"t",hash:{},data:s}))+'</h2>\n        <dl data-qa="780bd7">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.private_mobile:n,{name:"if",hash:{},fn:e.program(41,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.private_phone:n,{name:"if",hash:{},fn:e.program(43,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.private_fax:n,{name:"if",hash:{},fn:e.program(45,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.private_email:n,{name:"if",hash:{},fn:e.program(47,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.hasPrivateAddressOrCountry:n,{name:"if",hash:{},fn:e.program(49,s,0),inverse:e.noop,data:s}))?a:"")+"        </dl>\n\n"},41:function(e,n,t,i,s){return"            <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_MOBILE",{name:"t",hash:{},data:s}))+'</dt>\n            <dd class="text-break">'+e.escapeExpression((t.normalizePhoneDashes||n&&n.normalizePhoneDashes||t.helperMissing).call(null!=n?n:{},null!=n?n.private_mobile:n,{name:"normalizePhoneDashes",hash:{},data:s}))+"</dd>\n"},43:function(e,n,t,i,s){return"            <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_PHONE",{name:"t",hash:{},data:s}))+'</dt>\n            <dd class="text-break">'+e.escapeExpression((t.normalizePhoneDashes||n&&n.normalizePhoneDashes||t.helperMissing).call(null!=n?n:{},null!=n?n.private_phone:n,{name:"normalizePhoneDashes",hash:{},data:s}))+"</dd>\n"},45:function(e,n,t,i,s){return"            <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_FAX",{name:"t",hash:{},data:s}))+'</dt>\n            <dd class="text-break">'+e.escapeExpression((t.normalizePhoneDashes||n&&n.normalizePhoneDashes||t.helperMissing).call(null!=n?n:{},null!=n?n.private_fax:n,{name:"normalizePhoneDashes",hash:{},data:s}))+"</dd>\n"},47:function(e,n,t,i,s){var a;return"            <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_EMAIL",{name:"t",hash:{},data:s}))+'</dt>\n            <dd><a href="mailto:'+e.escapeExpression((a=null!=(a=t.private_email||(null!=n?n.private_email:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"private_email",hash:{},data:s}):a))+'">'+e.escapeExpression((a=null!=(a=t.private_email||(null!=n?n.private_email:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"private_email",hash:{},data:s}):a))+"</a></dd>\n"},49:function(e,n,t,i,s){var a;return"            <dt>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_ADDRESS",{name:"t",hash:{},data:s}))+"</dt>\n            <dd>\n              "+e.escapeExpression((t.join||n&&n.join||t.helperMissing).call(null!=n?n:{},null!=n?n.private_street:n,null!=n?n.private_zip:n,null!=n?n.private_city:n,null!=n?n.private_province:n,{name:"join",hash:{},data:s}))+"\n              "+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.hasBothAddressAndCountry:n,{name:"if",hash:{},fn:e.program(50,s,0),inverse:e.noop,data:s}))?a:"")+"\n              "+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.private_country_name:n,{name:"if",hash:{},fn:e.program(52,s,0),inverse:e.noop,data:s}))?a:"")+"\n            </dd>\n"},50:function(){return"<br />"},52:function(e,n,t,i,s){var a;return e.escapeExpression((a=null!=(a=t.private_country_name||(null!=n?n.private_country_name:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"private_country_name",hash:{},data:s}):a))},54:function(e,n,t,i,s){return"      "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_NO_DATA_MESSAGE",{name:"t",hash:{},data:s}))+"\n"},56:function(){return"    </div>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return'<div id="contact-details" class="lightbox-m">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.jobSeeker:n)?a.extended_job_seeker_info:a,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.noop,data:s}))?a:"")+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.jobSeeker:n)?a.extended_job_seeker_info:a,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.hasData:n,{name:"if",hash:{},fn:e.program(12,s,0),inverse:e.program(54,s,0),data:s}))?a:"")+'\n  <div class="download-area clfx">\n    <h2>\n      '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_DOWNLOAD",{name:"t",hash:{},data:s}))+"\n      <span>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_DOWNLOAD_HINT",{name:"t",hash:{},data:s}))+'</span>\n    </h2>\n\n    <a class="element-form-button-solid-lime" href="'+e.escapeExpression((l=null!=(l=t.downloadUrl||(null!=n?n.downloadUrl:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"downloadUrl",hash:{},data:s}):l))+'">\n      '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_DOWNLOAD_BUTTON",{name:"t",hash:{},data:s}))+"\n    </a>\n  </div>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.jobSeeker:n)?a.extended_job_seeker_info:a,{name:"if",hash:{},fn:e.program(56,s,0),inverse:e.noop,data:s}))?a:"")+"</div>"},useData:!0}),this.HandlebarsTemplates["sections/vcard/contact_details"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/vcard/contact_details_form"]=Handlebars.template({1:function(e,n,t,i,s,a,l){var r,o;return"    <h2>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_HL",{name:"t",hash:{},data:s}))+'</h2>\n    <form action="#" method="post">\n\n      <ul class="tab-nav">\n        <li '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.activeTab:n,"business",{name:"is",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'>\n          <a href="#" data-sub-tab-link="business">\n            '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_BUSINESS",{name:"t",hash:{},data:s}))+'\n            <div class="inner-arrow"></div>\n          </a>\n        </li>\n        <li '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.activeTab:n,"private",{name:"is",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'>\n          <a href="#" data-sub-tab-link="private">\n            '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PRIVATE",{name:"t",hash:{},data:s}))+'\n            <div class="inner-arrow"></div>\n          </a>\n        </li>\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.showProJobsUpsell:n,{name:"if",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'      </ul>\n\n      <div class="business" '+(null!=(r=(t.isNot||n&&n.isNot||t.helperMissing).call(null!=n?n:{},null!=n?n.activeTab:n,"business",{name:"isNot",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'>\n        <ul>\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label for="business-contact-adress">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_ADDRESS",{name:"t",hash:{},data:s}))+'</label>\n                <input type="text" class="text" name="business_street" id="business-contact-adress" value="'+e.escapeExpression((o=null!=(o=t.business_street||(null!=n?n.business_street:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"business_street",hash:{},data:s}):o))+'">\n               </div>\n            </div>\n          </li>\n\n          <li class="line form-row">\n            <div class="unit size1of3">\n              <div class="mod labeled">\n                <label for="business-contact-plz">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_ZIP",{name:"t",hash:{},data:s}))+'</label>\n                <input type="text" class="text" name="business_zip" id="business-contact-plz" value="'+e.escapeExpression((o=null!=(o=t.business_zip||(null!=n?n.business_zip:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"business_zip",hash:{},data:s}):o))+'">\n              </div>\n            </div>\n            <div class="unit size2of3">\n              <div class="mod labeled">\n                <label for="business-contact-city">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_CITY",{name:"t",hash:{},data:s}))+' *</label>\n                <input id="business-contact-city"\n                       type="text"\n                       class="text"\n                       name="business_city"\n                       value="'+e.escapeExpression((o=null!=(o=t.business_city||(null!=n?n.business_city:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"business_city",hash:{},data:s}):o))+'"\n                       data-ds-suggestor=\'{"type": "locations", "field": "city", "consumer": "loggedin.web.profiles.contact_details.business_contact_city.center"}\'>\n              </div>\n            </div>\n          </li>\n\n          <li class="line form-row">\n            <div class="unit size1of3">\n              <div class="mod labeled">\n                <label for="business-contact-country">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_COUNTRY",{name:"t",hash:{},data:s}))+' *</label>\n                <select class="change" name="business_country" id="business-contact-country">\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.countries:n,{name:"each",hash:{},fn:e.program(8,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                </select>\n              </div>\n            </div>\n"+(null!=(r=(t.ifHasValue||n&&n.ifHasValue||t.helperMissing).call(null!=n?n:{},null!=n?n.business_country:n,null!=n?n.provinces:n,{name:"ifHasValue",hash:{},fn:e.program(12,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=(t.ifHasValue||n&&n.ifHasValue||t.helperMissing).call(null!=n?n:{},null!=n?n.business_country:n,null!=n?n.timezones:n,{name:"ifHasValue",hash:{},fn:e.program(15,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'          </li>\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label for="business-contact-email">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_EMAIL",{name:"t",hash:{},data:s}))+'</label>\n                <input type="email" class="text" name="business_email" id="business-contact-email" value="'+e.escapeExpression((o=null!=(o=t.business_email||(null!=n?n.business_email:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"business_email",hash:{},data:s}):o))+'">\n              </div>\n            </div>\n          </li>\n        </ul>\n\n        <fieldset class="labeled">\n          <legend>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_PHONE",{name:"t",hash:{},data:s}))+"</legend>\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.business_phone:n,{name:"if",hash:{},fn:e.program(19,s,0,a,l),inverse:e.program(25,s,0,a,l),data:s}))?r:"")+'        </fieldset>\n\n        <fieldset class="labeled">\n          <legend>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_FAX",{name:"t",hash:{},data:s}))+"</legend>\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.business_fax:n,{name:"if",hash:{},fn:e.program(27,s,0,a,l),inverse:e.program(30,s,0,a,l),data:s}))?r:"")+'        </fieldset>\n\n        <fieldset class="labeled">\n          <legend>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_MOBILE",{name:"t",hash:{},data:s}))+"</legend>\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.business_mobile:n,{name:"if",hash:{},fn:e.program(32,s,0,a,l),inverse:e.program(35,s,0,a,l),data:s}))?r:"")+'        </fieldset>\n\n        <fieldset class="labeled">\n          <legend>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_IM",{name:"t",hash:{},data:s}))+"</legend>\n          <ul>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.instant_messaging:n,{name:"each",hash:{},fn:e.program(37,s,0,a,l),inverse:e.noop,data:s}))?r:"")+(null!=(r=(t.notAllTrue||n&&n.notAllTrue||t.helperMissing).call(null!=n?n:{},null!=n?n.instant_messaging:n,{name:"notAllTrue",hash:{},fn:e.program(40,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'          </ul>\n        </fieldset>\n      </div>\n\n      <div class="private" '+(null!=(r=(t.isNot||n&&n.isNot||t.helperMissing).call(null!=n?n:{},null!=n?n.activeTab:n,"private",{name:"isNot",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'>\n        <ul>\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label for="private-contact-adress">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_ADDRESS",{name:"t",hash:{},data:s}))+'</label>\n                <input type="text" class="text" name="private_street" id="private-contact-adress" value="'+e.escapeExpression((o=null!=(o=t.private_street||(null!=n?n.private_street:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"private_street",hash:{},data:s}):o))+'">\n              </div>\n            </div>\n          </li>\n          <li class="line form-row">\n            <div class="unit size1of3">\n              <div class="mod labeled">\n                <label for="private-contact-plz">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_ZIP",{name:"t",hash:{},data:s}))+'</label>\n                <input type="text" class="text" name="private_zip" id="private-contact-plz" value="'+e.escapeExpression((o=null!=(o=t.private_zip||(null!=n?n.private_zip:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"private_zip",hash:{},data:s}):o))+'">\n              </div>\n            </div>\n            <div class="unit size2of3">\n              <div class="mod labeled">\n                <label for="private-contact-city">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_CITY",{name:"t",hash:{},data:s}))+'</label>\n                <input id="private-contact-city"\n                       type="text"\n                       class="text"\n                       name="private_city"\n                       value="'+e.escapeExpression((o=null!=(o=t.private_city||(null!=n?n.private_city:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"private_city",hash:{},data:s}):o))+'"\n                       data-ds-suggestor=\'{"type": "locations", "field": "city", "consumer": "loggedin.web.profiles.contact_details.private_contact_city.center"}\'>\n              </div>\n            </div>\n          </li>\n          <li class="line form-row">\n            <div class="unit size1of3">\n              <div class="mod labeled">\n                <label for="private-contact-country">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_COUNTRY",{name:"t",hash:{},data:s}))+'</label>\n                <select class="change" name="private_country" id="private-contact-country">\n                  <option value="" '+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.private_country:n,{name:"unless",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">-</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.countries:n,{name:"each",hash:{},fn:e.program(45,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                </select>\n              </div>\n            </div>\n\n"+(null!=(r=(t.ifHasValue||n&&n.ifHasValue||t.helperMissing).call(null!=n?n:{},null!=n?n.private_country:n,null!=n?n.provinces:n,{name:"ifHasValue",hash:{},fn:e.program(48,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n          </li>\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label for="private-contact-email">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_EMAIL",{name:"t",hash:{},data:s}))+'</label>\n                <input type="email" class="text" name="private_email" id="private-contact-email" value="'+e.escapeExpression((o=null!=(o=t.private_email||(null!=n?n.private_email:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"private_email",hash:{},data:s}):o))+'">\n              </div>\n            </div>\n          </li>\n        </ul>\n\n        <fieldset class="labeled">\n          <legend>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_PHONE",{name:"t",hash:{},data:s}))+"</legend>\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.private_phone:n,{name:"if",hash:{},fn:e.program(51,s,0,a,l),inverse:e.program(54,s,0,a,l),data:s}))?r:"")+'        </fieldset>\n\n        <fieldset class="labeled">\n          <legend>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_FAX",{name:"t",hash:{},data:s}))+"</legend>\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.private_fax:n,{name:"if",hash:{},fn:e.program(56,s,0,a,l),inverse:e.program(59,s,0,a,l),data:s}))?r:"")+'        </fieldset>\n\n\n        <fieldset class="labeled">\n          <legend>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_MOBILE",{name:"t",hash:{},data:s}))+"</legend>\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.private_mobile:n,{name:"if",hash:{},fn:e.program(61,s,0,a,l),inverse:e.program(64,s,0,a,l),data:s}))?r:"")+"        </fieldset>\n\n      </div>\n\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.showProJobsUpsell:n,{name:"if",hash:{},fn:e.program(66,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n      <div class="actions submit-row clfx" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.activeTab:n,"projobs-upsell",{name:"is",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'>\n        <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n        <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n      </div>\n    </form>\n"},2:function(){return'class="active"'},4:function(e,n,t,i,s){var a;return"          <li "+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.activeTab:n,"projobs-upsell",{name:"is",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?a:"")+'>\n            <a href="#" data-sub-tab-link="projobs-upsell">\n              '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PROJOBS_UPSELL",{name:"t",hash:{},data:s}))+'\n              <div class="inner-arrow"></div>\n            </a>\n          </li>\n'},6:function(){return'style="display: none;"'},8:function(e,n,t,i,s,a,l){var r;return null!=(r=t.each.call(null!=n?n:{},n,{name:"each",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:""},9:function(e,n,t,i,s,a,l){var r,o;return'                      <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[2]?l[2].business_country:l[2],{name:"is",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},10:function(){return" selected"},12:function(e,n,t,i,s,a,l){var r;return'              <div class="unit size1of3">\n                <div class="mod labeled">\n                  <label for="business-contact-province">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_PROVINCE",{name:"t",hash:{},data:s}))+' *</label>\n                  <select name="business_province" id="business-contact-province">\n                    <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.value:n,{name:"each",hash:{},fn:e.program(13,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                  </select>\n                </div>\n              </div>\n"},13:function(e,n,t,i,s,a,l){var r;return'                      <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[2]?l[2].business_province:l[2],{name:"is",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},15:function(e,n,t,i,s,a,l){var r;return'              <div class="unit size1of3">\n                <div class="mod labeled">\n                  <label for="business-contact-time">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_TIMEZONE",{name:"t",hash:{},data:s}))+'</label>\n                  <select name="time_zone" id="business-contact-time">\n                    <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.value:n,{name:"each",hash:{},fn:e.program(16,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                  </select>\n                </div>\n              </div>\n"},16:function(e,n,t,i,s,a,l){var r;return null!=(r=t.each.call(null!=n?n:{},n,{name:"each",hash:{},fn:e.program(17,s,0,a,l),inverse:e.noop,data:s}))?r:""},17:function(e,n,t,i,s,a,l){var r,o;return'                        <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[3]?l[3].time_zone:l[3],{name:"is",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+"</option>\n"},19:function(e,n,t,i,s){var a;return'            <ul class="phone-field">\n              <li class="line form-row">\n'+(null!=(a=(t.displaySplittedPhoneNumber||n&&n.displaySplittedPhoneNumber||t.helperMissing).call(null!=n?n:{},null!=n?n.business_phone:n,{name:"displaySplittedPhoneNumber",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?a:"")+"              </li>\n            </ul>\n"},20:function(e,n,t,i,s){var a,l;return'                  <div class="unit size1of3'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?a:"")+'">\n                    <div class="mod labeled">\n                      '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?a:"")+'\n                      <label class="sub-label">'+e.escapeExpression((l=null!=(l=t.label||(null!=n?n.label:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"label",hash:{},data:s}):l))+'</label>\n                      <input type="text" class="text" name="business_phone" value="'+e.escapeExpression((l=null!=(l=t.value||(null!=n?n.value:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:s}):l))+'" maxlength="15">\n                    </div>\n                  </div>\n'},21:function(){return" country-code-field"},23:function(){return'<span class="country-code-plus">+</span>'},25:function(e,n,t,i,s){return'            <ul class="phone-field">\n              <li class="line form-row">\n                <div class="unit size1of3 country-code-field">\n                  <div class="mod labeled">\n                    <span class="country-code-plus">+</span>\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONECOUNTRY",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_phone" value="" maxlength="15">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONEAREA",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_phone" maxlength="15" value="">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONENUMBER",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_phone" maxlength="15" value="">\n                  </div>\n                </div>\n              </li>\n            </ul>\n'},27:function(e,n,t,i,s){var a;return'            <ul class="phone-field">\n              <li class="line form-row">\n'+(null!=(a=(t.displaySplittedPhoneNumber||n&&n.displaySplittedPhoneNumber||t.helperMissing).call(null!=n?n:{},null!=n?n.business_fax:n,{name:"displaySplittedPhoneNumber",hash:{},fn:e.program(28,s,0),inverse:e.noop,data:s}))?a:"")+"              </li>\n            </ul>\n"},28:function(e,n,t,i,s){var a,l;return'                  <div class="unit size1of3'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?a:"")+'">\n                    <div class="mod labeled">\n                      '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?a:"")+'\n                      <label class="sub-label">'+e.escapeExpression((l=null!=(l=t.label||(null!=n?n.label:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"label",hash:{},data:s}):l))+'</label>\n                      <input type="text" class="text" name="business_fax" value="'+e.escapeExpression((l=null!=(l=t.value||(null!=n?n.value:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:s}):l))+'" maxlength="15">\n                    </div>\n                  </div>\n'},30:function(e,n,t,i,s){return'            <ul class="phone-field">\n              <li class="line form-row">\n                <div class="unit size1of3 country-code-field">\n                  <div class="mod labeled">\n                    <span class="country-code-plus">+</span>\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONECOUNTRY",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_fax" value="" maxlength="15">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONEAREA",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_fax" maxlength="15" value="">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONENUMBER",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_fax" maxlength="15" value="">\n                  </div>\n                </div>\n              </li>\n            </ul>\n'},32:function(e,n,t,i,s){var a;return'            <ul class="phone-field">\n              <li class="line form-row">\n'+(null!=(a=(t.displaySplittedPhoneNumber||n&&n.displaySplittedPhoneNumber||t.helperMissing).call(null!=n?n:{},null!=n?n.business_mobile:n,{name:"displaySplittedPhoneNumber",hash:{},fn:e.program(33,s,0),inverse:e.noop,data:s}))?a:"")+"              </li>\n            </ul>\n"},33:function(e,n,t,i,s){var a,l;return'                  <div class="unit size1of3'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?a:"")+'">\n                    <div class="mod labeled">\n                      '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?a:"")+'\n                      <label class="sub-label">'+e.escapeExpression((l=null!=(l=t.label||(null!=n?n.label:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"label",hash:{},data:s}):l))+'</label>\n                      <input type="text" class="text" name="business_mobile" value="'+e.escapeExpression((l=null!=(l=t.value||(null!=n?n.value:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:s}):l))+'" maxlength="15">\n                    </div>\n                  </div>\n'},35:function(e,n,t,i,s){return'            <ul class="phone-field">\n              <li class="line form-row">\n                <div class="unit size1of3 country-code-field">\n                  <div class="mod labeled">\n                    <span class="country-code-plus">+</span>\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONECOUNTRY",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_mobile" value="" maxlength="15">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONEAREA",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_mobile" maxlength="15" value="">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONENUMBER",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="business_mobile" maxlength="15" value="">\n                  </div>\n                </div>\n              </li>\n            </ul>\n'},37:function(e,n,t,i,s,a,l){var r;return null!=(r=(t.ifHasValue||n&&n.ifHasValue||t.helperMissing).call(null!=n?n:{},null!=n?n.type:n,l[1],{name:"ifHasValue",hash:{},fn:e.program(38,s,0,a,l),inverse:e.noop,data:s}))?r:""},38:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_contact_details_choose_give_me_a_better_name"],n,{
name:"sections/vcard/_contact_details_choose_give_me_a_better_name",data:s,indent:"                ",helpers:t,partials:i,decorators:e.decorators}))?a:""},40:function(e,n,t,i,s,a,l){var r;return'              <li class="line form-row">\n                <div class="unit size1of3">\n                  <div class="mod">\n                    <select name="add_im_select" class="select-name">\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.instant_messaging:n,{name:"each",hash:{},fn:e.program(41,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                    </select>\n                  </div>\n                </div>\n                <div class="unit size2of3 size2of3-controll">\n                  <div class="mod">\n                    <input type="text" class="text keyup" name="add_im" id="add-im">\n                  </div>\n                </div>\n                <div class="unit"></div>\n              </li>\n'},41:function(e,n,t,i,s,a,l){var r;return null!=(r=(t.unlessHasValue||n&&n.unlessHasValue||t.helperMissing).call(null!=n?n:{},null!=n?n.type:n,l[1],{name:"unlessHasValue",hash:{},fn:e.program(42,s,0,a,l),inverse:e.noop,data:s}))?r:""},42:function(e,n,t,i,s){var a;return null!=(a=(t.unlessEqual||n&&n.unlessEqual||t.helperMissing).call(null!=n?n:{},null!=n?n.type:n,"msn",{name:"unlessEqual",hash:{},fn:e.program(43,s,0),inverse:e.noop,data:s}))?a:""},43:function(e,n,t,i,s){var a;return'                            <option value="'+e.escapeExpression((a=null!=(a=t.type||(null!=n?n.type:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"type",hash:{},data:s}):a))+'">'+e.escapeExpression((a=null!=(a=t.label||(null!=n?n.label:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"label",hash:{},data:s}):a))+"</option>\n"},45:function(e,n,t,i,s,a,l){var r;return null!=(r=t.each.call(null!=n?n:{},n,{name:"each",hash:{},fn:e.program(46,s,0,a,l),inverse:e.noop,data:s}))?r:""},46:function(e,n,t,i,s,a,l){var r,o;return'                      <option value="'+e.escapeExpression((o=null!=(o=t.key||s&&s.key)?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},s&&s.key,null!=l[2]?l[2].private_country:l[2],{name:"is",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},48:function(e,n,t,i,s,a,l){var r;return'              <div class="unit size1of3">\n                <div class="mod labeled">\n                  <label for="private-contact-province">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_PROVINCE",{name:"t",hash:{},data:s}))+'</label>\n                  <select name="private_province" id="private-contact-province">\n                    <option value="">-</option>\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.value:n,{name:"each",hash:{},fn:e.program(49,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                  </select>\n                </div>\n              </div>\n"},49:function(e,n,t,i,s,a,l){var r;return'                      <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[2]?l[2].private_province:l[2],{name:"is",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},51:function(e,n,t,i,s){var a;return'            <ul class="phone-field">\n              <li class="line form-row">\n'+(null!=(a=(t.displaySplittedPhoneNumber||n&&n.displaySplittedPhoneNumber||t.helperMissing).call(null!=n?n:{},null!=n?n.private_phone:n,{name:"displaySplittedPhoneNumber",hash:{},fn:e.program(52,s,0),inverse:e.noop,data:s}))?a:"")+"              </li>\n            </ul>\n"},52:function(e,n,t,i,s){var a,l;return'                  <div class="unit size1of3'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?a:"")+'">\n                    <div class="mod labeled">\n                      '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?a:"")+'\n                      <label class="sub-label">'+e.escapeExpression((l=null!=(l=t.label||(null!=n?n.label:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"label",hash:{},data:s}):l))+'</label>\n                      <input type="text" class="text" name="private_phone" value="'+e.escapeExpression((l=null!=(l=t.value||(null!=n?n.value:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:s}):l))+'" maxlength="15">\n                    </div>\n                   </div>\n'},54:function(e,n,t,i,s){return'            <ul class="phone-field">\n              <li class="line form-row">\n                <div class="unit size1of3 country-code-field">\n                  <div class="mod labeled">\n                    <span class="country-code-plus">+</span>\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONECOUNTRY",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_phone" value="" maxlength="15">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONEAREA",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_phone" maxlength="15" value="">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONENUMBER",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_phone" maxlength="15" value="">\n                  </div>\n                </div>\n              </li>\n            </ul>\n'},56:function(e,n,t,i,s){var a;return'            <ul class="phone-field">\n              <li class="line form-row">\n'+(null!=(a=(t.displaySplittedPhoneNumber||n&&n.displaySplittedPhoneNumber||t.helperMissing).call(null!=n?n:{},null!=n?n.private_fax:n,{name:"displaySplittedPhoneNumber",hash:{},fn:e.program(57,s,0),inverse:e.noop,data:s}))?a:"")+"              </li>\n            </ul>\n"},57:function(e,n,t,i,s){var a,l;return'                  <div class="unit size1of3'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?a:"")+'">\n                    <div class="mod labeled">\n                      '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?a:"")+'\n                      <label class="sub-label">'+e.escapeExpression((l=null!=(l=t.label||(null!=n?n.label:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"label",hash:{},data:s}):l))+'</label>\n                      <input type="text" class="text" name="private_fax" value="'+e.escapeExpression((l=null!=(l=t.value||(null!=n?n.value:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:s}):l))+'" maxlength="15">\n                    </div>\n                  </div>\n'},59:function(e,n,t,i,s){return'            <ul class="phone-field">\n              <li class="line form-row">\n                <div class="unit size1of3 country-code-field">\n                  <div class="mod labeled">\n                    <span class="country-code-plus">+</span>\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONECOUNTRY",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_fax" value="" maxlength="15">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONEAREA",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_fax" maxlength="15" value="">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONENUMBER",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_fax" maxlength="15" value="">\n                  </div>\n                </div>\n              </li>\n            </ul>\n'},61:function(e,n,t,i,s){var a;return'            <ul class="phone-field">\n              <li class="line form-row">\n'+(null!=(a=(t.displaySplittedPhoneNumber||n&&n.displaySplittedPhoneNumber||t.helperMissing).call(null!=n?n:{},null!=n?n.private_mobile:n,{name:"displaySplittedPhoneNumber",hash:{},fn:e.program(62,s,0),inverse:e.noop,data:s}))?a:"")+"              </li>\n            </ul>\n"},62:function(e,n,t,i,s){var a,l;return'                  <div class="unit size1of3'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(21,s,0),inverse:e.noop,data:s}))?a:"")+'">\n                    <div class="mod labeled">\n                      '+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.first:n,{name:"if",hash:{},fn:e.program(23,s,0),inverse:e.noop,data:s}))?a:"")+'\n                      <label class="sub-label">'+e.escapeExpression((l=null!=(l=t.label||(null!=n?n.label:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"label",hash:{},data:s}):l))+'</label>\n                      <input type="text" class="text" name="private_mobile" value="'+e.escapeExpression((l=null!=(l=t.value||(null!=n?n.value:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"value",hash:{},data:s}):l))+'" maxlength="15">\n                    </div>\n                  </div>\n'},64:function(e,n,t,i,s){return'            <ul class="phone-field">\n              <li class="line form-row">\n                <div class="unit size1of3 country-code-field">\n                  <div class="mod labeled">\n                    <span class="country-code-plus">+</span>\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONECOUNTRY",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_mobile" value="" maxlength="15">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONEAREA",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_mobile" maxlength="15" value="">\n                  </div>\n                </div>\n                <div class="unit size1of3">\n                  <div class="mod labeled">\n                    <label class="sub-label">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"FIELDS_PHONENUMBER",{name:"t",hash:{},data:s}))+'</label>\n                    <input type="text" class="text" name="private_mobile" maxlength="15" value="">\n                  </div>\n                </div>\n              </li>\n            </ul>\n'},66:function(e,n,t,i,s){var a;return'        <div class="projobs-upsell ribbon-container" '+(null!=(a=(t.isNot||n&&n.isNot||t.helperMissing).call(null!=n?n:{},null!=n?n.activeTab:n,"projobs-upsell",{name:"isNot",hash:{},fn:e.program(6,s,0),inverse:e.noop,data:s}))?a:"")+'>\n          <div class="ribbon-wrapper">\n            <em class="ribbon">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"XE_NEW",{name:"t",hash:{},data:s}))+'</em>\n          </div>\n          <div class="upgrade-ext-projobs-logo-big projobs-upsell-logo"></div>\n          <p class="projobs-upsell-text">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PROJOBS_UPSELL_INTRO",{name:"t",hash:{},data:s}))+'</p>\n          <p class="projobs-upsell-text--big-gap">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PROJOBS_UPSELL_LIST_TITLE",{name:"t",hash:{},data:s}))+'</p>\n          <ul class="projobs-upsell-list check-lime">\n            <li>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PROJOBS_UPSELL_ITEM_1",{name:"t",hash:{},data:s}))+"</li>\n            <li>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PROJOBS_UPSELL_ITEM_2",{name:"t",hash:{},data:s}))+"</li>\n            <li>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PROJOBS_UPSELL_ITEM_3",{name:"t",hash:{},data:s}))+'</li>\n          </ul>\n\n          <div class="submit-row clfx">\n            <a href="/upsell/projobs?reagent=uplt_228" class="element-form-button-solid-lime button-marketing">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CONTACT_DETAILS_PROJOBS_UPSELL_LINK",{name:"t",hash:{},data:s}))+"</a>\n          </div>\n        </div>\n"},68:function(){return'    <div class="loading-indicator">\n      <img width="16" height="16" alt="" src="/img/v/ajax_wait_r1.gif">\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r;return'<div id="contact-details-form" class="lightbox-m">\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.hasData:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.program(68,s,0,a,l),data:s}))?r:"")+"</div>"},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/vcard/contact_details_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/vcard/elevator_pitch_form"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){return'<form class="edit-layer form-grid" action="#" method="post" novalidate>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <div class="line form-row">\n    <div class="unit size1of1">\n      <div class="mod">\n        <textarea\n          class="text"\n          name="status_message"\n          maxlength="420"\n          placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_STATUS_MESSAGE_HINT",{name:"t",hash:{},data:s}))+'">'+e.escapeExpression(e.lambda(null!=n?n.status_message:n,n))+'</textarea>\n      </div>\n    </div>\n  </div>\n\n  <div class="submit-row clfx">\n    <div class="note">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_STATUS_MESSAGE_NOTE",{name:"t",hash:{},data:s}))+'</div>\n    <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n\n</form>"},useData:!0}),this.HandlebarsTemplates["sections/vcard/elevator_pitch_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/vcard/employment_status_form"]=Handlebars.template({1:function(e,n,t,i,s,a,l){var r;return"\n    <h2>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_EMPLOYMENT_STATUS",{name:"t",hash:{},data:s}))+'</h2>\n    <form class="form-grid profile-form" action="#" method="post">\n      <div>\n        <ul>\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label\n                  for="edit-position">\n                    '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_POSITION",{name:"t",hash:{},data:s}))+'\n                </label>\n                <select\n                  name="position"\n                  id="edit-position">\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=(r=null!=n?n.vcard_settings:n)?r.work_experience:r,{name:"if",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=(r=null!=n?n.vcard_settings:n)?r.education:r,{name:"if",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n                  <option value="add-work-experience">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_ADD_WORK_EXPERIENCE",{name:"t",hash:{},data:s}))+'</option>\n                  <option value="add-education">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_ADD_EDUCATION",{name:"t",hash:{},data:s}))+'</option>\n                </select>\n              </div>\n            </div>\n          </li>\n\n          <li id="subject-input" class="line form-row" style="display: none;">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label\n                  for="edit-subject">\n                    '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDUCTAION_SUBJECT",{name:"t",hash:{},data:s}))+' *\n                </label>\n                <input\n                  type="text"\n                  class="text"\n                  name="subject"\n                  id="edit-subject"\n                  placeholder=\''+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_SUBJECT_INLINE_HINT",{name:"t",hash:{},data:s}))+'\'\n                  maxlength="79">\n              </div>\n            </div>\n          </li>\n\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label\n                  for="edit-employment-status">\n                    '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_STATUS",{name:"t",hash:{},data:s}))+'\n                </label>\n\n                <select\n                  name="type"\n                  id="edit-employment-status"\n                  '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=(r=null!=n?n.vcard_settings:n)?r.occupation_type:r,"student",{name:"is",hash:{},fn:e.program(13,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.types:n,{name:"each",hash:{},fn:e.program(15,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                </select>\n\n                <p class='show-option-text' "+(null!=(r=(t.isNot||n&&n.isNot||t.helperMissing).call(null!=n?n:{},null!=(r=null!=n?n.vcard_settings:n)?r.occupation_type:r,"student",{name:"isNot",hash:{},fn:e.program(13,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">\n                  "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_STUDENT",{name:"t",hash:{},data:s}))+'\n                </p>\n              </div>\n            </div>\n          </li>\n\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label\n                  for="edit-academic-title">\n                    '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_ACADEMIC_TITLE",{name:"t",hash:{},data:s}))+'\n                </label>\n                <select\n                  name="academic_title"\n                  id="edit-academic-title">\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.academic_titles:n,{name:"each",hash:{},fn:e.program(20,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'                </select>\n              </div>\n            </div>\n          </li>\n\n          <li class="line form-row">\n            <div class="unit size1of1">\n              <div class="mod labeled">\n                <label\n                  for="edit-academic-degree">\n                    '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_ACADEMIC_DEGREE",{name:"t",hash:{},data:s}))+'\n                </label>\n                <input\n                  type="text"\n                  class="text"\n                  name="academic_degree"\n                  id="edit-academic-degree"\n                  placeholder=\''+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_ACADEMIC_D_INL_HINT",{name:"t",hash:{},data:s}))+'\'\n                  maxlength="79"\n                  value="'+e.escapeExpression(e.lambda(null!=(r=null!=n?n.vcard_settings:n)?r.academic_degree:r,n))+'">\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n\n      <div class="submit-row clfx">\n        <button class="element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n        <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n        <div class="hint">\n          '+(null!=(r=(t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_EMPLOYMENT_STATUS_HINT",{name:"t",hash:{"settings-link":"/app/settings"},data:s}))?r:"")+"\n        </div>\n      </div>\n    </form>\n\n"},2:function(e,n,t,i,s,a,l){var r;return(null!=(r=t.each.call(null!=n?n:{},null!=(r=null!=n?n.vcard_settings:n)?r.work_experience:r,{name:"each",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                    <option disabled>------------------------------------------------------</option>\n"},3:function(e,n,t,i,s,a,l){var r,o;return'                      <option value="job-'+e.escapeExpression((o=null!=(o=t.id||(null!=n?n.id:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"id",hash:{},data:s}):o))+'"\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.primary_job:n,{name:"if",hash:{},fn:e.program(4,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">\n                        "+e.escapeExpression((o=null!=(o=t.job_title||(null!=n?n.job_title:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"job_title",hash:{},data:s}):o))+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.company_name:n,{name:"if",hash:{},fn:e.program(7,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n                      </option>\n"},4:function(e,n,t,i,s,a,l){var r;return(null!=(r=t.unless.call(null!=n?n:{},null!=(r=null!=l[1]?l[1].vcard_settings:l[1])?r.is_student:r,{name:"unless",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                        "},5:function(){return"                            selected\n"},7:function(e,n,t,i,s){var a;return", "+e.escapeExpression((a=null!=(a=t.company_name||(null!=n?n.company_name:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"company_name",hash:{},data:s}):a))+" "},9:function(e,n,t,i,s,a,l){var r;return(null!=(r=t.each.call(null!=n?n:{},null!=(r=null!=n?n.vcard_settings:n)?r.education:r,{name:"each",hash:{},fn:e.program(10,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"                    <option disabled>------------------------------------------------------</option>\n"},10:function(e,n,t,i,s,a,l){var r,o;return'                      <option value="school-'+e.escapeExpression((o=null!=(o=t.id||(null!=n?n.id:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"id",hash:{},data:s}):o))+'"\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=(r=null!=l[1]?l[1].vcard_settings:l[1])?r.is_student:r,{name:"if",hash:{},fn:e.program(11,s,0,a,l),inverse:e.noop,data:s}))?r:"")+" >\n                        "+e.escapeExpression((o=null!=(o=t.school_name||(null!=n?n.school_name:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"school_name",hash:{},data:s}):o))+"\n                      </option>\n"},11:function(e,n,t,i,s){var a;return(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.primary_school:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?a:"")+"                        "},13:function(){return'style="display: none;"'},15:function(e,n,t,i,s,a,l){var r,o;return'                    <option value="'+e.escapeExpression((o=null!=(o=t.value||(null!=n?n.value:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"value",hash:{},data:s}):o))+'"\n                      '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,"",{name:"is",hash:{},fn:e.program(16,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n                      "+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,"student",{name:"is",hash:{},fn:e.program(16,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"\n                      "+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,null!=(r=null!=l[1]?l[1].vcard_settings:l[1])?r.occupation_type:r,{name:"is",hash:{},fn:e.program(18,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">\n                      "+e.escapeExpression((o=null!=(o=t.description||(null!=n?n.description:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"description",hash:{},data:s}):o))+"\n                    </option>\n"},16:function(){return" disabled"},18:function(){return" selected"},20:function(e,n,t,i,s,a,l){var r;return'                    <option value="'+e.escapeExpression(e.lambda(null!=n?n.value:n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.label:n,null!=(r=null!=l[1]?l[1].vcard_settings:l[1])?r.academic_title:r,{name:"is",hash:{},fn:e.program(18,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.label:n,n))+"</option>\n"},22:function(){return'\n    <div class="loading-indicator">\n      <div class="spinner big big-spinner show"></div>\n    </div>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r;return'<div data-id="edit-employment-status" class="lightbox-m">\n\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.hasData:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.program(22,s,0,a,l),data:s}))?r:"")+"</div>"},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/vcard/employment_status_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/vcard/job_seeker_form"]=Handlebars.template({1:function(e,n,t,i,s,a,l){var r;return"    <h1>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_TITLE",{name:"t",hash:{},data:s}))+'</h1>\n    <h2 class="sub-headline">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SUBTITLE",{name:"t",hash:{},data:s}))+'</h2>\n\n    <hr>\n\n    <form action="#" method="post">\n      <div class="field-row clfx seeking-status">\n'+(null!=(r=(t.key_value||n&&n.key_value||t.helperMissing).call(null!=n?n:{},null!=(r=null!=n?n.resources:n)?r.seeking_status:r,{name:"key_value",hash:{},fn:e.program(2,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'      </div>\n\n      <div class="field-row clfx">\n        <label for="status-visibility" class="term">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_VISIBILITY",{name:"t",hash:{},data:s}))+'</label>\n        <div class="definition">\n          <select class="js-status_visibility" name="status_visibility" id="status-visibility">\n'+(null!=(r=(t.key_value||n&&n.key_value||t.helperMissing).call(null!=n?n:{},null!=(r=null!=n?n.resources:n)?r.status_visibility:r,{name:"key_value",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"          </select>\n        </div>\n      </div>\n\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=(r=null!=n?n.resources:n)?r.detailed_job_seeker_info:r,{name:"if",hash:{},fn:e.program(7,s,0,a,l),inverse:e.program(9,s,0,a,l),data:s}))?r:"")+'\n      <div class="field-row submit-row clfx">\n        <button class="element-form-button-solid-lime" name="send" type="submit" value="1">\n          <span class="button-spinner"></span>\n          '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'\n        </button>\n        <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n"+(null!=(r=t.unless.call(null!=n?n:{},null!=(r=null!=n?n.resources:n)?r.detailed_job_seeker_info:r,{name:"unless",hash:{},fn:e.program(11,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"      </div>\n    </form>\n"},2:function(e,n,t,i,s,a,l){var r,o;return'          <label class="radio">\n            <input type="radio" name="seeking_status" value="'+e.escapeExpression((o=null!=(o=t.key||(null!=n?n.key:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"key",hash:{},data:s}):o))+'"\n            '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=l[2]?l[2].seeking_status:l[2],null!=n?n.key:n,{name:"is",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">\n            "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,{name:"t",hash:{},data:s}))+"\n          </label>\n"},3:function(){return'checked=""'},5:function(e,n,t,i,s){var a;return'              <option value="'+e.escapeExpression((a=null!=(a=t.key||(null!=n?n.key:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"key",hash:{},data:s}):a))+'">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},null!=n?n.value:n,{name:"t",hash:{},data:s}))+"</option>\n"},7:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job_seeker_premium"],n,{name:"sections/vcard/_job_seeker_premium",data:s,indent:"        ",helpers:t,partials:i,decorators:e.decorators}))?a:""},9:function(e,n,t,i,s){var a;return'        <div class="job-seeker-premium-teaser">\n          <div class="job-seeker-premium-teaser-overlay"></div>\n          <div class="job-seeker-opt-premium-checkbox">\n            <h1 class="job-seeker-icon">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_PREMIUM_TITLE",{name:"t",hash:{},data:s}))+' *</h1>\n            <label class="checkbox">\n              <input class="opt-premium-checkbox" checked type="checkbox">\n              '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_PREMIUM_SUB_TITLE",{name:"t",hash:{},data:s}))+'\n            </label>\n            <div class="job-seeker-arrow"></div>\n          </div>\n'+(null!=(a=e.invokePartial(i["sections/vcard/_job_seeker_premium"],n,{name:"sections/vcard/_job_seeker_premium",data:s,indent:"          ",helpers:t,partials:i,decorators:e.decorators}))?a:"")+"        </div>\n"},11:function(e,n,t,i,s){return'          <div class="hint">\n            <span class="required-sign">*</span>\n            '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_PREMIUM_HINT",{name:"t",hash:{},data:s}))+"\n          </div>\n"},13:function(e,n,t,i,s){var a;return null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.detailed_job_seeker_info:a,{name:"if",hash:{},fn:e.program(14,s,0),inverse:e.program(19,s,0),data:s}))?a:""},14:function(e,n,t,i,s){var a;return"\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.extended_job_seeker_info:n,{name:"if",hash:{},fn:e.program(15,s,0),inverse:e.program(17,s,0),data:s}))?a:"")+"\n"},15:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-detailed-info--new"],n,{name:"sections/vcard/_job-seeker-detailed-info--new",data:s,indent:"        ",
helpers:t,partials:i,decorators:e.decorators}))?a:""},17:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-detailed-info"],n,{name:"sections/vcard/_job-seeker-detailed-info",data:s,indent:"        ",helpers:t,partials:i,decorators:e.decorators}))?a:""},19:function(e,n,t,i,s){var a,l;return'      <form>\n        <h2 class="title">\n          '+e.escapeExpression((l=null!=(l=t.displayName||(null!=n?n.displayName:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"displayName",hash:{},data:s}):l))+"\n\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"seeking",{name:"is",hash:{},fn:e.program(20,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"interested",{name:"is",hash:{},fn:e.program(22,s,0),inverse:e.noop,data:s}))?a:"")+"\n"+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(24,s,0),inverse:e.noop,data:s}))?a:"")+"        </h2>\n\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.salary_expectations:n,{name:"if",hash:{},fn:e.program(26,s,0),inverse:e.program(29,s,0),data:s}))?a:"")+'\n        <div class="field-row submit-row clfx">\n'+(null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(34,s,0),inverse:e.program(36,s,0),data:s}))?a:"")+"        </div>\n      </form>\n"},20:function(e,n,t,i,s){return'            <p class="job-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_SEEKING_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},22:function(e,n,t,i,s){return'            <p class="job-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_INTERESTED_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},24:function(e,n,t,i,s){return'            <p class="job-status">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_STATUS_NOT_SEEKING_MSG",{name:"t",hash:{},data:s}))+"</p>\n"},26:function(e,n,t,i,s){var a;return'          <div class="show-job-seeker-details">\n            <div class="block">\n              <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SALARY_EXPECTATION",{name:"t",hash:{},data:s}))+"</h3>\n              <p>\n                "+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_JOB_SEEKER_SALARY_EXPECTATION_FROM",{name:"t",hash:{},data:s}))+"\n                "+e.escapeExpression((t.toCurrencyString||n&&n.toCurrencyString||t.helperMissing).call(null!=n?n:{},null!=n?n.salary_expectations:n,{name:"toCurrencyString",hash:{},data:s}))+" &euro;\n              </p>\n            </div>\n          </div>\n"+(null!=(a=t["if"].call(null!=n?n:{},null!=(a=null!=n?n.resources:n)?a.showProJobsUpsell:a,{name:"if",hash:{},fn:e.program(27,s,0),inverse:e.noop,data:s}))?a:"")},27:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_pro-jobs-upsell-teaser-extended"],n,{name:"sections/vcard/_pro-jobs-upsell-teaser-extended",data:s,indent:"            ",helpers:t,partials:i,decorators:e.decorators}))?a:""},29:function(e,n,t,i,s){var a;return null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.seeking_status:n,"not_seeking",{name:"is",hash:{},fn:e.program(30,s,0),inverse:e.program(32,s,0),data:s}))?a:""},30:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-discourage-contact"],n,{name:"sections/vcard/_job-seeker-discourage-contact",data:s,indent:"            ",helpers:t,partials:i,decorators:e.decorators}))?a:""},32:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/vcard/_job-seeker-encourage-contact"],n,{name:"sections/vcard/_job-seeker-encourage-contact",data:s,indent:"            ",helpers:t,partials:i,decorators:e.decorators}))?a:""},34:function(e,n,t,i,s){return'            <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CLOSEWINDOW",{name:"t",hash:{},data:s}))+"</a>\n"},36:function(e,n,t,i,s){var a;return'            <a href="#" class="element-form-button-solid-lime message-lightbox-link" data-lightbox-params="name='+e.escapeExpression((a=null!=(a=t.pageName||(null!=n?n.pageName:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"pageName",hash:{},data:s}):a))+'">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_VCARD_BUTTON_WRITE_MESSAGE",{name:"t",hash:{},data:s}))+'</a>\n            <a href="#" class="cancel-link lightbox-cancel">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n"},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o,c,u='<div class="job-seeker-lightbox-contents" data-id="job-seeker" class="lightbox-m">\n';return o=null!=(o=t.isCurrentUser||(null!=n?n.isCurrentUser:n))?o:t.helperMissing,c={name:"isCurrentUser",hash:{},fn:e.program(1,s,0,a,l),inverse:e.program(13,s,0,a,l),data:s},r="function"==typeof o?o.call(null!=n?n:{},c):o,t.isCurrentUser||(r=t.blockHelperMissing.call(n,r,c)),null!=r&&(u+=r),u+" </div>"},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/vcard/job_seeker_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/vcard/sales_status_form"]=Handlebars.template({1:function(e,n){var t;return"      <span>"+e.escapeExpression(e.lambda(null!=(t=null!=n?n.sales_status:n)?t.name:t,n))+"</span> ("+e.escapeExpression(e.lambda(null!=(t=null!=n?n.sales_status:n)?t.created:t,n))+")\n"},3:function(){return"      <span>-</span>\n"},5:function(){return'          class="selected"\n        '},7:function(e,n,t,i,s,a,l){var r;return'      <li data-status-id="'+e.escapeExpression(e.lambda(null!=n?n.id:n,n))+'">\n         <a href="#"\n'+(null!=(r=t["if"].call(null!=n?n:{},null!=l[1]?l[1].sales_status:l[1],{name:"if",hash:{},fn:e.program(8,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(null!=n?n.name:n,n))+"</a>\n      </li>\n"},8:function(e,n,t,i,s,a,l){var r;return(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=l[1]?l[1].id:l[1],null!=(r=null!=l[2]?l[2].sales_status:l[2])?r.id:r,{name:"is",hash:{},fn:e.program(9,s,0,a,l),inverse:e.noop,data:s}))?r:"")+"          "},9:function(){return'              class="selected"\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r,o;return"  <span>\n"+(null!=(r=t["if"].call(null!=n?n:{},null!=n?n.sales_status:n,{name:"if",hash:{},fn:e.program(1,s,0,a,l),inverse:e.program(3,s,0,a,l),data:s}))?r:"")+'  </span>\n\n  <a data-simplelayer="next" class="dropdown-link" href="#">\n    '+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_CV_EDIT_CONTENT",{name:"t",hash:{},data:s}))+'\n    <img width="8" height="6" class="icn icn-ext-ctr-arrow-down-darkgrey" src="'+e.escapeExpression((o=null!=(o=t.transparentImage||(null!=n?n.transparentImage:n))?o:t.helperMissing,"function"==typeof o?o.call(null!=n?n:{},{name:"transparentImage",hash:{},data:s}):o))+'" alt="">\n  </a>\n  <ul id="sales-status-list" class="dropdown" style="display: none">\n    <li data-status-id="0">\n      <a href="#"\n'+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.sales_status:n,{name:"unless",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">-</a>\n    </li>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.sales_status_list:n,{name:"each",hash:{},fn:e.program(7,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'  </ul>\n  <div class="spinner"></div>'},useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/vcard/sales_status_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/vcard/vcard_crop_dialog"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'<div class="app-message app-message-success" style="display: none; margin-top: 20px">\n  <div class="app-message-body">\n    <h5>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROFILE_PICTURE_PROCESSING_NOW_HL",{name:"t",hash:{},data:s}))+"</h5>\n    <p>"+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_PROFILE_PICTURE_PROCESSING_NOW",{name:"t",hash:{},data:s}))+'</p>\n  </div>\n</div>\n\n<div class="vcard-cropper image-dialog crop-dialog">\n\n  <div class="spinner big-spinner show"></div>\n\n  <div class="image-holder">\n    <img class="image-to-crop" src="'+e.escapeExpression((a=null!=(a=t.image_url||(null!=n?n.image_url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):a))+'"/>\n  </div>\n\n  <div class="text-holder">\n    <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_IMAGE_PREVIEW",{name:"t",hash:{},data:s}))+'</h2>\n\n    <div class="image-cropper-preview-mask">\n      <img id="preview-main" src="'+e.escapeExpression((a=null!=(a=t.image_url||(null!=n?n.image_url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):a))+'" alt=""/>\n    </div>\n\n    <div class="image-cropper-previews">\n      <div class="ml0 preview-circle">\n        <img id="preview-circle" src="'+e.escapeExpression((a=null!=(a=t.image_url||(null!=n?n.image_url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):a))+'" alt=""/>\n      </div>\n      <div class="preview-big">\n        <img id="preview-big" src="'+e.escapeExpression((a=null!=(a=t.image_url||(null!=n?n.image_url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):a))+'" alt=""/>\n      </div>\n      <div class="preview-medium">\n        <img id="preview-medium" src="'+e.escapeExpression((a=null!=(a=t.image_url||(null!=n?n.image_url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):a))+'" alt=""/>\n      </div>\n      <div class="preview-small">\n        <img id="preview-small" src="'+e.escapeExpression((a=null!=(a=t.image_url||(null!=n?n.image_url:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"image_url",hash:{},data:s}):a))+'" alt=""/>\n      </div>\n    </div>\n\n    <form id="image-cropper-form" method="POST" action="/profile/'+e.escapeExpression((a=null!=(a=t.page_name||(null!=n?n.page_name:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"page_name",hash:{},data:s}):a))+'/picture">\n      <ul>\n        <li class="line form-row actions">\n          <div class="unit size1of1">\n            <div class="mod">\n              <button class="element-form-button-solid-lime" type="submit">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n              <button type="button" class="lightbox-cancel button-as-link">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</button>\n            </div>\n          </div>\n        </li>\n      </ul>\n\n    </form>\n  </div>\n\n  <div class="sub-bar"></div>\n</div>'},useData:!0}),this.HandlebarsTemplates["sections/vcard/vcard_crop_dialog"]}.call(this),function(){Handlebars.registerPartial("sections/web_profiles/_feed_entry",Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){return'<li class="entry line form-row">\n  <div class="unit size1of1">\n  \t<div class="mod">\n      <input type="text" class="text" name="rss" placeholder="Enter a new RSS feed" maxlength="200">\n      <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n     </div>\n  </div>\n</li>"},useData:!0}))}.call(this),function(){Handlebars.registerPartial("sections/web_profiles/_link_entry_icon",Handlebars.template({1:function(){return'  <i class="foundation-icon foundation-icon-social-facebook facebook-icon"></i>\n'},3:function(e,n,t,i,s){var a;return null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.name:n,"Homepage",{name:"is",hash:{},fn:e.program(4,s,0),inverse:e.program(6,s,0),data:s}))?a:""},4:function(){return'    <i class="foundation-icon foundation-icon-core-home homepage-icon"></i>\n'},6:function(){return'    <i class="foundation-icon foundation-icon-core-link other-icon"></i>\n'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return null!=(a=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},null!=n?n.name:n,"Facebook",{name:"is",hash:{},fn:e.program(1,s,0),inverse:e.program(3,s,0),data:s}))?a:""},useData:!0}))}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/web_profiles/feeds_form"]=Handlebars.template({1:function(e,n,t,i,s){var a;return null!=(a=t.each.call(null!=n?n:{},null!=n?n.feeds:n,{name:"each",hash:{},fn:e.program(2,s,0),inverse:e.noop,data:s}))?a:""},2:function(e,n,t,i,s){var a,l;return'          <li class="entry line form-row">\n            <div class="unit size1of1">\n              <div class="mod">\n                <input type="text" class="text'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.url:n,{name:"if",hash:{},fn:e.program(3,s,0),inverse:e.noop,data:s}))?a:"")+'" data-id="'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.id:n,{name:"if",hash:{},fn:e.program(5,s,0),inverse:e.noop,data:s}))?a:"")+'" value="'+e.escapeExpression((l=null!=(l=t.url||(null!=n?n.url:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"url",hash:{},data:s}):l))+'" placeholder="Enter a new RSS feed" maxlength="200">\n                <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n              </div>\n            </div>\n          </li>\n"},3:function(){return" has-text"},5:function(e,n,t,i,s){var a;return e.escapeExpression((a=null!=(a=t.id||(null!=n?n.id:n))?a:t.helperMissing,"function"==typeof a?a.call(null!=n?n:{},{name:"id",hash:{},data:s}):a))},7:function(e,n,t,i,s){var a;return null!=(a=e.invokePartial(i["sections/web_profiles/_feed_entry"],n,{name:"sections/web_profiles/_feed_entry",data:s,indent:"        ",helpers:t,partials:i,decorators:e.decorators}))?a:""},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a;return'  <form class="edit-layer form-grid" action="#" method="post">\n    <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_RSS",{name:"t",hash:{},data:s}))+'</h2>\n    <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n    <ul class="entry-container">\n'+(null!=(a=t["if"].call(null!=n?n:{},null!=n?n.feeds:n,{name:"if",hash:{},fn:e.program(1,s,0),inverse:e.program(7,s,0),data:s}))?a:"")+'\n    </ul>\n\n    <div class="submit-row clfx">\n      <button class="submit element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n      <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n    </div>\n  </form>"},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/web_profiles/feeds_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/web_profiles/link_entry"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){var a,l;return'<li class="entry line form-row">\n  <div class="unit size1of1">\n    <div class="mod edit-link-entry">\n'+(null!=(a=e.invokePartial(i["sections/web_profiles/_link_entry_icon"],n,{name:"sections/web_profiles/_link_entry_icon",data:s,indent:"      ",helpers:t,partials:i,decorators:e.decorators}))?a:"")+'      <input type="text" class="text" name="'+e.escapeExpression((l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:s}):l))+'" maxlength="200"placeholder="'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WEB_PROFILE_LINKS_INLINE_HINT",{name:"t",hash:{},data:s}))+'">'+e.escapeExpression((l=null!=(l=t.service||(null!=n?n.service:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"service",hash:{},data:s}):l))+'\n      <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n    </div>\n  </div>\n</li>"},usePartial:!0,useData:!0}),this.HandlebarsTemplates["sections/web_profiles/link_entry"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/web_profiles/links_form"]=Handlebars.template({1:function(e,n,t,i,s){var a,l;return'      <li class="entry line form-row" data-service="'+e.escapeExpression((l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:s}):l))+'">\n        <div class="unit size1of1">\n          <div class="mod edit-link-entry">\n'+(null!=(a=e.invokePartial(i["sections/web_profiles/_link_entry_icon"],n,{name:"sections/web_profiles/_link_entry_icon",data:s,indent:"            ",helpers:t,partials:i,decorators:e.decorators}))?a:"")+"            "+e.escapeExpression((l=null!=(l=t.links||(null!=n?n.links:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"links",hash:{},data:s}):l))+'\n            <input type="text" class="text" name="'+e.escapeExpression((l=null!=(l=t.name||(null!=n?n.name:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"name",hash:{},data:s}):l))+'" value="'+e.escapeExpression((l=null!=(l=t.url||(null!=n?n.url:n))?l:t.helperMissing,"function"==typeof l?l.call(null!=n?n:{},{name:"url",hash:{},data:s}):l))+'" maxlength="200">\n            <div class="remove-entry remove-fields"><span>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_DELETE",{name:"t",hash:{},data:s}))+"</span></div>\n          </div>\n        </div>\n      </li>\n"},3:function(){return"display: none"},5:function(e,n,t,i,s,a,l){var r;return'      <option value="'+e.escapeExpression(e.lambda(n,n))+'" '+(null!=(r=(t.is||n&&n.is||t.helperMissing).call(null!=n?n:{},n,null!=l[1]?l[1].links:l[1],{name:"is",hash:{},fn:e.program(6,s,0,a,l),inverse:e.noop,data:s}))?r:"")+">"+e.escapeExpression(e.lambda(n,n))+"</option>\n"},6:function(){return'disabled="disabled"'},compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s,a,l){var r;return'<form class="edit-layer form-grid" action="#" method="post">\n  <h2>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_EDIT_HL_WEB_PROFILES_LINKS",{name:"t",hash:{},data:s}))+'</h2>\n  <a href="#" class="foundation-icon-shape-cross-circle close layer-close" data-edit-close="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+'</a>\n\n  <ul class="entry-container">\n\n'+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.links:n,{name:"each",hash:{},fn:e.program(1,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'\n  </ul>\n\n  <hr style="'+(null!=(r=t.unless.call(null!=n?n:{},null!=n?n.links:n,{name:"unless",hash:{},fn:e.program(3,s,0,a,l),inverse:e.noop,data:s}))?r:"")+';">\n\n  <select name="web-profiles" id="web-services">\n    <option value="">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WEB_PROFILE_ADD_SERVICE",{name:"t",hash:{},data:s}))+"</option>\n"+(null!=(r=t.each.call(null!=n?n:{},null!=n?n.web_services:n,{name:"each",hash:{},fn:e.program(5,s,0,a,l),inverse:e.noop,data:s}))?r:"")+'     <option value="OTHER">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_WEB_PROFILE_OTHER_SERVICES",{name:"t",hash:{},data:s}))+'</option>\n  </select>\n\n  <div class="submit-row clfx">\n    <button class="submit element-form-button-solid-lime" name="send" type="submit" value="1">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_SAVE",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link layer-close">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n\n</form>"},usePartial:!0,useData:!0,useDepths:!0}),this.HandlebarsTemplates["sections/web_profiles/links_form"]}.call(this),function(){return this.HandlebarsTemplates||(this.HandlebarsTemplates={}),this.HandlebarsTemplates["sections/web_profiles/remove_twitter_preview_confirmation"]=Handlebars.template({compiler:[7,">= 4.0.0"],main:function(e,n,t,i,s){return'<div class="twitter_remove_preview_overlay">\n  <h3>'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"PROFILERAILS_OTHER_WEB_PROFILES_REMOVE_TWITTER_PREVIEW",{name:"t",hash:{},data:s}))+'</h3>\n  <div class="field-row submit-row clfx">\n    <button class="button" type="button">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_OK",{name:"t",hash:{},data:s}))+'</button>\n    <a href="#" class="cancel-link">'+e.escapeExpression((t.t||n&&n.t||t.helperMissing).call(null!=n?n:{},"BUTTON_CANCEL",{name:"t",hash:{},data:s}))+"</a>\n  </div>\n</div>"},useData:!0}),this.HandlebarsTemplates["sections/web_profiles/remove_twitter_preview_confirmation"]}.call(this),xing.define("profiles.ajaxHelper",function(e){"use strict";return $.ajax(e)}),Backbone.View=Backbone.View.extend({assign:function(e,n){var t;_.isObject(e)?t=e:(t={},t[e]=n),t&&_.each(t,function(e,n){e.setElement(this.$(n)).render()},this)}}),$.extend(Backbone.Model.prototype,{populated:!1,parse:function(e){return this.populated=!0,e}}),$.extend(Backbone.Collection.prototype,{populated:!1,parse:function(e){return this.populated=!0,e}}),xing.utils.Behaviors.add({".js-contacts-nav:click":function(e,n){var t=null!==e.attr("href").match("shared=true");xing.profiles.commonalitiesLightbox&&xing.profiles.commonalitiesLightbox.close(),xing.profiles.router.navigateToContacts({prop64:xing.profiles.globals.profileAttributes.self?"b5178_10_VCcoclidb":"b5178_20_VCcoclidb"},t),$("#js-profile-information-navigation").scrollTo({addOffset:-($("#contacts-tab h2").outerHeight()+$("#contact-search").outerHeight())}),n.preventDefault()},".commonalities-trigger .js-lightbox-link:click":function(e,n){n.preventDefault();var t=$("#commonalities-light-box");xing.profiles.commonalitiesLightbox=new xing.controls.Lightbox({content:t.html()}),xing.profiles.tracking.loggedIn("openMatchesLightbox",xing.profiles.globals.profileAttributes.self)},"[data-add-new]:click, [data-edit-layer-new]:click":function(e){var n,t=$(e).attr("data-tag-type"),i=$("[data-edit-layer-new]").closest("*[data-tag-type='"+t+"']"),s=$("#cv-tab .edit-container"),a=i.find(".editor-content"),l=e.attr("data-add-new")||e.attr("data-edit-layer-new"),r=xing.profiles.mixins.WithCalculationHelper.headerHeight(80);i.find(".edit-container").length||i.data("xhr-active")||(s.length&&(s.prev(".editor-content").show(),s.remove()),i.data("xhr-active",!0),$("#top-haves-edit-help-layer").remove(),n=$.ajax(decodeURI(l)),n.done(function(e){a.hide(),i.append(e).scrollTo(300,-r),i.data("xhr-active",!1),xing.utils.Behaviors.update(i)}))},"[data-edit-layer-new]":function(e){xing.on("profiles.open_edit_layer",function(){e.find(".editor-content").show().next(".edit-container").remove()})},"#top-haves-help-layer-trigger:click":function(e,n){n.preventDefault(),xing.profiles.tracking.loggedIn("topHavesHelpLayerShowOther",!1)}});var console=console||{log:function(){}};xing.define("profiles.utils.DateHelper",{getDateRange:function(e){var n="",t="",i=e.begin_date_year,s=e.end_date_year;return i?(e.begin_date_month&&(n+=("0"+e.begin_date_month).slice(-2)+"/"),n+=e.begin_date_year,e.end_date_month&&(t+=("0"+e.end_date_month).slice(-2)+"/"),t+=e.end_date_year,s?n+" - "+t:n+" - "+xing.i18n.t("PRESENT")):""},getToday:function(){return new Date},textresource:function(e,n){return xing.i18n.t(n>1?e+"S":e)},durationString:function(e,n){var t="";return e&&(t+=e+" "+this.textresource("XE_YEAR",e)),n&&e&&(t+="<br>"),n&&(t+=n+" "+this.textresource("XE_MONTH",n)),t},getDuration:function(e){var n,t,i,s,a,l;return e.begin_date_year?(n=new Date(e.begin_date_year,e.begin_date_month),e.end_date_year?t=new Date(e.end_date_year,e.end_date_month+1):(l=this.getToday(),t=new Date(l.getUTCFullYear(),l.getUTCMonth()+1)),i=new Date(t.getTime()-n.getTime()),e.begin_date_year&&!e.begin_date_month&&e.end_date_year&&!e.end_date_month?a=i.getUTCFullYear()-1970+1:(s=e.begin_date_month===e.end_date_month||l&&e.begin_date_month===l.getUTCMonth()+1?1:i.getUTCMonth()?i.getUTCMonth()+1:undefined,a=i.getUTCFullYear()-1970),this.durationString(a,s)):""}}),function(e,n,t){"use strict";"undefined"!=typeof module&&module.exports?module.exports=t(n,e):"function"==typeof define&&define.amd?define("detect-zoom",function(){return t(n,e)}):e[n]=t(n,e)}(window,"detectZoom",function(){var e=function(){return window.devicePixelRatio||1},n=function(){return{zoom:1,devicePxPerCssPx:1}},t=function(){var n=Math.round(screen.deviceXDPI/screen.logicalXDPI*100)/100;return{zoom:n,devicePxPerCssPx:n*e()}},i=function(){var n=Math.round(document.documentElement.offsetHeight/window.innerHeight*100)/100;return{zoom:n,devicePxPerCssPx:n*e()}},s=function(){var n=Math.round(window.outerWidth/window.innerWidth*100)/100;return{zoom:n,devicePxPerCssPx:n*e()}},a=function(){var n=Math.round(document.documentElement.clientWidth/window.innerWidth*100)/100;return{zoom:n,devicePxPerCssPx:n*e()}},l=function(){var n=90==Math.abs(window.orientation)?screen.height:screen.width,t=n/window.innerWidth;return{zoom:t,devicePxPerCssPx:t*e()}},r=function(){var n=function(e){return e.replace(/;/g," !important;")},t=document.createElement("div");t.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0",t.setAttribute("style",n("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));var i=document.createElement("div");i.setAttribute("style",n("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;")),i.appendChild(t),document.body.appendChild(i);var s=1e3/t.clientHeight;return s=Math.round(100*s)/100,document.body.removeChild(i),{zoom:s,devicePxPerCssPx:s*e()}},o=function(){var e=d("min--moz-device-pixel-ratio","",0,10,20,1e-4);return e=Math.round(100*e)/100,{zoom:e,devicePxPerCssPx:e}},c=function(){return{zoom:o().zoom,devicePxPerCssPx:e()}},u=function(){var n=window.top.outerWidth/window.top.innerWidth;return n=Math.round(100*n)/100,{zoom:n,devicePxPerCssPx:n*e()}},d=function(e,n,t,i,s,a){function l(t,i,s){var o=(t+i)/2;return s<=0||i-t<a?o:r("("+e+":"+o+n+")").matches?l(o,i,s-1):l(t,o,s-1)}var r,o,c,u;window.matchMedia?r=window.matchMedia:(o=document.getElementsByTagName("head")[0],c=document.createElement("style"),o.appendChild(c),u=document.createElement("div"),u.className="mediaQueryBinarySearch",u.style.display="none",document.body.appendChild(u),r=function(e){c.sheet.insertRule("@media "+e+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);var n="underline"==getComputedStyle(u,null).textDecoration;return c.sheet.deleteRule(0),{matches:n}});var d=l(t,i,s);return u&&(o.removeChild(c),document.body.removeChild(u)),d},p=function(){var e=n;return isNaN(screen.logicalXDPI)||isNaN(screen.systemXDPI)?window.navigator.msMaxTouchPoints?e=i:window.chrome&&!(window.opera||navigator.userAgent.indexOf(" Opera")>=0)?e=s:Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0?e=a:"orientation"in window&&"webkitRequestAnimationFrame"in window?e=l:"webkitRequestAnimationFrame"in window?e=r:navigator.userAgent.indexOf("Opera")>=0?e=u:window.devicePixelRatio?e=c:o().zoom>.001&&(e=o):e=t,e}();return{zoom:function(){return p().zoom},device:function(){return p().devicePxPerCssPx}}}),Handlebars.registerHelper("t",function(e,n){return n=n?n.hash:{},Object.keys(n).forEach(function(e){n[e]instanceof Handlebars.SafeString||(n[e]=Handlebars.Utils.escapeExpression(n[e]))},this),new Handlebars.SafeString(xing.i18n.t(e,n))}),Handlebars.registerHelper("isCurrentUser",function(e){return xing.profiles.models.userExtentions.get("self")?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("isNotCurrentUser",function(e){return xing.profiles.models.userExtentions.get("self")?e.inverse(this):e.fn(this)}),Handlebars.registerHelper("isBasic",function(e){return xing.profiles.globals.basic?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("log",function(e){console.log(e)}),Handlebars.registerHelper("truncate",function(e,n){return n=n||30,e&&e.length>n?e.slice(0,n)+"\u2026":e}),Handlebars.registerHelper("downcase",function(e){return e.toLowerCase()}),Handlebars.registerHelper("is",function(e,n,t){return(e&&e.toString())===(n&&n.toString())?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isNot",function(e,n,t){return e!==n?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isIn",function(e,n,t){return n.indexOf(e)>=0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("isInsideArray",function(e,n,t){return-1!==jQuery.inArray(e,n)?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("ifHasValue",function(e,n,t){return n[e]?t.fn($.extend({},this,{value:n[e]})):t.inverse(this)}),Handlebars.registerHelper("unlessHasValue",function(e,n,t){return n[e]?t.inverse(this):t.fn($.extend({},this,{value:n[e]}))}),Handlebars.registerHelper("join",function(){var e=[];return $.each(arguments,function(n,t){"string"==typeof t&&e.push(t)}),e.join(", ")}),Handlebars.registerHelper("notAllTrue",function(e,n){var t;return $.isArray(e)?(e.forEach(function(e){this[e.type]||(t=n.fn(this))},this),t):"no array"}),Handlebars.registerHelper("ifEqual",function(e,n,t){return e===n?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("unlessEqual",function(e,n,t){return e!==n?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("ifOneIsThere",function(e,n){return e||n?_.last(arguments).fn(this):_.last(arguments).inverse(this)}),Handlebars.registerHelper("getAuthenticityToken",function(){return xing.profiles.globals.authenticityToken}),Handlebars.registerHelper("key_value",function(e,n){var t,i="";for(t in e)e.hasOwnProperty(t)&&(i+=n.fn({key:t,value:e[t]}));return i}),Handlebars.registerHelper("displayName",function(){return xing.profiles.globals.profileAttributes.displayName}),Handlebars.registerHelper("pageName",function(){return xing.profiles.globals.profile.page_name}),Handlebars.registerHelper("transparentImage",function(){return xing.profiles.globals.transparentImage}),Handlebars.registerHelper("toCurrencyString",function(e){var n=e.toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1.");return n.substring(0,n.length-3)}),Handlebars.registerHelper("getByKeyNames",function(e,n,t){_.isArray(e)||(e=[e]);var i=n.filter(function(n){return e.indexOf(n.id)>=0});return t.fn(_.compact(i))}),Handlebars.registerHelper("ifMale",function(e){return"m"===xing.profiles.globals.profile.gender?e.fn(this):"f"===xing.profiles.globals.profile.gender?e.inverse(this):void 0}),Handlebars.registerHelper("if_iPad",function(e){return xing.profiles.globals.iPad?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("if_greater_than_iOS_5",function(e){if(!xing.profiles.globals.iOS)return e.inverse(this);var n=xing.profiles.globals.iOS[6],t=xing.profiles.globals.iOS[7];return n||t?e.fn(this):e.inverse(this)}),Handlebars.registerHelper("forEach",function(e,n){return n.inverse&&!e.length?n.inverse(this):e.map(function(t,i){return n.fn({item:t,first:0===i,last:i===e.length-1,index:i,length:e.length})}).join("")}),Handlebars.registerHelper("displaySplittedPhoneNumber",function(e,n){var t,i,s=[];if(s=[xing.i18n.t("FIELDS_PHONECOUNTRY"),xing.i18n.t("FIELDS_PHONEAREA"),xing.i18n.t("FIELDS_PHONENUMBER")],e)return t=e.substring(1).split("-"),t.length>3&&(i=t.slice(2).join("-"),t=[t[0],t[1],i]),t.map(function(e,t,i){return n.fn({label:s[t],value:e,first:0===t,last:t===i.length-1})}).join("")}),
Handlebars.registerHelper("normalizePhoneDashes",function(e){return e.indexOf("--")>=0&&(e=e.replace("--","-")),e}),Handlebars.registerHelper("isFirstIndustryLevel",function(e,n,t){return e===(n&&1e4*Math.floor(n/1e4))?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("scrambledUserId",function(){return xing.profiles.globals.profileAttributes.scrambled_user_id}),Handlebars.registerHelper("inlineBold",function(e){return new Handlebars.SafeString(e.fn(this).replace(/\[(.*?)\]/g,function(e){return"<strong>"+e.substr(1,e.length-2)+"</strong>"}))}),Handlebars.registerHelper("wrap",function(e,n,t){return n+e+t}),xing.define("i18n",function(){var e=new RegExp("%{(.*?)}","g");return{locale:{},t:function(n,t){var i=this.locale[xing.profiles.globals.lang],s=i[n];return s?t&&("object"===$.type(s)&&Object.keys(t).forEach(function(e){var n=t[e];"number"===$.type(n)&&(s=1===n?s.one:s.other)},this),s=s.replace(e,function(e,n){return t[n]})):s=n.toLowerCase()+" [TM]",s}}}()),xing.define("profiles.inViewHelper",function(e){"use strict";var n=e[0].getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}),xing.define("profiles.utils.Number",{pad:function(e){return(e<10?"0":"")+e}}),xing.define("profiles.utils.photoUploadProgressHelper",function(){var e={uploadHover:"#vcard .upload-hover",loadingOverlay:"#vcard .loading-overlay",miniVCardphotoOverlay:".profile-mini-vcard-loading-overlay"},n=2e3,t=200;return Class.create({completeProcess:function(){"undefined"!=typeof Storage&&localStorage.removeItem("xing_photo_upload_current_percentage"),$(e.uploadHover).hide(),$(e.loadingOverlay).show(),$(e.miniVCardphotoOverlay).show(),this.pollForProfilePhotoProgress(),xing.trigger("uploadImage.success")},pollForProfilePhotoProgress:function(){var i=xing.profiles.settings.mainPath+xing.profiles.models.user.get("page_name")+"/profile_photo/progress";$.getJSON(i).done(function(i){var s,a,l,r=i.current_status,o="xing_photo_upload_current_percentage",c=Math.min(100,i.next_percentage),u=Math.min(100,i.percentage),d=$(e.loadingOverlay).find(".progress");if("failed"===r)return"undefined"!=typeof Storage&&localStorage.removeItem(o),$(e.uploadHover).show(),$(e.loadingOverlay).hide(),$(e.miniVCardphotoOverlay).hide(),void xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_PROFILE_PHOTO_UPLOAD_FAILED")});s=Math.floor(d.width()/d.offsetParent().width()*100),"undefined"!=typeof Storage&&null!=(a=localStorage.getItem(o))&&(a=parseInt(a,10))<u&&d.width(a+"%"),u<100?(null==a&&(a=u>s?u:s),l=a+Math.floor((c-a)/2),"undefined"!=typeof Storage&&localStorage.setItem(o,l),d.animate({width:l+"%"},n),setTimeout(this.pollForProfilePhotoProgress.bind(this),n)):("undefined"!=typeof Storage&&localStorage.removeItem(o),d.animate({width:"100%"},t),setTimeout(function(){xing.profiles.views.vCard.render(),this.reloadMefeed()}.bind(this),t))}.bind(this))},reloadMefeed:function(){window.reload_mefeed&&window.reload_mefeed()}})}()),xing.define("repaint",function(e){if(e){var n=document.createElement("div");n.innerHTML="x",n.style.visibility="hidden",n.style.height="1px",document.body.insertBefore(n,document.body.firstChild),window.setTimeout(function(){document.body.removeChild(n)},1)}}),xing.profiles&&xing.profiles.tracking&&xing.profiles.tracking.statsd||xing.define("profiles.tracking.statsd",{trackView:function(e){"use strict";return $.ajax({type:"POST",url:"/profile/tracking/views.json",contentType:"application/json",data:JSON.stringify({action_type:e.actionType,profile_version:e.profileVersion,sub_key:e.subKey})}).always(function(n){e.onSuccess&&e.onSuccess(n)})},trackClick:function(e){"use strict";var n,t,i="loggedout";if(e.actionType&&(i=e.actionType),e.clickName)n=e.clickName;else for(t in e.callToActionTrackingCodes)e.callToActionTrackingCodes[t]===e.trackingCode&&(n=t);return $.ajax({type:"POST",url:"/profile/tracking/clicks.json",contentType:"application/json",data:JSON.stringify({action_type:i,click_type:e.clickType,click_name:n,profile_version:e.profileVersion})}).always(function(n){e.onSuccess&&e.onSuccess(n)})},trackAction:function(e){$(e.selector,e.scope).click(function(n){var t=$(n.currentTarget).data(e.dataParam),i=$(n.currentTarget).data(e.typeParam);e.callback({trackingName:t,clickType:i||"link"})})},trackLightBoxClose:function(e){xing.on(e.eventName,function(){e.callback({trackingName:e.lightBoxName})}.bind(this))}}),xing.define("xing.profiles.validations",{url:/(^|\s)((https?:\/\/)?[\u00F0-\u02AF\w-]+(\.[\w-]+)+\.?(:\d+)?(\/\S*)?)/}),xing.define("profiles.mixins.WithCalculationHelper",{headerHeight:function(e){return $(".js-profile-mini-vcard").outerHeight()+$("#js-profile-information-navigation").outerHeight()+e}}),xing.define("profiles.mixins.WithEditLayer",{close:function(){this.$el.prevAll(".editor-content").show(),xing.trigger("lightbox.close"),this.remove(),xing.trigger("profiles.resize")},onLayerCloseClick:function(e){e.preventDefault(),this.close()},onClick:function(e){e.stopPropagation()},onModelSaveSuccess:function(e){var n=xing.profiles.models.user.get("page_name"),t=xing.profiles.mixins.WithCalculationHelper.headerHeight(80);xing.profiles.views.content.currentContainer.scrollTo(200,-t),e&&"webProfiles"===e?xing.profiles.router.webProfiles(xing.profiles.models.user.get("page_name"),!0,!0):(xing.profiles.router.navigate(n+"/cv",{replace:!0}),xing.profiles.router.cv(n,!0,!0,!1)),xing.trigger("profiles.resize")},onModelSaveError:function(){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR")})},focusFirstField:function(){}}),xing.define("profiles.mixins.WithErrorMessages",{errors:[],error:function(){var e,n,t=xing.profiles.mixins.WithCalculationHelper.headerHeight(0);this.showErrorMessages(),e=this.$(".input-error").first(),n=e.closest(".form-row"),n[0]&&n.scrollTo(200,-t),setTimeout(function(){e.focus()},200)},showErrorMessages:function(){this.errors.forEach(function(e){var n=e.element;n.next().remove(),n.addClass("input-error").after(HandlebarsTemplates.error_message(e.message))},this)},collectErrors:function(e,n,t){this.errors.push({message:t,element:this.$el.find("[name="+n+"]")})}}),xing.define("profiles.mixins.WithLoadingIndicator",{loadingIndicator:function(e,n){n=n||".loading-indicator";var t=this.indicator||this.$(n)[0]||this.$el.next()[0];t&&(t=$(t),e?(t.show().addClass("show").removeClass("hide show-image"),setTimeout(function(){t.hasClass("show")&&t.addClass("show-image")},600)):(t.removeClass("show show-image").addClass("hide"),setTimeout(function(){t.hasClass("hide")&&t.hide()},300)))}}),xing.define("profiles.mixins.WithOpenEditLayer",{onAddClick:function(e){var n=$(e.currentTarget),t=this.$("[data-edit-layer="+n.data("add")+"]").first();this.openEditLayer(t)},onOpenEditLayerClick:function(e){e.stopPropagation();var n=$(e.currentTarget),t=n.data("edit-id");this.openEditLayer(n,t)},openEditLayer:function(e,n){var t=e.data("edit-layer"),i=xing.profiles.mixins.WithCalculationHelper.headerHeight(80);xing.trigger("profiles.open_edit_layer"),this.currentContainer=e,this.layer&&this.layer.close(),this.layer=this.createLayerView(t,n),e.append(this.layer.render().el).find(".editor-content").hide(),this.layer.$el.scrollTo(200,-i,this.layer.focusFirstField.bind(this)),xing.trigger("profiles.resize")}}),xing.define("profiles.mixins.WithUploadFile",{baseConfig:{method:"POST",enctype:"multipart/form-data",target:"upload-iframe"},uploadFile:function(e,n,t,i){var s,a=$.extend({},this.baseConfig,n);s=$("<iframe/>").attr({name:this.baseConfig.target,id:this.baseConfig.target}).css({display:"none"}).appendTo("body"),e.attr(a).submit(),s.on("load",function(e){i(e,t),s.off("load"),s.remove()})}}),xing.controls.ContactList=function(e,n,t){"use strict";function i(e,n){this.$el=t('<div class="page">'+e.join("")+"</div>"),this.position=this._calculatePosition(n),this.$el.css({top:this.position})}var s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZ#",l=50,r=350,o=3,c=5,u=107,d=128,p=10,h="#contact-search",f="#contacts-tab h2",m="#contacts-tab .reco-teaser",g="#fixed-letter-headline",v="#contacts-tab",b="[data-tab-type='contacts']",x="#js-profile-information-navigation",E=t(e),y=E.height();return i.prototype={height:function(){return this.$el.height()},offset:function(){return this.position},remove:function(){this.$el.remove(),this.prev()&&this.prev().next(null),this.next()&&this.next().prev(null)},next:function(e){if(e===s)return this._nextPage;this._nextPage=e},prev:function(e){if(e===s)return this._prevPage;this._prevPage=e},appendAfter:function(e,n){if(!n.next())return this.appendTo(e),this.prev(n),n.next(this),!0},appendBefore:function(e,n){if(!n.prev())return this.appendTo(e),this.next(n),n.prev(this),!0},appendTo:function(e){e.append(this.$el),n.utils.Behaviors.update(this.$el)},equals:function(e){return this.position===e.position},first:function(){return this.$el.find(".contact:first")},last:function(){return this.$el.find(".contact:last")},letter:function(){return this.first().data("letter")},firstIndex:function(){return this.first().data("index")},lastIndex:function(){return this.last().data("index")},_calculatePosition:function(e){var n,t,i=this.$el.children().first(),s=i.is(".contact");return s?(n=i.data("letter"),t=i.data("index")):(n=i.html(),t=null),e(n,t)}},{constructor:function(e){this.$container=e.contactList,this.pages=[],this.offset=this.$container.offset().top,this._config=e,this.isLoading={},this.$searchContainer=t(e.searchContainer),t.get(e.countUrl).done(this._handleCountRequest.bind(this)).fail(this._handleNotAllowed.bind(this)),this._preventDefaultClicks(),this._setupStickinessTriggers(),Backbone.Model.apply(this)},_stickyElementsOffset:function(){return t("#js-profile-information-navigation").outerHeight()+t(".js-profile-mini-vcard").outerHeight()+t(h).outerHeight()},_isOnContactsTab:function(){return!(!t(b).length||!t(b).offset())&&t(b).hasClass("active")},_showStickyElements:function(){return!n.browser.TOUCH&&!!this._fixations},_setupStickinessTriggers:function(){var e=this;if(_.bindAll(this,"_handleContactsSearchScroll","_isOnContactsTab","_hideFixedLetter","_resetSearchPosition"),n.browser.TOUCH)return!1;E.on("scroll",this._handleContactsSearchScroll),n.on("profile.minivcard.shown.normal",function(){e._isOnContactsTab()&&e._showStickyElements()&&e._resetContactsLetterAndSearch()}),n.on("profile.minivcard.shown.fixed",function(){e._isOnContactsTab()&&e._showStickyElements()&&e._showContactsLetterAndSearch()}),n.on("profile.minivcard.shown.absolute",function(){e._isOnContactsTab()&&e._showStickyElements()&&e._hideContactsLetterAndSearch()})},_hideContactsLetterAndSearch:function(){t(h).css({display:"none","padding-top":""}),this._hideFixedLetter()},_showContactsLetterAndSearch:function(){this._positionContactsSearchFixed(),t(g).css({display:"block"})},_hideFixedLetter:function(){t(g).css({display:"none"})},_resetSearchPosition:function(){t(h).css({position:"",display:"block"})},_resetContactsLetterAndSearch:function(){this._resetSearchPosition(),this._hideFixedLetter()},_positionContactsSearchFixed:function(){t(h).css({display:"block",position:"fixed",left:t(v).offset().left,top:parseInt(t(x).css("top"),0)+parseInt(t(x).outerHeight(),0)-5,"padding-top":30})},_handleContactsSearchScroll:function(){if(!this._isOnContactsTab()||!this._showStickyElements())return!1;"block"===t(g).css("display")&&this._positionContactsSearchFixed();var e=t(m)?t(m).outerHeight():0;t(f).offset().top+e>t(h).offset().top&&this._resetContactsLetterAndSearch()},_preventDefaultClicks:function(){t("#contacts-tab a[data-simplelayer]").click(function(e){e.preventDefault()})},_displayError:function(e){this.$searchContainer.hide(),this.$container.append("<span id='errors-contacts'>"+e.errors.contacts+"</span>")},_handleNotAllowed:function(e){var n=t.parseJSON(e.responseText);n.errors&&this._displayError(n)},_handleCountRequest:function(e){if(e.errors)return this._displayError(e);var t,i=0,s=0,r=e&&e.shared&&e.all?e.shared:e;for(t in r)r.hasOwnProperty(t)&&-1!==a.indexOf(t)&&(i+=r[t],r[t]&&++s);this._setupLetterCache(r),this._disableEmptyLetters(),this.totalContacts=i,this.numberLetters=s,this.requester=new n.profiles.controls.ContactsRequester({alphabet:a,url:this._config.url,counts:r,chunkSize:l}),this.lastScrollOffset=E.scrollTop(),this._setContainerHeight(),setTimeout(function(){this._loadFromOffset(this.lastScrollOffset)}.bind(this),30),this._setupLetterFixation(),this._startScrollObserver()},_setupLetterFixation:function(){var e=this,n=[],i=e.offset,s=e._stickyElementsOffset();this.letterCache.forEach(function(e){e.count&&n.push({from:e.offset+i-s+p,to:e.offset+e.height+i-s,letter:e.letter})}),this._fixations=n,this._fixedLetter=t("#fixed-letter-headline")},_checkLetterFixation:function(e){var i=this._fixedLetter,s=t("#profile-note").length&&"none"!==t("#profile-note").css("display")?t("#profile-note").outerHeight():0,a=t("#filling-wizard").outerHeight(!0);this._fixations.length>0&&(e+=this.$searchContainer.outerHeight()-s-a,e<this._fixations[0].from?i.hide():this._fixations.some(function(s){if(e>=s.from&&e<s.to){var a=1,l=s.to-e;return l<i.height()&&(a=i.height()-l),i.html(s.letter).css({marginTop:-a}),"block"!==t(h).css("display")||n.browser.TOUCH||i.show(),!0}}))},_setupLetterCache:function(e){var n,t,i,s,l,r=0;for(this.letterCache=[],s=0,l=a.length;s<l;++s)n=a[s],t=e[n]||0,i=t?u+d*t:0,this.letterCache.push({letter:n,offset:r,count:t,height:i}),r+=i},_disableEmptyLetters:function(){var e=this.$searchContainer;this.letterCache.forEach(function(n){n.count||e.find("a[data-alpha-search='"+n.letter+"']").addClass("inactive")})},_findLetter:function(e){var n,t,i;for(t=0,i=a.length;t<i;++t)this.letterCache[t].offset<=e&&(n=this.letterCache[t].letter);return n},_findIndex:function(e,n){var t=a.indexOf(e),i=n-this.letterCache[t].offset;return i<u?0:Math.floor((i-u)/d)},_startScrollObserver:function(){var e=this;E.on("scroll",function(){e.scrollTimeout||(e.scrollTimeout=setTimeout(function(){e._checkItems(),delete e.scrollTimeout},r)),e.lastScrollOffset=E.scrollTop(),e._checkLetterFixation(e.lastScrollOffset)})},_checkItems:function(){var e,n=this.lastScrollOffset;this.isLoading.after&&this.isLoading.before||(e=this._pageInViewport(n),e?this._loadMoreFromPage(e):!this.isLoading.after&&!this.isLoading.before&&n<this._height+this.offset&&(this.flush(),this._loadFromOffset(n))),this._removeItems()},_loadMore:function(e,n){if(!this.isLoading[e]){var t,i,s,a=this.lastScrollOffset;"before"===e?(t=n.first(),i="getContactsBefore",s=n.offset()):(t=n.last(),i="getContactsAfter",s=n.offset()+n.height()),s<a+y-this.offset+y*o&&s>a-this.offset-y*o&&(this.isLoading[e]=!0,this.requester[i](t.data("letter"),t.data("index"),this._appendContacts.bind(this,e,n)))}},_loadFrom:function(e,n,t){this.isLoading.after=!0;var i=Math.floor((n||0)/l)*l,s=this;this.requester.getContactsAfter(e,i-1,function(e,n){s._appendContacts.bind(s,"after",null)(e,n),t&&t()})},_loadFromOffset:function(e){var n=Math.min(Math.max(e-this.$container.offset().top,0),this._height),t=this._findLetter(n),i=this._findIndex(t,n);this._loadFrom(t,i)},_pageInViewport:function(e){var n;return this.pages.some(function(t){if(t.offset()<e&&t.offset()+t.height()>e)return n=t,!0}),n},_removeItems:function(){var e=this;this.pages=this.pages.filter(function(n){var t=n.offset();return!(t+n.height()<e.lastScrollOffset-e.offset-y*c||t>e.lastScrollOffset+y-e.offset+y*c)||(n.remove(),!1)})},_findElementAboveScope:function(e){var n,i,s,a=this.$container.children();for(i=0,s=a.length;i<s&&t(a[i]).offset().top<e;i+=10)n=t(a[i]);return n},jumpTo:function(e,n){var i=t("#profile-note").length&&"none"!==t("#profile-note").css("display")?t("#profile-note").outerHeight():0,s=t("#filling-wizard").outerHeight(!0);if(this.flush(),this.scrollTo(this.offset+this._positionOf(e,n||null)-this._stickyElementsOffset()-36+i+s),this._loadFrom(e,n),!this._showStickyElements())return!1;this._positionContactsSearchFixed(),setTimeout(3e3,function(){this._hideFixedLetter()})},scrollTo:function(e){E.scrollTop(e),this.lastScrollOffset=e,this._checkLetterFixation(e)},_positionOf:function(e,n){var t=0;return this.letterCache.some(function(n){if(n.letter===e)return!0;n.count&&(t+=u+d*n.count)}),null!==n&&(t+=u+d*n),t},flush:function(){this.pages.forEach(function(e){e.remove()}),this.pages=[],this.isLoading={}},_loadMoreFromPage:function(e){this.isLoading.after||e.next()||this._loadMore("after",e),this.isLoading.before||e.prev()||this._loadMore("before",e)},_appendContacts:function(e,t,s,a){var l,r=Array.isArray(navigator.userAgent.match("MSIE"));this.isLoading[e]=!1,!s&&a.length&&(l=new i(a,this._positionOf.bind(this)),this.pages.some(function(e){return e.equals(l)})||(t?l["after"===e?"appendAfter":"appendBefore"](this.$container,t)&&this.pages.push(l):(l.appendTo(this.$container),this.pages.push(l)),this._loadMoreFromPage(l))),n.repaint(r)},_setContainerHeight:function(){this._height=this.totalContacts*d+this.numberLetters*u,this.$container.height(this._height)}}}(window,xing,jQuery),xing.define("profiles.controls.ContactsRequester",function(e,n,t){"use strict";function i(e,n){this.name=n,this.message=e}function s(e,n){var t=n.indexOf(e);return t>0?n[t-1]:null}function a(e,n){var t=n.indexOf(e);return t<n.length-1?n[t+1]:null}function l(){this.letters={}}return i.prototype=t.prototype,l.prototype={has:function(e,n,t){var i,s=this.letters[e],a=!0;if(!s)return!1;for(i=n;i<=t;++i)a=a&&s[i];return a},add:function(e,n,t){var i,s,a=this.letters[e];for(a||(a=[]),i=0,s=t.length;i<s;++i)a[~~(i+n)]=t[i];this.letters[e]=a},get:function(e,n,t){var i,s=[];if(this.letters[e])for(i=n;i<=t;++i)s.push(this.letters[e][i]);return s}},Class.create({initialize:function(e){this.config=e,this.counts=e.counts,this.ALPHABET=e.alphabet,this.chunkSize=e.chunkSize,this.cache=new l},getContactsBefore:function(n,t,a){var l,r;null!==n?t?(r=t-1,l=e.max(0,r-this.chunkSize+1),this._loadContacts(n,l,r,a)):(n=s(n,this.ALPHABET),this.getContactsBefore(n,this.counts[n],a)):a&&a(new i("Reached the beginning of the list","ReachedTopError"))},getContactsAfter:function(n,t,s){var l,r;null!==n?!this.counts[n]||t>=this.counts[n]-1?this.getContactsAfter(a(n,this.ALPHABET),-1,s):(l=t+1,r=e.min(this.counts[n]-1,l+this.chunkSize-1),this._loadContacts(n,l,r,s)):s&&s(new i("Reached the end of the list","ReachedBottomError"))},_loadContacts:function(e,t,i,s){var a=this,l=i-t+1;this.cache.has(e,t,i)?s&&s(null,a.cache.get(e,t,i)):xing.profiles.ajaxHelper({url:this.config.url,data:{letter:e,limit:l,offset:t}}).done(function(r){r.contacts&&n.keys(r.contacts).forEach(function(e){r.contacts[e].html.length<l&&(a.counts[e]-=l-r.contacts[e].html.length),a.cache.add(e,t,r.contacts[e].html)}),s&&s(null,a.cache.get(e,t,i))})}})}(Math,Object,Error)),xing.define("xing.profiles.controls.CropDialog",function(){var e={dimensions:{minSize:250},selectors:{content:"#content",cropContainer:".crop-dialog",imageHolder:".image-holder",textHolder:".text-holder",imageToCrop:".image-to-crop",form:"#image-cropper-form",spinner:".spinner",submitButton:":submit"}};return Class.create(xing.controls.Lightbox,{initialize:function($super,n){this.config=$.extend(!0,{},e,n),this.config.cropCloseOnClickOutside="undefined"==typeof this.config.closeOnClickOutside||this.config.closeOnClickOutside,this.config.closeOnClickOutside=!1,this.on("open",this.onOpen.bind(this)),this.on("load",this.onLoad.bind(this)),this.on("close",this.onClose.bind(this)),this.on("submit",this.onSubmit.bind(this)),$super(this.config)},setDimensions:function(){var e,n,t,i=this.config.selectors,s=this.config.dimensions,a=$(i.content),l=this.container.find(i.cropContainer),r=$("#lightbox"),o=this.container.find(i.imageHolder),c=this.container.find(i.textHolder),u=r.css("padding-left").replace(/[^-\d\.]/g,""),d=r.css("padding-right").replace(/[^-\d\.]/g,""),p=r.css("padding-top").replace(/[^-\d\.]/g,""),h=r.css("padding-bottom").replace(/[^-\d\.]/g,""),f=parseInt(u,10)+parseInt(d,10),m=parseInt(p,10)+parseInt(h,10),g=(a.innerWidth()||a.get(0).clientWidth)-f,_=(window.innerHeight||document.documentElement.clientHeight)-m,v=s.originalWidth>s.originalHeight,b=s.originalWidth/s.originalHeight,x=c.outerWidth()||0;v?(n=Math.min(s.originalWidth,g-x),t=Math.ceil(n/b)):(t=Math.min(s.originalHeight,_),n=Math.ceil(t*b)),this.container.find(i.imageToCrop).css({width:n,height:t}),e=o.outerWidth()||0,l.css({width:e+x+1,height:t}),this.position(),$.extend(s,{imageWidth:n,imageHeight:t,isLandscape:v})},initializeCropping:function(){var e,n,t,i,s=this.config.dimensions;s.isLandscape?(n=e=Math.max(s.originalHeight/2,s.minSize),t=(s.originalWidth-n)/2,i=(s.originalHeight-e)/2):(n=e=Math.max(s.originalWidth/2,s.minSize),t=(s.originalWidth-n)/2,i=(s.originalHeight-e)/2),s.isLandscape?s.imageHeight<s.minSize&&(s.minSize=s.imageHeight):s.imageWidth<s.minSize&&(s.minSize=s.imageWidth),this.loadCropper(t,i,e,n)},loadCropper:function(e,n,t,i){var s=this.config.selectors,a=this.config.dimensions;new xing.utils.LazyLoader([xing.profiles.globals.lazyAssetManifests.crop],function(){this.cropper=new xing.controls.Crop(s.imageToCrop,{initialCoords:{x:e,y:n},initialWidth:i,initialHeight:t,cropForm:s.form,minSize:[a.minSize,a.minSize],trueSize:[a.originalWidth,a.originalHeight],onChange:this.onChange.bind(this),onSelect:this.onSelect.bind(this),onCropError:this.onError.bind(this),onCropSuccess:this.onSuccess.bind(this)})}.bind(this))},onOpen:function(){this.config.onOpen&&this.config.onOpen(),"undefined"!=typeof this.config.content&&this.onLoad()},onLoad:function(){var e=this.config.selectors,n=$(e.form).find(e.submitButton);this.setDimensions(),n.focus(),n.on("submit",this.onSubmit),this.container.find(e.imageToCrop).imagesLoaded(function(){this.container.find(e.spinner).removeClass("show")}.bind(this)),this.initializeCropping(),this.container.on("mousedown",function(){this.dragging=!1}.bind(this)),this.config.cropCloseOnClickOutside&&this.dialog.on("bodyClick.force",function(){this.dragging?this.dragging=!1:this.close()}.bind(this)),this.config.onLoad&&this.config.onLoad()},onClose:function(){this.config.onClose&&this.config.onClose()},onSubmit:function(){var e=this.config.selectors;$(e.form).find(e.submitButton).attr("disabled",!0)},onChange:function(e){this.config.onChange&&this.config.onChange("change",e),this.trigger("change",e)},onSelect:function(){this.dragging="undefined"!=typeof this.dragging},onSuccess:function(e){this.config.onSuccess&&this.config.onSuccess("success",e),this.trigger("success",e)},onError:function(e){this.config.onError&&this.config.onError("error",e),this.trigger("error",e)}})}()),xing.define("profiles.controls.InformationNavigation",function(){var e={container:"#js-profile-information",navi:"#js-profile-information-navigation",content:"#js-profile-information-content",tab:".profile-information-navigation-list-item",miniVCard:".js-profile-mini-vcard"};return Class.create({initialize:function(n){this.options=$.extend(!0,{},e,n),this.container=$(this.options.container),this.navi=this.container.find(this.options.navi),this.tabs=this.navi.find(this.options.tab),this._loadGroupsTab(),this._handleNavigationTabSwitch()},_handleNavigationTabSwitch:function(){this.navi.on("click",".profile-information-navigation-list-item",function(e){var n=$(e.currentTarget),t=n.data("tab-type"),i=xing.profiles.models.user.get("page_name")+"/"+t,s=$("#js-profile-information").hasClass("js-profile-information--fixed"),a=xing.profiles.globals.tracking.profile_navigation;e.preventDefault(),i=i+"?sc_o="+(s?a.sticked:a.not_sticked),xing.trigger("miniVCard.stick"),xing.trigger("advertising.reload"),Backbone.history.navigate(i,{trigger:!0})})},_loadGroupsTab:function(){var e,n,t,i,s=xing.profiles,a=s.globals.profileAttributes.self;a||(e=this.navi.find("[data-tab-type=groups]"),e.hide(),n=xing.profiles.settings.mainPath+s.models.user.get("page_name"),i=function(n){n&&n.has_memberships&&e.fadeIn()},t=xing.profiles.ajaxHelper({url:n+"/groups/memberships"}),t.done(i))}})}()),xing.utils.Behaviors.add({"a[data-mypj-trigger-tour]:click":function(e,n){$(".pj-onboarding-wizard-content").length<1?$.ajax({url:"/projobs/onboarding_wizard"}).done(function(e){$("#pj-onboarding-wizard").html(e)}):$("#pj-onboarding-wizard").show(),n.preventDefault()}}),xing.define("profiles.Router",Backbone.Router.extend({routes:{":user(/)":"root",":user/cv(/)":"cv",":user/contacts(/)":"contacts",":user/shared_contacts(/)":"shared_contacts",":user/portfolio(/)":"portfolio",":user/web_profiles(/)":"webProfiles",":user/articles(/)":"articles",":user/react_cv(/)":"cv",":user/react_contacts(/)":"contacts",":user/react_shared_contacts(/)":"shared_contacts",":user/react_portfolio(/)":"portfolio",":user/react_web_profiles(/)":"webProfiles",":user/react_articles(/)":"articles",":user/:tab(/)":"index",":user/cv/personal_information(/)":"cv"},initialize:function(){this.viewer=xing.profiles.globals.profileAttributes.self?"self":"other",this.currentRoute="",this.initCall=!0,xing.profiles.globals.preview&&this.profilePreview()},profilePreview:function(){xing.profiles.views.preview=new xing.profiles.sections.common.views.ProfilePreview},resetContent:function(){xing.profiles.views.content&&(xing.profiles.views.content.undelegateEvents&&xing.profiles.views.content.undelegateEvents(),xing.profiles.views.content=undefined)},root:function(e){var n=xing.profiles.globals.defaultTab||"cv";this.defaultRoute=!0,this[n](e)},cv:function(e,n,t,i){("cv"!==this.currentRoute||t)&&(n||(this.trackPageView(this.viewer,"",{prop56:this.getHorizontalNavigationStickyParam(),eVar56:"D=c56"}),this.trackVirtualPageView("",this.initCall)),this.renderRoute(e,"cv",function(){xing.define("profiles.views.content",new xing.profiles.sections.cv.views.Cv({model:xing.profiles.models.user}))}.bind(this),i),this.currentRoute="cv")},webProfiles:function(e,n,t,i){("webProfiles"!==this.currentRoute||t)&&(n||(this.trackPageView(this.viewer,"/other_web_profiles",{prop56:this.getHorizontalNavigationStickyParam(),eVar56:"D=c56"}),this.trackVirtualPageView("/other_web_profiles",this.initCall)),this.renderRoute(e,"web_profiles",function(){xing.define("profiles.views.content",new xing.profiles.sections.web_profiles.views.OtherProfiles({model:xing.profiles.models.user}))}.bind(this),i),this.currentRoute="webProfiles")},contacts:function(e,n,t,i){var s=this.currentRoute,a="contacts";t&&(a="shared_contacts"),s!==a&&(n||(this.trackPageView(this.viewer,"/contacts",{prop56:this.getHorizontalNavigationStickyParam(),eVar56:"D=c56"}),this.trackVirtualPageView("/contacts",this.initCall)),this.renderRoute(e,a,function(){xing.define("profiles.views.content",new xing.profiles.sections.contacts.views.ContactList({shared:t}))}.bind(this),i),this.currentRoute=a)},shared_contacts:function(e,n,t){this.contacts(xing.profiles.models.user.get("page_name"),n,!0,t)},navigateToContacts:function(e,n){var t=this.currentRoute,i="contacts";n&&(i="shared_contacts"),t!==i&&(this.navigate(xing.profiles.models.user.get("page_name")+"/"+i),this.trackPageView(this.viewer,"/contacts",e),this.trackVirtualPageView("/contacts",this.initCall),this.contacts(xing.profiles.models.user.get("page_name"),!0,n))},portfolio:function(e,n){if("portfolio"!==this.currentRoute){this.trackPageView(this.viewer,"/portfolio",{prop56:this.getHorizontalNavigationStickyParam(),eVar56:"D=c56"}),this.trackVirtualPageView("/portfolio",this.initCall);new xing.portfolio.RestSync(xing.portfolio.api.tiles).findAll(function(t){t=new xing.portfolio.collections.Tiles(t),this.renderRoute(e,"portfolio",function(){new xing.portfolio.controllers.Portfolio("#js-profile-information-content .profile-information-content-placeholder",{tiles:t})},n)}.bind(this)),this.currentRoute="portfolio"}},index:function(e,n,t){this.currentRoute!==n&&(this.trackPageView(this.viewer,"/"+n,{prop56:this.getHorizontalNavigationStickyParam(),eVar56:"D=c56"}),this.trackVirtualPageView("/"+n,this.initCall),this.renderRoute(e,n,function(){xing.define("profiles.views.content",new xing.profiles.sections.common.views.TabContent)}.bind(this),t),this.currentRoute="tab")},articles:function(e,n,t){this.currentRoute!==n&&(this.trackPageView(this.viewer,"/"+n,{prop56:this.getHorizontalNavigationStickyParam(),eVar56:"D=c56"}),this.trackVirtualPageView("/articles"+n,this.initCall),this.renderRoute(e,"articles",function(){xing.define("profiles.views.content",new xing.profiles.sections.common.views.TabContent)}.bind(this),t),this.currentRoute="articles")},renderRoute:function(e,n,t,i){var s=xing.profiles.settings.mainPath+e+"/"+n;if(i=void 0===i||i,"cv"!==n&&"portfolio"!==n&&"articles"!==n||(xing.profiles.globals.cv_coach_preview?s+="?view_mode=cv_coach_preview&permission_token="+xing.profiles.globals.permission_token:xing.profiles.globals.pro_jobs_admin_preview?s+="?view_mode=pro_jobs_admin_preview":xing.profiles.globals.pro_jobs_preview?s+="?view_mode=pro_jobs_preview":xing.profiles.globals.preview&&(s+="?view_mode=preview")),this.selectActiveTab(n),this.initCall)return this.resetContent(),t&&t(),"cv"===n&&this.trigger("route:cv:rendered"),this.defaultRoute!==undefined&&!1!==this.defaultRoute||xing.trigger("miniVCard.stick",{animate:!0,delay:!0}),xing.profiles.views.content.loadingIndicator(!1),void(this.initCall=!1);xing.profiles.views.content.loadingIndicator(!0),new xing.utils.ContentLoader(s,$(".profile-information-content-placeholder"),{done:function(){this.resetContent(),t&&t(),"cv"===n&&xing.profiles.router.trigger("route:cv:rendered"),xing.trigger("profile.profile-information.tabs.shown",{scrollToTop:i}),xing.profiles.views.content.loadingIndicator(!1),xing.trigger("profiles.resize")}.bind(this)})},selectActiveTab:function(e){var n,t,i;e&&e.match("shared_contacts")&&(e="contacts"),e&&e.match("view_mode=preview")&&(e=e.substring(0,e.length-18)),e&&e.match("view_mode=pro_jobs_preview")&&(e=e.substring(0,e.length-27)),i="active",n=$(".profile-information-navigation-list"),t=n.find("li[data-tab-type="+e+"]"),n.find("li[data-tab-type]").removeClass(i),t.addClass(i)},trackPageView:function(e,n,t){var i="profile/profile_details/"+e;i+=n,window.s&&(window.s.pageName=i),this.initCall||(t=t||{},t.pageName=i,!xing.profiles.globals.profileAttributes.self&&xing.profiles.globals.profileAttributes.user_relation&&(t.prop64=xing.profiles.globals.profileAttributes.user_relation),t.extendedParams={linkTrackVars:"eVar56,prop56"},xing.trigger("tracking.track_page_view",t),xing.trigger("tracking.load_ivw"))},getHorizontalNavigationStickyParam:function(){var e=$("#js-profile-information").hasClass("js-profile-information--fixed"),n=xing.profiles.globals.tracking.profile_navigation;return e?n.sticked:n.not_sticked},trackVirtualPageView:function(e,n){var t="wbm/"+xing.profiles.globals.xing_tracking.view_mode;n||ttt.pageview(t,t+"/profile_details"+e,window.ttt._dl,xing.profiles.globals.xing_tracking.custom_data)}})),xing.define("profiles.sections.common.models.User",Backbone.Model.extend({initialize:function(){_.bindAll(this,"addUser")},url:function(){return this.getProfilePath()+"?format=json"},addUser:function(){xing.profiles.collections.users.add(this)},getProfilePath:function(){return xing.profiles.settings.mainPath+this.get("page_name")}})),xing.define("profiles.sections.common.collections.Users",Backbone.Collection.extend({model:xing.profiles.sections.common.models.User})),xing.define("profiles.sections.common.models.LegalNotice",Backbone.Model.extend({stored:!1,url:function(){return xing.profiles.settings.mainPath+xing.profiles.models.user.get("page_name")+"/legal_information?format=json"},isNew:function(){return!this.isStored},setStored:function(e){this.isStored=e}})),xing.define("profiles.sections.common.models.UserAttributes",Backbone.Model.extend()),xing.define("profiles.sections.common.views.LegalNoticeDialog",Backbone.View.extend({el:"#lightbox output",template:HandlebarsTemplates["sections/common/legal_notice_dialog"],events:{"input textarea[maxlength]":"onContentChange","propertychange textarea[maxlength]":"onContentChange","click .cancel-link":"onCancel","submit form":"onSubmit"},initialize:function(e){var n,t=$(document).height(),i=this.model.toJSON();i.name=e.name,this.lightbox=new xing.controls.Lightbox({content:this.template(i),open:!!e.open}),this.lightbox.on("close",this.clearMessages.bind(this)),n=$(document).height(),n>t&&this.positionLightbox(),this.updateElement()},render:function(){var e=this.model.toJSON();this.$el.html(this.template(e)),this.updateElement()},positionLightbox:function(){var e=$("#lightbox");e.css({top:"100px"}),e.scrollTo()},open:function(){var e,n=$(document).height();this.lightbox.open(),
this.targetId=xing.appMessagesTargetProvider.register("lightbox"),xing.profiles.globals.profileAttributes.self&&this.render(),(e=$(document).height())>n&&this.positionLightbox()},clearMessages:function(){xing.trigger("app_messages.clear",this.targetId)},updateElement:function(){"undefined"==typeof this.el?this.setElement($("#lightbox output")):this.setElement(this.el)},onCancel:function(e){e.preventDefault(),this.lightbox.close()},onSubmit:function(e){e.preventDefault(),this.$(".spinner").addClass("show"),this.model.set({content:this.$("textarea").val()}),this.model.save(null,{success:function(){this.model.setStored(!0),this.$(".spinner").removeClass("show"),this.lightbox.close()}.bind(this),error:function(){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR"),targetId:this.targetId}),this.$(".spinner").removeClass("show")}.bind(this)})},onContentChange:function(e){var n=$(e.currentTarget),t=n.attr("maxlength");n.val().length>t&&n.val(n.val().substring(0,t))}})),xing.define("profiles.sections.common.views.ProfilePreview",Backbone.View.extend({el:".profile-preview-view",initialize:function(){var e=this.displayMessage;this.$(".profile-information-navigation-list li").on("click",function(n){var t=$(n.currentTarget),i=t.data("tabType"),s=xing.profiles.router,a=xing.profiles.models.user.get("page_name"),l="";return n.preventDefault(),xing.profiles.globals.cv_coach_preview?l="?view_mode=cv_coach_preview&permission_token="+xing.profiles.globals.permission_token:xing.profiles.globals.pro_jobs_preview?l="?view_mode=pro_jobs_preview":xing.profiles.globals.preview&&(l="?view_mode=preview"),"cv"===i?(n.stopPropagation(),void s.navigate(a+"/cv"+l,{trigger:!0})):"portfolio"===i?(n.stopPropagation(),s.navigate(a+"/portfolio"+l,{trigger:!1}),void s.portfolio(a)):"articles"===i?(n.stopPropagation(),void s.navigate(a+"/articles"+l,{trigger:!0})):void e(n)}),$(document).on("click",".js-contacts-nav",e),$(document).on("click",".tiles-container li, .tiles-container li a",e),$(".profile-information-content-placeholder").on("click","a:not(.projobs-docs-open) a:not(.js-allow-preview-link)",e),this.$("#vcard a:not(.projobs-action-link, .contact-infos-icon, .js-profile-legal-information-link), .js-profile-mini-vcard a").on("click",e)},displayMessage:function(e){e&&(e.stopPropagation(),e.preventDefault()),xing.profiles.views.vCard&&xing.profiles.views.vCard.profilePreviewMsg()}})),xing.define("profiles.sections.common.views.TabContent",Backbone.View.extend($.extend({},xing.profiles.mixins.WithLoadingIndicator,{el:".profile-information-content-placeholder"}))),xing.define("profiles.sections.contactPath.views.contactPath",Backbone.View.extend({el:".contact-path-container",events:{"click .js-note-toggle":"onNotesToggle"},initialize:function(){_.bindAll(this,"openNotes","onOpenFinish","onCloseFinish"),xing.require("js/toggle_box.js").afterLoad(function(){this.notesToggler=new xing.controls.Toggler({trigger:this.$el.find(".js-note-toggle"),toggle:$("#profile-note"),onOpen:this.openNotes,onOpenFinish:this.onOpenFinish,onCloseFinish:this.onCloseFinish}),this.afterLoad()}.bind(this))},afterLoad:function(){xing.profiles.globals.profileAttributes.openedNotes&&this.notesToggler.toggle()},onOpenFinish:function(){xing.profiles.ajaxHelper({url:xing.profiles.settings.mainPath+xing.profiles.globals.profile.page_name+"/note_box_state/open",dataType:"json",type:"PATCH"}),this.onFinish()},onCloseFinish:function(){xing.profiles.ajaxHelper({url:xing.profiles.settings.mainPath+xing.profiles.globals.profile.page_name+"/note_box_state/close",dataType:"json",type:"PATCH"}),this.onFinish()},onFinish:function(){$("#js-profile-information-navigation").trigger("fix_element.reset"),$("#contact-search").trigger("fix_element.reset")},onNotesToggle:function(){var e=$("#profile-note");e.hasClass("profile-note--displayed")?e.removeClass("profile-note--displayed"):(e.addClass("profile-note--displayed"),xing.profiles.tracking.loggedIn("openNoteTagsSection",xing.profiles.globals.profileAttributes.self))},openNotes:function(){var e,n;xing.profiles.views.profileNotes||xing.define("profiles.views.profileNotes",new xing.profiles.sections.vcard.views.Notes({model:this.model})),xing.profiles.globals.classification&&(n=new xing.profiles.sections.vcard.views.SalesStatusForm,n.render()),$(".profile-note-categories #user-tags").length&&!$(".profile-note-categories .tags-container").length&&($(".profile-note-categories").addClass("loading"),$("#load-tags-generic-error").toggle(!1),e=xing.profiles.ajaxHelper({type:"GET",url:xing.profiles.settings.mainPath+xing.profiles.globals.profile.page_name+"/contact_tags.json",dataType:"json"}),e.done(function(e){$(".profile-note-categories").removeClass("loading"),$("#user-tags").html(e.user_tags),new xing.utils.LazyLoader([xing.profiles.globals.lazyAssetManifests.contacts_min_js,{src:xing.profiles.globals.lazyAssetManifests.tag_list_css,media:"screen,projection,handheld"}],function(){xing.contacts.Tagging.init({labels:{empty:xing.i18n.t("TAG_NONE_AVAILABLE"),save:xing.i18n.t("BUTTON_SAVE"),remove:xing.i18n.t("BUTTON_DELETE"),create:xing.i18n.t("BUTTON_ADD")},allTags:e.all_tags,defaultSuggestions:xing.i18n.t("TAG_SUGGESTIONS")})})}),e.fail(function(){$(".profile-note-categories").removeClass("loading"),$("#load-tags-generic-error").toggle(!0)}))}})),xing.define("profiles.sections.contacts.models.ContactList",Backbone.Model.extend(xing.controls.ContactList)),xing.define("profiles.sections.contacts.views.ContactList",Backbone.View.extend($.extend({},xing.profiles.mixins.WithLoadingIndicator,{el:"#js-profile-information-content .profile-information-content-placeholder",events:{"click #contact-search a[data-alpha-search]":"jumpToLetter","click #contact-search .go-to-top":"jumpToTop","click #contacts-tab .filter ul a":"filterContacts"},initialize:function(e){var n=xing.profiles.globals.profileAttributes.profileContactUrl,t=xing.profiles.globals.profileAttributes.profileContactCountUrl;e&&e.shared&&(n=xing.profiles.globals.profileAttributes.profileSharedContactUrl,t=xing.profiles.globals.profileAttributes.profileSharedContactCountUrl),this.model=e.model||new xing.profiles.sections.contacts.models.ContactList({url:n,countUrl:t,contactList:$("#contacts-list"),searchContainer:"#contact-search"})},jumpToLetter:function(e){var n=$(e.currentTarget),t=$(".alpha-search a:not(.inactive)").first();n.is(".inactive")||(t.length&&t.data("alpha-search")===n.data("alpha-search")?this.jumpToTop(e):this.model.jumpTo(n.data("alpha-search"))),e.preventDefault()},jumpToTop:function(e){e.preventDefault(),xing.trigger("profile.profile-information.tabs.shown",{scrollToTop:!0})},filterContacts:function(e){var n=$(e.currentTarget).data("filter"),t="shared"===n;xing.profiles.router.navigateToContacts({},t),$("#filter-contacts").hide(),e.preventDefault()}}))),xing.define("profiles.sections.cv.models.Award",Backbone.Model.extend({validation:{name:[{required:!0,msg:"PROFILERAILS_EDIT_MANDATORY_ERROR"},{maxLength:80,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:80}}}}],url:[{required:!1,pattern:xing.profiles.validations.url,msg:"PROFILERAILS_EDIT_VALID_URL_ERROR"},{required:!1,maxLength:160,msg:"PROFILERAILS_EDIT_AWARD_LENGTH_ERROR"}]}})),xing.define("profiles.sections.cv.collections.Awards",Backbone.Collection.extend({model:xing.profiles.sections.cv.models.Award})),xing.define("profiles.sections.cv.models.Education",Backbone.Model.extend({initialize:function(){this.set("employment_status",xing.profiles.globals.profile.occupation_type)},url:function(){var e=xing.profiles.settings.mainPath;return this.get("id")?e+=xing.profiles.models.user.get("page_name")+"/education_schools/"+this.get("id")+"?format=json":e+=xing.profiles.models.user.get("page_name")+"/education_schools/?format=json",e},validation:{degree:{required:!1,maxLength:79,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:79}}}},subject:[{required:function(){if("student"===this.get("employment_status"))return!0},msg:"PROFILERAILS_EDIT_MANDATORY_ERROR"},{maxLength:79,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:79}}}},{minLength:3,msg:{msg:"PROFILERAILS_EDIT_MIN_LENGTH_ERROR",options:{hash:{limit:3}}}},{fn:function(e){var n=/[\u2500-\u27BE]/,t=/^[\d\/\,\.]+$/;if(n.test(e)||t.test(e))return!0},msg:"PROFILERAILS_EDIT_INVALID_INPUT_ERROR"}],school_name:[{pattern:/(?!^\d+$)^.+$/,msg:"PROFILERAILS_EDIT_ONLY_NUMBERS_ERROR"},{required:!0,msg:"PROFILERAILS_EDIT_MANDATORY_ERROR"},{maxLength:79,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:79}}}},{minLength:2,msg:{msg:"PROFILERAILS_EDIT_MIN_LENGTH_ERROR",options:{hash:{limit:2}}}}],school_notes:{required:!1,maxLength:300,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:300}}}},begin_date_year:{required:function(){if(this.get("end_date_year")||this.get("begin_date_month"))return!0},msg:"PROFILERAILS_WE_STARTDATE_ERROR"},end_date_year:{fn:function(e){if(this.get("end_date_year")){if(e<this.get("begin_date_year"))return!0;if(e===this.get("begin_date_year")&&parseInt(this.get("begin_date_month"),10)>parseInt(this.get("end_date_month"),10))return!0}},msg:"PROFILERAILS_WE_ENDDATE_ERROR"}}})),xing.define("profiles.sections.cv.collections.Education",Backbone.Collection.extend({model:xing.profiles.sections.cv.models.Education})),xing.define("profiles.sections.cv.models.WorkExperience",Backbone.Model.extend({validation:{company_name:[{required:!0,msg:"PROFILERAILS_EDIT_MANDATORY_ERROR"},{maxLength:80,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:80}}}}],job_title:[{required:!0,msg:"PROFILERAILS_EDIT_MANDATORY_ERROR"},{maxLength:80,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:80}}}}],company_url:[{required:!1,pattern:xing.profiles.validations.url,msg:"PROFILERAILS_EDIT_VALID_URL_ERROR"},{maxLength:128,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:128}}}}],status_id:{required:!0,msg:"PROFILERAILS_EDIT_MANDATORY_ERROR"},industry_id:{required:!0,msg:"PROFILERAILS_EDIT_MANDATORY_ERROR"},begin_date_year:{required:function(){if(this.get("end_date_year")||this.get("begin_date_month"))return!0},msg:"PROFILERAILS_WE_STARTDATE_ERROR"},company_notes:{required:!1,maxLength:512,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:512}}}},end_date_year:{fn:function(e){return!this.get("current_company")&&(e<this.get("begin_date_year")||e===this.get("begin_date_year")&&parseInt(this.get("begin_date_month"),10)>parseInt(this.get("end_date_month"),10)||void 0)},required:function(){return!this.get("current_company")&&(!(!this.get("begin_date_year")&&!this.get("end_date_month"))||void 0)},msg:"PROFILERAILS_WE_ENDDATE_ERROR"},end_date_month:{required:function(){return!this.get("current_company")&&(!!this.get("begin_date_month")||void 0)},msg:"PROFILERAILS_WE_ENDDATE_ERROR"}}})),xing.define("profiles.sections.cv.collections.WorkExperience",Backbone.Collection.extend({model:xing.profiles.sections.cv.models.WorkExperience,initialize:function(){this.url=xing.profiles.settings.mainPath+"work_experiences"}})),xing.define("profiles.sections.cv.models.BirthDate",Backbone.Model.extend({validateFields:function(e){return 10===e.length},validateIfExisting:function(e,n){var t,i;if(e&&n.length)return t=e.getMonth()+1===parseInt(n[1],10),i=e.getDate()===parseInt(n[2],10),t&&i},validate18YearsOld:function(e){var n=new Date;return e<=new Date(n.getFullYear()-18,n.getMonth(),n.getDate())},validation:{birth_date:{fn:function(){var e=this.get("birth_date"),n=e.split("-"),t=new Date(n[0],n[1]-1,n[2]);return this.validateFields(e)?this.validateIfExisting(t,n)?!this.validate18YearsOld(t)&&"PROFILERAILS_BIRTHDATE_UNDER_18_ERROR":"PROFILERAILS_BIRTHDATE_INVALID_ERROR":"PROFILERAILS_BIRTHDATE_FIELDS_ERROR"}}},toJSON:function(){var e=_.clone(this.attributes),n=(this.get("birth_date")||"").split("-");return e.year=n[0]||"",e.month=n[1]||"",e.day=n[2]||"",e}})),xing.define("profiles.sections.cv.models.Qualification",Backbone.Model.extend()),xing.define("profiles.sections.cv.views.AwardsForm",Backbone.View.extend($.extend({},xing.profiles.mixins.WithEditLayer,xing.profiles.mixins.WithErrorMessages,{tagName:"div",className:"edit-container",templates:{awardsForm:HandlebarsTemplates["sections/cv/awards_form"]},events:{click:"onClick","click .layer-close":"onLayerCloseClick","submit form":"onFormSubmit","click #delete-award":"onDelete",esc:"close"},initialize:function(){_.bindAll(this,"collectErrors"),Backbone.Validation.bind(this,{invalid:this.collectErrors}),ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:this.model.attributes.id>=0?"profile_self_editing_awards_edit":"profile_self_editing_awards_add",PropActionOrigin:"profile_self_editing_awards"})},render:function(){var e=$.extend({years:_.range(1945,xing.profiles.globals.current_year+1).reverse()},this.model.toJSON());return this.$el.html(this.templates.awardsForm(e)),this},save:function(){var e=xing.profiles;e.collections.awards.add(this.model,{merge:!0}),e.views.content.loadingIndicator(!0),e.models.user.save({awards:e.collections.awards.toJSON()},{patch:!0,success:function(){this.onModelSaveSuccess(),xing.profiles.tracking.loggedIn("saveAward",xing.profiles.globals.profileAttributes.self),ttt.event("EventProfileEditingSave",{EventProfileEditingSave:1,PropActionOrigin:"profile_self_editing_awards"})}.bind(this),error:this.onModelSaveError.bind(this),complete:function(){e.views.content.loadingIndicator(!1)}})},onModelSaveError:function(e,n){if(500===n.status)return void xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR")});n=null!==n&&"object"==typeof n.responseText?n.responseText:JSON.parse(n.responseText),this.errors=[],$.each(n.errors,function(e,n){var t=null;this.$("input").each(function(e,i){$(i).val()===n&&(t=$(i))}),t&&this.errors.push({message:"PROFILERAILS_EDIT_VALID_URL_ERROR",element:t})}.bind(this)),this.error()},getFormValues:function(){var e=this.$("form").serializeObject();return e.name||(e.name=null),e.url||(e.url=null),e},onFormSubmit:function(e){e.preventDefault(),this.errors=[],this.model.set(this.getFormValues()),this.render(),this.model.isValid(!0)?this.save(e):this.error()},onDelete:function(e){var n=xing.profiles;e.preventDefault(),n.collections.awards.remove(this.model),n.models.user.save({awards:n.collections.awards.toJSON()},{patch:!0,success:this.onModelSaveSuccess}),ttt.event("EventProfileEditingDelete",{EventProfileEditingDelete:1,PropActionOrigin:"profile_self_editing_awards"})}}))),xing.define("profiles.sections.cv.views.BirthDateForm",Backbone.View.extend($.extend({},xing.profiles.mixins.WithEditLayer,{tagName:"div",className:"edit-container",template:HandlebarsTemplates["sections/cv/birth_date_form"],events:{click:"onClick","click .layer-close":"onLayerCloseClick","submit form":"onFormSubmit",esc:"close"},initialize:function(){_.bindAll(this,"onValidationInvalid"),Backbone.Validation.bind(this,{invalid:this.onValidationInvalid}),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_birthday_open"})},render:function(){return this.$el.html(this.template($.extend({},this.generateDropdownEntries(),this.model.toJSON()))),this},generateDropdownEntries:function(){var e,n=xing.profiles.globals.current_year-17,t=[],i=[];for(e=1;e<32;e++)t.push({value:xing.profiles.utils.Number.pad(e),name:e});for(e=1;e<13;e++)i.push({value:xing.profiles.utils.Number.pad(e),name:Date.MONTH_NAMES[e-1]});return{days:t,months:i,years:_.range(1920,n).reverse()}},save:function(){xing.profiles.models.user.save({birth_date:this.model.get("birth_date")},{patch:!0,success:function(){this.onModelSaveSuccess(),xing.profiles.tracking.loggedIn("saveBirthday",xing.profiles.globals.profileAttributes.self),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_birthday_save"})}.bind(this),error:this.onModelSaveError})},onFormSubmit:function(e){var n=this.$("form").serializeObject(),t=_.compact([n.year,n.month,n.day]).join("-");e.preventDefault(),this.model.set("birth_date",t),this.clearError(),this.model.isValid(!0)&&(this.save(),this.close())},onValidationInvalid:function(e,n,t){this.displayError(t)},displayError:function(e){this.$("select").addClass("input-error"),$(HandlebarsTemplates.error_message(e)).insertAfter(".date-inputs-container")},clearError:function(){this.$("select").removeClass("input-error"),this.$(".error-message").remove()}}))),xing.define("profiles.sections.cv.views.Cv",Backbone.View.extend($.extend({},xing.profiles.mixins.WithLoadingIndicator,xing.profiles.mixins.WithOpenEditLayer,{el:".profile-information-content-placeholder",events:{"click [data-add]":"onAdd","click [data-edit-layer]":"onOpenEditLayer","click .js-work-experience-toggle":"onToggleClick","click .js-work-experience-toggle, .details a":"onLinkClick","click .edit-icon":"onEditIconClick","mouseenter .js-work-experience-toggle":"onToggleMouseEnter","mouseleave .js-work-experience-toggle":"onToggleMouseLeave","click .toggle-box":"openWorkDetails","click .company-url a":"onCompanyURLClick","click .js-xas-link":"onXasButtonClick","click #work-experience .js-work-experience-toggle":"openPositionDetails"},initialize:function(){_.bindAll(this,"trackEducationInView");var e,n,t,i,s,a=xing.profiles,l=".awards-item";this.$("#education-data").val()&&(e=$.parseJSON(this.$("#education-data").val())),this.$("#work-experience-data").val()&&(n=$.parseJSON(this.$("#work-experience-data").val())),this.$("#awards-data").val()&&(t=$.parseJSON(this.$("#awards-data").val())),this.$("#qualifications-data").val()&&(i=$.parseJSON(this.$("#qualifications-data").val())),this.$el.find(".cv-entry:not("+l+")").each(this.initializeExperienceDetailsToggler),a.collections.workExperience=new a.sections.cv.collections.WorkExperience(n),a.collections.education=new a.sections.cv.collections.Education(e),a.collections.awards=new a.sections.cv.collections.Awards(t),a.models.qualification=new a.sections.cv.models.Qualification(i),a.views.references=new a.sections.cv.views.References,location.pathname.match(/personal_information\/?$/)&&(s=this.$("#personal_information").offset().top-30,$(window).scrollTop(s),setTimeout(function(){$(window).scrollTop(s)},250)),xing.trigger("workExperience.loaded"),this.$el.find(".js-in-view-tracking-px").length&&(this.educationItemInViewTriggered=!1,$(window).on("scroll",this.trackEducationInView)),this.$(".xas-button .js-xas-link").length>0&&this.trackAd("impression",undefined)},trackEducationInView:function(){if(this.educationItemInViewTriggered)return!1;xing.profiles.inViewHelper($(".js-in-view-tracking-px"))&&(this.educationItemInViewTriggered=!0,xing.trigger("tracking.track_event",{trackingName:"AMOutofView_DA-1069",extendedParams:{linkTrackVars:"prop64",prop64:"AMOutofView_DA-1069"}}))},trackAd:function(e,n){var t=this.$(".xas-button .js-xas-link").data("tracking"),i={tracking_type:e,ad_id:t.ad_id,token:"close"===e?t["click-token"]:t[e+"-token"],ad_type:t.ad_type};$.ajax({type:"POST",url:"/profile/tracking/ads.json",contentType:"application/json",data:JSON.stringify(i)}).done(n&&n())},createLayerView:function(e,n){var t,i=xing.profiles;switch(e){case"interests":case"organizations":case"qualifications":return new i.sections.cv.views.ListEditor({model:i.models.user,template:HandlebarsTemplates["sections/cv/"+e+"_form"],listField:e});case"work-experience":return t=n!==undefined?i.collections.workExperience.get(n):new i.sections.cv.models.WorkExperience,new i.sections.cv.views.WorkExperienceForm({model:t});case"education":return t=n!==undefined?i.collections.education.get(n):new i.sections.cv.models.Education,new i.sections.cv.views.EducationForm({model:t});case"languages":return new i.sections.cv.views.LanguageSkillsForm({model:i.models.user,template:HandlebarsTemplates["sections/cv/language_skills_form"]});case"birthday":return new i.sections.cv.views.BirthDateForm({model:new i.sections.cv.models.BirthDate(i.models.user.toJSON())});case"award":return t=n!==undefined?i.collections.awards.get(n):new i.sections.cv.models.Award,new i.sections.cv.views.AwardsForm({model:t})}},onLinkClick:function(e){e.stopPropagation()},onToggleClick:function(e){e.preventDefault()},onEditIconClick:function(e){$($(e.currentTarget).closest("li")[0]).is("#birth-name")||e.preventDefault()},initializeExperienceDetailsToggler:function(e,n){var t,i=$(n);t=i.find(".js-work-experience-toggle"),xing.require("js/toggle_box.js").afterLoad(function(){new xing.controls.Toggler({trigger:t,toggle:i.find(".experience-details"),preventDefault:!1,imageClass:{up:"toggle-more",down:"toggle-less"}})})},onToggleMouseEnter:function(e){$(e.currentTarget).parents(".cv-entry").removeClass("edit-mode")},onToggleMouseLeave:function(e){$(e.currentTarget).parents(".cv-entry").addClass("edit-mode")},openWorkDetails:function(e){var n=$(e.currentTarget).children(".js-work-experience-toggle");!xing.profiles.models.userExtentions.get("self")&&n[0]!==e.target&&!$.contains(n[0],e.target)&&n.trigger("click")},onAdd:function(e){switch(this.onAddClick(e),$(e.currentTarget).data("add")){case"work-experience":xing.profiles.tracking.loggedIn("addWorkExperience",xing.profiles.globals.profileAttributes.self);break;case"education":xing.profiles.tracking.loggedIn("addEducation",xing.profiles.globals.profileAttributes.self);break;case"languages":xing.profiles.tracking.loggedIn("addLanguage",xing.profiles.globals.profileAttributes.self);break;case"award":xing.profiles.tracking.loggedIn("addAward",xing.profiles.globals.profileAttributes.self);break;case"organizations":xing.profiles.tracking.loggedIn("addOrganisation",xing.profiles.globals.profileAttributes.self);break;case"haves":xing.profiles.tracking.loggedIn("addHaves",xing.profiles.globals.profileAttributes.self);break;case"wants":xing.profiles.tracking.loggedIn("addWants",xing.profiles.globals.profileAttributes.self);break;case"interests":xing.profiles.tracking.loggedIn("addInterests",xing.profiles.globals.profileAttributes.self);break;case"qualifications":xing.profiles.tracking.loggedIn("addQualifications",xing.profiles.globals.profileAttributes.self)}},onOpenEditLayer:function(e){switch(this.onOpenEditLayerClick(e),$(e.currentTarget).data("edit-layer")){case"work-experience":xing.profiles.tracking.loggedIn("editWorkExperience",xing.profiles.globals.profileAttributes.self);break;case"education":xing.profiles.tracking.loggedIn("editEducation",xing.profiles.globals.profileAttributes.self);break;case"languages":xing.profiles.tracking.loggedIn("editLanguage",xing.profiles.globals.profileAttributes.self);break;case"award":xing.profiles.tracking.loggedIn("editAward",xing.profiles.globals.profileAttributes.self);break;case"organizations":xing.profiles.tracking.loggedIn("editOrganisation",xing.profiles.globals.profileAttributes.self);break;case"birthday":xing.profiles.tracking.loggedIn("editBirthday",xing.profiles.globals.profileAttributes.self);break;case"haves":xing.profiles.tracking.loggedIn("editHaves",xing.profiles.globals.profileAttributes.self);break;case"wants":xing.profiles.tracking.loggedIn("editWants",xing.profiles.globals.profileAttributes.self);break;case"interests":xing.profiles.tracking.loggedIn("editInterests",xing.profiles.globals.profileAttributes.self);break;case"qualifications":xing.profiles.tracking.loggedIn("editQualifications",xing.profiles.globals.profileAttributes.self)}},openPositionDetails:function(e){var n=$(e.currentTarget);n.hasClass("displayed")?n.removeClass("displayed"):(n.addClass("displayed"),xing.profiles.globals.profileAttributes.self?xing.profiles.tracking.loggedIn("openDetailsOfAPositionSelf",!0):xing.profiles.tracking.loggedIn("openDetailsOfAPositionOther",!1))},onCompanyURLClick:function(e){var n,t,i={};n=$(e.target).closest("li").data("edit-id"),t=xing.profiles.collections.workExperience.get(n),i.id=xing.profiles.globals.profile.id,t&&(i.field=t.get("current_company")?"company_url":"p_url",i.url=t.get("company_url")),xing.profiles.ajaxHelper({url:"/app/search?op=go_external",type:"POST",data:i})},onXasButtonClick:function(e){e.preventDefault();var n=this,t=this.$(".xas-button a");this.trackAd("click",function(){n.navigateToAdMasterAd(t.data("tracking").ad_type,t.data("target-url")+"?category=422")}),xing.trigger("tracking.track_event",{trackingName:"Click_AdMaster_DA-1068",extendedParams:{linkTrackVars:"prop56,eVar56",eVar56:"D=c56",prop56:"Click_AdMaster_DA-1068"}})},navigateToAdMasterAd:function(e,n){"website"===e?window.open(n):window.location.href=n}}))),xing.define("profiles.sections.cv.views.EducationForm",Backbone.View.extend($.extend({},xing.profiles.mixins.WithEditLayer,xing.profiles.mixins.WithErrorMessages,{tagName:"div",className:"edit-container",template:HandlebarsTemplates["sections/cv/education_form"],events:{click:"onClick","click .layer-close":"onLayerCloseClick","click #delete":"onDelete","submit form":"onFormSubmit",esc:"close"},initialize:function(){_.bindAll(this,"collectErrors"),Backbone.Validation.bind(this,{invalid:this.collectErrors}),ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:this.model.attributes.id>=0?"profile_self_editing_education_edit":"profile_self_editing_education_add",PropActionOrigin:"profile_self_editing_education"})},focusFirstField:function(){this.$("#school-name").focus()},render:function(){var e=_.extend({},this.model.toJSON(),{begin_years:_.range(1946,xing.profiles.globals.current_year+2).reverse(),end_years:_.range(1946,xing.profiles.globals.current_year+8).reverse(),months:_.object(_.range(1,13),Date.MONTH_NAMES),employment_status:xing.profiles.globals.profile.occupation_type});return this.$el.html(this.template(e)),xing.utils.Behaviors.update(this.$el,0),this},save:function(){this.model.save(this.model.attributes,{success:function(){this.onModelSaveSuccess(),xing.profiles.views.vCard.render(),xing.profiles.tracking.loggedIn("saveEducation",xing.profiles.globals.profileAttributes.self),ttt.event("EventProfileEditingSave",{EventProfileEditingSave:1,PropActionOrigin:"profile_self_editing_education"})}.bind(this),error:this.onModelSaveError})},getFormValues:function(){var e=this.$el.find("form").serializeObject();return $.each(e,function(n,t){""===t&&(e[n]=null)}),e.primary_school=!!e.primary_school,e},onDelete:function(e){e.preventDefault(),this.model.destroy({success:this.onModelSaveSuccess,error:this.onModelSaveError}),ttt.event("EventProfileEditingDelete",{EventProfileEditingDelete:1,PropActionOrigin:"profile_self_editing_education"})},onFormSubmit:function(e){e.preventDefault(),this.errors=[],this.model.set(this.getFormValues()),this.render(),this.model.isValid(!0)?this.save():this.error()}}))),xing.define("profiles.sections.cv.views.LanguageSkillsForm",Backbone.View.extend($.extend({},xing.profiles.mixins.WithEditLayer,xing.profiles.mixins.WithErrorMessages,{tagName:"div",className:"edit-container",templates:{languageSkillForm:HandlebarsTemplates["sections/cv/language_skills_form"],languageSkillEntry:HandlebarsTemplates["sections/cv/language_skill_entry"]},events:{click:"onClick","submit form":"onFormSubmit","click .layer-close":"onLayerCloseClick","click .remove-entry":"onRemoveEntryClick","click .add-entry":"onAddOtherLanguageClick","change #languages":"onLanguageSelect","change [name='skill_level']":"onSkillLevelSelect","keyup .entry input":"onInputKeyup",esc:"close"},initialize:function(){_.bindAll(this,"onFetchResourcesSuccess"),this.resources=null,ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:this.model.attributes.language_skills.length>0?"profile_self_editing_language_edit":"profile_self_editing_language_add",PropActionOrigin:"profile_self_editing_languages"})},render:function(){var e;return this.resources?(e=$.extend({},this.resources,{language_skills:this.model.get("language_skills"),spoken_languages:this.spokenLanguages,system_language:xing.profiles.globals.lang}),this.$el.html(this.templates.languageSkillForm(e))):this.fetchResources(),this},fetchResources:function(){xing.profiles.ajaxHelper({url:"/profile/resources?section=languages&language="+xing.profiles.globals.lang}).done(this.onFetchResourcesSuccess)},onFetchResourcesSuccess:function(e){var n=[];$.each(this.model.get("language_skills"),function(e,t){n.push(t.language)}),this.spokenLanguages=n,this.resources=e,this.render()},onFormSubmit:function(e){var n=xing.profiles,t=this.$("li.other_language").not("#other_language");e.preventDefault(),this.clearError(),$.each(t,function(e,n){var t=$(n),i=t.find("input"),s=i.val();s.length&&(s.match("^[^,]*$")?(this.addEntry(s,"",t),t.remove()):(i.addClass("input-error"),$(HandlebarsTemplates.error_message("PROFILERAILS_LANGUAGE_OTHER_ERROR")).insertAfter(i)))}.bind(this)),this.$(".error-message").length||(n.models.user.save({language_skills:this.collectlanguageSkills()},{patch:!0,success:function(){this.onModelSaveSuccess(),xing.profiles.tracking.loggedIn("saveLanguage",xing.profiles.globals.profileAttributes.self),ttt.event("EventProfileEditingSave",{EventProfileEditingSave:1,PropActionOrigin:"profile_self_editing_languages"})}.bind(this),error:this.onModelSaveError}),this.close())},onRemoveEntryClick:function(e){var n=$(e.target),t=n.closest(".entry"),i=t.find(".language"),s=i.data("language");t.remove(),this.toggleSeparationLine($("#language-skills-form").find(".entry-container").children().length>0),s.length&&this.toggleLanguageOption(s,!0),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_languages_delete"}),e.preventDefault()},onAddOtherLanguageClick:function(e){var n=$(e.currentTarget).closest(".entry"),t=n.find("input"),i=t.val();this.clearError(),i.match("^[^,]*$")?(this.addEntry(i,"",n),n.remove()):this.displayError("PROFILERAILS_LANGUAGE_OTHER_ERROR")},onLanguageSelect:function(e){var n,t=$(e.currentTarget),i=t.find(":selected"),s=i.text(),a=i.val(),l=$("#languages").find("option:last-child");s.length>0&&(i[0]===l[0]?(n=$("#other_language").clone().removeAttr("id"),this.$(".entry-container").append(n),n.show(),n.find("input").focus(),$("#languages").prop("selectedIndex",0)):this.addEntry(s,a)),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_languages_add"}),e.preventDefault()},onSkillLevelSelect:function(e){var n=$(e.currentTarget),t=n.closest(".entry").find(".language"),i=n.find(":selected").val()||0;t.removeAttr("class").addClass("language language-level-"+i),t.attr("data-level",i)},onInputKeyup:function(e){var n=$(e.currentTarget);n.val()?n.closest(".entry").find(".add-entry").delay("10").stop(!0,!0).fadeIn("fast"):n.closest(".entry").find(".add-entry").stop(!0,!0).fadeOut("fast")},addEntry:function(e,n,t){var i,s=0===n.length,a=$.extend({},this.resources,{language_full:e,language:n});i=$(this.templates.languageSkillEntry(a)),t?t.after(i):this.$(".entry-container").append(i),s?i.find("select").remove():this.toggleLanguageOption(n,!1),i.delay("10").slideDown("fast"),$("#languages").prop("selectedIndex",0),$("#other_language").hide(),this.toggleSeparationLine(!0)},toggleLanguageOption:function(e,n){var t,i=$("#languages").find("option");t=i.closest("select").find("[value="+e+"]"),n?t.removeAttr("disabled"):t.attr({disabled:"disabled"})},toggleSeparationLine:function(e){$("#language-skills-form").find("hr").toggle(e)},displayError:function(e){this.$("input").addClass("input-error"),$(HandlebarsTemplates.error_message(e)).insertAfter("#language-skills-form input")},clearError:function(){this.$("input").removeClass("input-error"),this.$(".error-message").remove()},collectlanguageSkills:function(){var e=this.$("li.language_entry"),n=[];return $.each(e,function(e,t){var i=$(t).find(".language");n.push({additional:0===i.data("language").length,language:i.data("language"),language_full:i.find("div").text(),skill_level_id:i.data("level")})}),n}}))),xing.define("profiles.sections.cv.views.ListEditor",Backbone.View.extend($.extend({},xing.profiles.mixins.WithEditLayer,{tagName:"div",className:"edit-container",events:{"click .remove-entry":"onRemoveEntryClick","submit form":"onFormSubmit","keyup .entry:last-child input":"onEntryInputKeyup",click:"onClick","click .layer-close":"onLayerCloseClick",keydown:"onKeyDown"},initialize:function(e){var n=e.listField;_.bindAll(this,"onModelSaveSuccess","jumpToLastInput","extractErrorMessage"),this.options=e,ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:this.model.attributes[n].length>0?"profile_self_editing_"+n+"_edit":"profile_self_editing_"+n+"_add",PropActionOrigin:"profile_self_editing_"+n})},render:function(){return this.$el.html(this.options.template(this.model.toJSON())),xing.utils.Behaviors.update(this.$el,0),this},focusFirstField:function(){
this.$(".entry:last-child input").focus()},save:function(){var e=this.$("form").serializeArray(),n=[],t={};e.forEach(function(e){var t;e.value&&(t=e.name===this.options.listField?null:e.name,n.push({id:t,description:e.value}))}.bind(this)),t[this.options.listField]=n,xing.profiles.models.user.save(t,{patch:!0,error:this.showErrorMessage.bind(this),success:function(){switch(this.onModelSaveSuccess(),this.options.listField){case"organizations":xing.profiles.tracking.loggedIn("saveOrganisation",xing.profiles.globals.profileAttributes.self);break;case"interests":xing.profiles.tracking.loggedIn("saveInterests",xing.profiles.globals.profileAttributes.self);break;case"qualifications":xing.profiles.tracking.loggedIn("saveQualifications",xing.profiles.globals.profileAttributes.self)}ttt.event("EventProfileEditingSave",{EventProfileEditingSave:1,PropActionOrigin:"profile_self_editing_"+this.options.listField})}.bind(this)})},extractErrorMessage:function(e,n){return e.responseJSON&&e.responseJSON.errors&&e.responseJSON.errors[this.options.listField]&&"ERROR_FIELD_WANTS_TOO_LONG"===e.responseJSON.errors[this.options.listField][0]?"PROFILERAILS_EDIT_WANTS_LENGTH_ERROR":n},showErrorMessage:function(){var e="PROFILERAILS_EDIT_ERROR";switch(this.options.listField){case"organizations":xing.profiles.tracking.loggedIn("saveOrganisation",xing.profiles.globals.profileAttributes.self);break;case"interests":xing.profiles.tracking.loggedIn("saveInterests",xing.profiles.globals.profileAttributes.self);break;case"qualifications":xing.profiles.tracking.loggedIn("saveQualifications",xing.profiles.globals.profileAttributes.self)}xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t(e)})},onFormSubmit:function(e){e.preventDefault(),this.save(),this.close()},onRemoveEntryClick:function(e){$(e.target).closest(".entry").remove(),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_"+this.options.listField+"_delete"}),e.preventDefault()},onEntryInputKeyup:function(){var e,n,t=this.$(".entry:last-child"),i=t.clone().hide(),s=i.find("input"),a=s.attr("id");a&&a.indexOf("-")>0&&(e=parseInt(a.split("-")[1],10),n=a.replace(e,++e),i.find("input").attr("id",n)),s.val(""),this.$(".entry-container").append(i),i.delay("10").slideDown("fast"),xing.utils.Behaviors.update(this.$el,0),t.find(".remove-fields").css({display:"block"}),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_"+this.options.listField+"_add"})},onKeyDown:function(e){switch(e.which){case 27:this.close();break;case 9:case 188:case 13:e.preventDefault(),this.jumpToLastInput(e.currentTarget)}},jumpToLastInput:function(){var e,n=$(document.activeElement);n.val().length>0&&(e=n.closest("li").next().find("input"),e.focus())}}))),xing.define("profiles.sections.cv.views.References",Backbone.View.extend($.extend({},{el:"#references",events:{"click .show-all a":"expandReferences","click [data-link-reference]":"onReferenceClick","click [data-remove-reference-id]":"onRemoveClick"},expandReferences:function(e){e&&(e.stopPropagation(),e.preventDefault()),this.$("li").show(),this.$(".show-all").hide()},onReferenceClick:function(e){e.preventDefault();var n=$(e.currentTarget);window.location.href=n.data("link-reference")},onRemoveClick:function(e){e.preventDefault(),e.stopPropagation();var n=$(e.currentTarget),t=n.data("remove-reference-id"),i={profile_id:xing.profiles.models.user.get("page_name"),reference_id:t},s=new xing.controls.Lightbox({content:HandlebarsTemplates["sections/cv/references_confirmation_form"](i)}),a=n.closest(".reference"),l=a.closest(".references").find(".reference"),r=a.closest(".position");s.on("submit",function(e,n){n.preventDefault(),$("#lightbox").find("output .spinner").addClass("show");var t=$(n.currentTarget);xing.profiles.ajaxHelper({url:t.attr("action"),type:t.attr("method")}).success(function(){this.expandReferences(),l.length>1?a.remove():r.remove()}.bind(this)).error(function(){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR")})}.bind(this)).complete(function(){t.find(".cancel-link").click()}.bind(this))}.bind(this))}}))),xing.define("profiles.sections.cv.views.WorkExperienceForm",Backbone.View.extend($.extend({},xing.profiles.mixins.WithEditLayer,xing.profiles.mixins.WithErrorMessages,{tagName:"div",className:"edit-container",templates:{workExperienceForm:HandlebarsTemplates["sections/cv/work_experience_form"],subIndustries:HandlebarsTemplates["sections/cv/sub_industries"]},events:{click:"onClick","click .layer-close":"onLayerCloseClick","click #delete":"onDelete","submit form":"onFormSubmit",esc:"close","keyup #job-title":"showPositionOptional","keyup #company-name":"showCompanyOptional","change #industry":"showIndustryOptional","change #current-company":"toggleCurrentJob"},initialize:function(){_.bindAll(this,"onFetchResourcesSuccess","collectErrors","onCompanySelected","autofillCompanyFields","selectIndustry"),Backbone.Validation.bind(this,{invalid:this.collectErrors}),ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:this.model.attributes.id>=0?"profile_self_editing_workexperience_edit":"profile_self_editing_workexperience_add",PropActionOrigin:"profile_self_editing_workexperience "})},focusFirstField:function(){this.$("#job-title").focus()},render:function(){var e=xing.profiles.globals.data.workExperience,n=$.extend(this.model.toJSON(),e,{employment_status:xing.profiles.globals.profile.occupation_type,sub_industries:this.getSubIndustries(e)});return this.$el.html(this.templates.workExperienceForm(n)),e?(xing.utils.Behaviors.update(this.$el,0),this.$el.find("#company-name").on("xing.suggestor.selected",this.onCompanySelected)):this.fetchResources(),_.isEmpty(this.errors)||(this.model.isValid(!0),this.showErrorMessages()),this},fetchResources:function(){xing.profiles.ajaxHelper({url:"/profile/resources?section=work_experience&language="+xing.profiles.globals.lang+"&gender="+xing.profiles.models.user.get("gender")}).done(this.onFetchResourcesSuccess)},onFetchResourcesSuccess:function(e){xing.profiles.globals.data.workExperience=$.extend({},e,{hasData:!0,begin_years:_.range(1946,xing.profiles.globals.current_year+2).reverse(),end_years:_.range(1946,xing.profiles.globals.current_year+8).reverse(),months:_.object(_.range(1,13),Date.MONTH_NAMES),industries:e.industries}),this.render()},getSubIndustries:function(e){var n,t,i=this.model.get("industry_id"),s=null;return i&&e&&(n=e.industries,t=1e4*Math.floor(i/1e4),s=_.findWhere(n,{id:t}).sub_industries),s},save:function(){var e=xing.profiles;e.collections.workExperience.add(this.model,{merge:!0}),this.model.unset("industry_id"),this.model.unset("sub_industry_id"),this.model.get("primary_job")&&(e.collections.workExperience.models.forEach(function(e){e.set("primary_job",!1)}),this.model.set("primary_job",!0)),e.views.content.loadingIndicator(!0),this.model.save(null,{success:function(){this.onModelSaveSuccess(),xing.profiles.views.vCard.render(),xing.profiles.tracking.loggedIn("saveWorkExperience",xing.profiles.globals.profileAttributes.self),ttt.event("EventProfileEditingSave",{EventProfileEditingSave:1,PropActionOrigin:"profile_self_editing_workexperience"})}.bind(this),error:this.onModelSaveError.bind(this),complete:function(){e.views.content.loadingIndicator(!1)}})},onModelSaveError:function(e,n){if(500===n.status)return void this.showErrorMessage();n=null!==n&&"object"==typeof n.responseText?n.responseText:JSON.parse(n.responseText),this.errors=[],$.each(n.errors,function(e,n){var t=null;if(n.id&&this.$("input, select").each(function(e,i){$(i).attr("name")===n.id&&(t=$(i))}),!t)return void this.showErrorMessage(n.message?n.message:null);this.errors.push({message:n.message,element:t})}.bind(this)),this.error()},showErrorMessage:function(e){e=e||"PROFILERAILS_EDIT_ERROR",xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t(e)})},getFormValues:function(){var e=this.$el.find("form").serializeObject();return $.each(e,function(n,t){""===t&&(e[n]=null)}),e.industry_ids=new Array(e.sub_industry_id?e.sub_industry_id:e.industry_id),e.primary_job?e.primary_job=!0:e.primary_job=null,e.current_company?e.current_company=!0:e.current_company=null,e},onDelete:function(e){e.preventDefault(),this.model.destroy({success:this.onModelSaveSuccess,error:this.onModelSaveError}),ttt.event("EventProfileEditingDelete",{EventProfileEditingDelete:1,PropActionOrigin:"profile_self_editing_workexperience"})},onFormSubmit:function(e){e.preventDefault(),this.errors=[],this.model.set(this.getFormValues()),this.render(),this.model.isValid(!0)?this.save(e):this.error()},showPositionOptional:function(){this.$el.find(".position-optional").slideDown()},showCompanyOptional:function(){this.$el.find(".company-optional").slideDown()},showIndustryOptional:function(e,n){var t,i,s;e&&e.currentTarget&&(n=parseInt($(e.currentTarget).val(),10)),this.$el.find(".industry-optional .mod").remove(),n&&(t=_.findWhere(xing.profiles.globals.data.workExperience.industries,{id:n}).sub_industries,i=$.extend(xing.profiles.globals.data.workExperience,{sub_industries:t}),t.length>0&&(s=$(this.templates.subIndustries(i)),this.$el.find(".industry-optional").append(s),this.$el.find(".industry-optional").show()))},toggleCurrentJob:function(e){var n=this.$el.find("#current");$(e.currentTarget).prop("checked")?(this.model.unset("end_date_year"),this.model.unset("end_date_month"),n.fadeOut()):n.fadeIn()},selectIndustry:function(e){var n,t=1e4*Math.floor(e/1e4);n=$("#industry option[value="+t+"]").index(),$("#industry").prop("selectedIndex",n),this.showIndustryOptional(null,t),$("#sub-industry")&&(n=$("#sub-industry option[value="+e+"]").index(),$("#sub-industry").prop("selectedIndex",n))},autofillCompanyFields:function(e){var n,t=e.company;this.selectIndustry(t.new_industry_id),n=$("#company-size option[value="+t.company_size_id+"]").index(),$("#company-size").prop("selectedIndex",n),$("#company-url").val(t.company_url)},onCompanySelected:function(e,n){var t=$(n).data("item-id");$.ajax({url:"/profile/work_experiences/companies/"+t,type:"GET",format:"json"}).success(this.autofillCompanyFields)}}))),Handlebars.registerHelper("controls",function(e){return new Handlebars.SafeString(['<div class="controls clfx">',e.fn&&e.fn(this),HandlebarsTemplates["sections/filling_wizard/controls"](e.data.root),"</div>"].join(""))}),xing.define("profiles.sections.fillingWizard.init",function(e){var n=xing.profiles;e=e||{},$("#filling-wizard").size()&&(n.models.fillingWizard&&n.models.fillingWizard.off(),n.models.fillingWizard=new n.sections.fillingWizard.models.Wizard($.extend({seekingStatus:n.models.jobSeeker.get("seeking_status")},e)),n.views.fillingWizard&&n.views.fillingWizard.remove(),n.views.fillingWizard=new xing.profiles.sections.fillingWizard.views.Wizard({model:n.models.fillingWizard,el:"#filling-wizard .filling-wizard-wrapper"}),n.views.fillingWizard.render())}),xing.define("profiles.sections.fillingWizard.mixins.AcademicDegreeCard",{template:HandlebarsTemplates["sections/filling_wizard/academic_degree_card"],className:"wizard-card",events:{"click .complete-card":"submit","keyup input":"onKeyupInput"},initialize:function(e){this.wizard=e.wizard,this.setReason("academic_degree_card",this.wizard.get("seekingStatus")),this.model.set({academicDegree:xing.profiles.models.user.get("academic_degree")})},onKeyupInput:function(e){_.isEmpty(e.target.value)?this.disableSubmitButton():this.enableSubmitButton()},submit:function(){var e=xing.profiles.models.user,n=this,t=n.$el.find("#academic-degree-input").val();t!==e.get("academic_degree")?(e.set({academic_degree:t}),e.save(e.changed,{patch:!0}).then(function(){n.postInteraction()})):n.postInteraction(),this.wizard.track.cta("y")},postInteraction:function(){this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"})},updateHtml:function(){this.$el.html(this.template(this.model.toJSON()))},render:function(){return this.updateHtml(),$.Deferred().resolve(this).promise()}}),xing.define("profiles.sections.fillingWizard.mixins.BusinessAddressCard",{template:HandlebarsTemplates["sections/filling_wizard/business_address_card"],className:"wizard-card",userShouldBeUpdated:!0,events:{"click .complete-card":"submit","click .disagree, .data-wrapper":"onBusinessAddressEdit"},initialize:function(e){this.wizard=e.wizard,this.wizardView=e.wizardView,this.setReason("business_address_card",this.wizard.get("seekingStatus")),this.model.set({})},updateHtml:function(){this.$el.html(this.template(this.model.toJSON()))},render:function(){var e=this;return e.ensureWorkExperienceLoaded().then(function(n){return e.workExperience=n.findWhere({primary_job:!0}).attributes,e.attributes.data&&e.attributes.data.suggestions&&e.model.set($.extend({},e.attributes.data.suggestions[0],{company_logo:e.workExperience.company_logo,company_name:e.workExperience.company_name})),e.updateHtml(),e})},submit:function(){var e=xing.profiles.models.user,n="n";this.userShouldBeUpdated&&(e.set({business_city:this.model.attributes.company_city,business_country_name:this.model.attributes.company_country_name,business_country:this.model.attributes.company_country_code.toLowerCase(),business_province:this.model.attributes.company_province,business_street:this.model.attributes.company_street,business_zip:this.model.attributes.company_zip},{silent:!0}),n="y",e.save(e.changed,{patch:!0,wait:!0})),this.wizard.increment("completedCardsCount"),this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"}),this.wizard.track.cta(n)},postInteraction:function(){this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"})},prepareUserModelUpdate:function(){return xing.profiles?$.extend({},xing.profiles.models.user.attributes):null},shouldSaveBusinessAddress:function(e){if(0===e.length)return!1;var n,t=["business_city","business_country_name","business_country","business_province_id","business_street","business_zip"],i=!1;for(n=0;n<t.length;n++)jQuery.inArray(t[n],Object.keys(e))>=0&&(i=!0);return i},onBusinessAddressEdit:function(){var e=this,n=this.prepareUserModelUpdate();e.wizard.track.cta("n"),e.wizard.track.setPageName("profile/profile_details/self_CreateBusinessAddressCard_lightbox"),e.wizard.track.submit(),n&&new xing.profiles.sections.vcard.views.ContactDetailsForm({model:new xing.profiles.sections.vcard.models.ContactDetails(n),trackOn:{save:!1},rightBeforeUpdateHtmlCallback:function(){var e=_.findWhere(this.resources.provinces_with_ids[n.business_country],{id:n.business_province_id});e&&this.model.set({business_province:e.name},{silent:!0})},dataSavedSuccessCallback:function(t){!1!==e.shouldSaveBusinessAddress(t.changes)&&(e.wizard.track.custom("cta_n_save",56),e.wizard.track.setPageName("profile/profile_details/self"),e.wizard.track.submit(),n=$.extend({},n,t.changes),e.userShouldBeUpdated=!1,e.wizard.increment("completedCardsCount"),e.wizardView.onNextCard())}}).render()}}),xing.define("profiles.sections.fillingWizard.mixins.BusinessCityCard",{template:HandlebarsTemplates["sections/filling_wizard/business_city_card"],className:"wizard-card",initialize:function(e){xing.require(["js/jqext.lazy.js","js/suggestor.js","css/suggestor.css"]),this.wizard=e.wizard,this.wizardView=e.wizardView,this.setReason("business_city_card",this.wizard.get("seekingStatus")),_.bindAll(this,"onItemSelected")},events:{"blur input":"onBlurInput","click .complete-card":"submit","click input":"onClickInput","keyup input":"onKeyupInput"},onBlurInput:function(e){_.isEmpty(e.target.value)||this.enableSubmitButton()},onKeyupInput:function(e){_.isEmpty(e.target.value)&&this.disableSubmitButton()},onClickInput:_.noop,submit:function(e){var n,t,i,s,a,l,r,o=this,c=xing.profiles.models.user,u=o.$el.find("#location-input"),d=u.val(),p=o.data;if(_.isEmpty(d))return o.wizardView.onSkipCard(e);_.isEmpty(p)||p.city!==d?c.set({business_city:d}):(n=p.country_code.toLowerCase(),t=o.resources,i=t.provinces_with_ids[n],s=_.findWhere(i,{id:p.region_id}),a=s?s.name:"",l=_.find(t.countries,function(e){return Object.keys(e)[0]===n})[n],r={business_city:p.city,business_province:a,business_country:n,business_country_name:l},c.set(r)),o.wizard.track.cta("y"),c.save(c.changed,{patch:!0}).then(function(){o.wizard.postCardInteraction({id:o.attributes.id,action:"cta"})})},updateHtml:function(){this.model.set({company_name:this.primaryJob.get("company_name"),business_city:this.wizard.getUser().get("business_city")}),this.$el.html(this.template(this.model.toJSON())),this.$el.find("form").submit(function(e){e.preventDefault()}),xing.utils.Behaviors.update(),this.$el.find("#location-input").on("xing.suggestor.selected",this.onItemSelected)},ensureData:function(){var e=this;return $.when(e.ensureWorkExperienceLoaded(),e.ensureContactDetailsLoaded()).then(function(n,t){return e.primaryJob=n.findWhere({primary_job:!0}),e.resources=t,this})},ensureContactDetailsLoaded:function(){return this.wizard.getResource("contact_details").then(function(e){return e})},render:function(){var e=this;return this.ensureData().then(function(){return e.updateHtml(),e})},onItemSelected:function(e,n){this.data=$(n).data("item-extra"),this.enableSubmitButton()}}),xing.define("profiles.sections.fillingWizard.mixins.CardHelper",{adaptCardHeight:function(){var e=$(".filling-wizard-mask").height();$("#filling-wizard").animate({height:e+"px"},50)},queueContainsOnlyUpdateCards:function(){var e=0;return this.model.attributes.cardQueue.forEach(function(n){e+=n.id.indexOf("Improve")+1,e+=n.id.indexOf("Create")+1}),e<=this.model.autoSkippedCardsCount&&!0===this.model.hasMoreCards()},preventDefaultAction:function(e){e&&e.preventDefault()}}),xing.define("profiles.sections.fillingWizard.mixins.DisciplineCard",{template:HandlebarsTemplates["sections/filling_wizard/discipline_card"],className:"wizard-card",initialize:function(e){this.wizard=e.wizard,this.setReason("discipline_card",this.wizard.get("seekingStatus"))},updateHtml:function(){this.$el.html(this.template(this.model.toJSON()))},render:function(){var e=this;return this.ensureData().then(function(){return e.updateHtml(),e})},ensureDisciplinesLoaded:function(){return this.wizard.getResource("work_experience").then(function(e){return e.disciplines})},ensureData:function(){var e=this;return $.when(e.ensureWorkExperienceLoaded(),e.ensureDisciplinesLoaded()).then(function(n,t){return e.workExperience=n,e.model.set(e.primaryJob().attributes),e.model.set({disciplines:t}),e.storedDisciplineId=e.primaryJob().attributes.discipline_id,this})},primaryJob:function(){return this.workExperience.findWhere({primary_job:!0})},submit:function(){var e=this,n=e.primaryJob(),t=n.changed,i=t.discipline_id;t&&i&&i!==e.storedDisciplineId?n.save().then(function(){e.postInteraction()}):e.postInteraction(),e.wizard.track.cta("y")},postInteraction:function(){this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"})}}),xing.define("profiles.sections.fillingWizard.mixins.FieldOfStudyCard",{template:HandlebarsTemplates["sections/filling_wizard/field_of_study_card"],className:"wizard-card",events:{"click .complete-card":"submit","keyup input":"onKeyupInput","click .disagree":"onSubmitNoChange","click input":"onClickInput"},initialize:function(e){this.education=_.findWhere(xing.profiles.collections.education.models,{id:parseInt(e.attributes.entity_id,10)}),this.wizard=e.wizard,this.wizardView=e.wizardView,this.model.set({school_name:this.education.get("school_name"),field_of_study:this.education.get("subject")}),_.bindAll(this,"onItemSelected")},updateHtml:function(e){this.model.set(e),this.$el.html(this.template(this.model.toJSON())),xing.utils.Behaviors.update(),this.$el.find("#field-of-study-input").on("xing.suggestor.selected",this.onItemSelected)},render:_.noop,minLength:function(){return _.find(this.education.validation.subject,function(e){return _.has(e,"minLength")}).minLength},maxLength:function(){return _.find(this.education.validation.subject,function(e){return _.has(e,"maxLength")}).maxLength},onKeyupInput:function(e){_.isEmpty(e.target.value)||e.target.value.length<this.minLength()||e.target.value.length>this.maxLength()?this.disableSubmitButton():this.enableSubmitButton()},onClickInput:function(e){var n,t=$(e.currentTarget);!t.val()&&this.attributes.data&&this.attributes.data.suggestions&&this.attributes.data.suggestions.length>0&&(n=_.map(this.attributes.data.suggestions,function(e){return e.entity_label})[0],t.val(n),this.enableSubmitButton())},submit:function(){var e=this,n=e.$el.find("#field-of-study-input").val();n!==e.education.get("subject")?(e.education.set({subject:n}),e.education.save().then(function(){e.trackCardInteraction(),xing.profiles.router.cv(xing.profiles.models.user.get("page_name"),!0,!0,!1),xing.profiles.views.vCard.render()})):e.trackCardInteraction(),this.wizard.track.cta("y")},onSubmitNoChange:function(){this.wizard.track.cta("n"),this.wizard.track.submit(),this.trackCardInteraction(),this.wizard.increment("completedCardsCount"),this.wizardView.onNextCard(event)},onItemSelected:function(){this.enableSubmitButton()},trackCardInteraction:function(){var e,n=this,t={value:this.attributes.value,entity_id:this.attributes.entity_id};this.attributes.data&&this.attributes.data.suggestions&&(t=_.extend({trackingId:this.attributes.data.suggestion_tracking_token,tracking:_.map(this.attributes.data.suggestions,function(e){return e.selected=e.entity_label===n.education.attributes.subject,e})},t)),e=_.extend({id:this.attributes.id,action:"cta"},t),this.wizard.postCardInteraction(e)}}),xing.define("profiles.sections.fillingWizard.mixins.HavesCard",{className:"wizard-card",template:HandlebarsTemplates["sections/filling_wizard/haves_card"],preventNextCardOnComplete:!0,displayBackendErrors:!0,useSuggestions:!0,suggestionsToDisplay:15,maxHavesLength:110,events:{"click .complete-card":"submit","click .suggestion-tag":"onToggleSuggestion","keyup input":"onInputKeyup","submit #haves_card_form":"preventDefaultAction"},reasonOverrides:function(){this.setReason("haves_card",this.wizard.get("seekingStatus"))},initialize:function(e){xing.require(["js/jqext.lazy.js","js/suggestor.js","css/suggestor.css"]),this.wizard=e.wizard,this.wizardView=e.wizardView,_.bindAll(this,"onItemSelected","addHave"),this.user=xing.profiles.models.user,this.totalHavesLength=this.getTotalHavesLength(this.user.attributes.haves),this.reasonOverrides&&this.reasonOverrides(),this.model.set({haves:[],selectedHaves:[],suggestions:[]})},collectSelectedValues:function(e){var n=$(e,this.$el),t=[];return $.each(n,function(e,n){t.push({description:$(n).text(),id:null})}),t},getTotalHavesLength:function(e){var n=0;return _.each(e,function(e){n+=e.description.length+2}),e>0&&(n-=2),n},updateHtml:function(){this.handleSubmitButton(),this.$el.html(this.template(this.model.toJSON())),xing.utils.Behaviors.update(),this.$el.find("input").on("xing.suggestor.selected",this.onItemSelected).focus(),this.adaptCardHeight()},onItemSelected:function(e,n){var t=$(n).data("item-data");this.addHave(t)},onInputKeyup:function(e){var n=$(this.$el).find("input").val();13!==e.which&&188!==e.which||this.addHave(n.replace(/[, ]+/g," ").trim())},addHave:function(e){var n,t=[];e.length>0&&(n=jQuery.extend([],this.model.attributes.haves),_.contains(n,e)||(n.push(e),this.useSuggestions&&(t=jQuery.extend([],this.model.attributes.selectedHaves),t.push(e)),this.model.set({haves:n,selectedHaves:t})),this.updateHtml())},handleSubmitButton:function(){this.model.attributes.selectedHaves.length>0?this.model.set({ctaAgreeText:"PROFILERAILS_WIZARD_HAVES_CARD_BUTTON_SAVE"}):this.model.set({ctaAgreeText:"PROFILERAILS_WIZARD_HAVES_CARD_BUTTON_KEEP_AS_IS"})},onRemoveTag:function(e){var n=this.model.get("haves"),t=$(e.currentTarget).text();n=_.reject(n,function(e){return e===t}),this.model.set({haves:n}),this.storedMessageId&&!this.areHavesTooLong()&&xing.trigger("app_messages.dismiss",this.storedMessageId),this.updateHtml()},afterUpdate:function(){var e=this.user;xing.profiles.router.cv(e.get("page_name"),!0,!0,!1),!0===this.preventNextCardOnComplete&&(this.wizard.increment("completedCardsCount"),this.wizardView.onNextCard())},submit:function(e){var n=this.user,t=this,i=this.collectSelectedValues(".cv-tag-list li.selected"),s=this.getHaves();if(this.areHavesTooLong())return this.showHavesRelatedError("PROFILERAILS_WIZARD_HAVES_CARD_ERROR_MAX_LENGTH"),e.stopImmediatePropagation();n.save({haves:s},{patch:!0}).then(function(){t.afterUpdate()}).fail(function(n){if(!0===t.displayBackendErrors)return t.handleBackendError(n),e.stopImmediatePropagation();t.afterUpdate()}),this.wizard.postCardInteraction({id:t.attributes.id,action:"cta",trackingId:this.attributes.data.suggestion_tracking_token,tracking:_.map(this.attributes.data.suggestions,function(e){return e.selected=_.contains(_.map(i,function(e){return e.description}),e.entity_label),e})}),this.wizard.track.cta("y")},showHavesRelatedError:function(e){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t(e),onAttach:function(e){this.storedMessageId=e}.bind(this)})},handleBackendError:function(e){var n="PROFILERAILS_EDIT_ERROR";e.responseJSON&&e.responseJSON.errors&&e.responseJSON.errors.haves&&"ERROR_FIELD_HAVES_TOO_LONG"===e.responseJSON.errors.haves[0]&&(n="PROFILERAILS_WIZARD_HAVES_CARD_ERROR_MAX_LENGTH"),this.showHavesRelatedError(n)},render:function(){var e=this;return e.getData().then(function(n){return e.model.set(n),e.updateHtml(),e}).fail(function(){return e})},simplifySuggestions:function(e){return _.map(e,function(e){return e.entity_label})},getSuggestionsToDisplay:function(e,n){var t,i=[];for(t=0;t<e.length;t++)jQuery.inArray(e[t].entity_label,n)>=0&&i.push(e[t]);return i},getData:function(){var e=$.Deferred(),n=_.pluck(this.user.get("haves"),"description"),t=this,i=this.attributes.data.suggestions,s=t.simplifySuggestions(i),a=t.trimSuggestions(_.difference(s,n),t.maxHavesLength,!0).slice(0,t.suggestionsToDisplay);return s=t.getSuggestionsToDisplay(i,a),a.length>0?e.resolve({haves:a,suggestions:s}):e.reject(),e.promise()},toggleHaveSelection:function(e){var n=this.model.attributes.selectedHaves;return this.isHaveSelected(e)?n=_.reject(n,function(n){return n===e}):n.push(e),n},isHaveSelected:function(e){var n=this.model.attributes.selectedHaves;return-1!==jQuery.inArray(e,n)},onToggleSuggestion:function(e){var n,t=$(e.currentTarget).text();n=this.toggleHaveSelection(t),this.model.set({selectedHaves:n}),this.handleSubmitButton(),this.updateHtml()},areHavesTooLong:function(){return this.totalHavesLength+this.model.attributes.selectedHaves.join(", ").length>xing.profiles.globals.profileAttributes.maxHavesLength},getHaves:function(){return this.user.get("haves").concat(_.map(this.model.attributes.selectedHaves,function(e){return{description:e}}))}}),xing.define("profiles.sections.fillingWizard.mixins.PhotoCard",{template:HandlebarsTemplates["sections/filling_wizard/photo_card"],className:"wizard-card",events:{"click .disagree":"onPhotoIsCurrent","click .complete-card, [data-entry-point='button'], input, .user-photo":"onUploadPhotoClick"},preventNextCardOnComplete:!0,initialize:function(e){this.wizard=e.wizard,this.wizardView=e.wizardView,this.model.set({image_url:xing.profiles.globals.profile.user_images.image_128px}),this.provideDownloadLink(),_.bindAll(this,"onCardFinish","onUploadStart","onUploadAbort"),this.observers=[xing.on("uploadImage.success",this.onCardFinish),xing.on("uploadImage.start",this.onUploadStart),xing.on("uploadImage.stop",this.onUploadAbort)]},provideDownloadLink:_.noop,onCardFinish:function(){this.wizard.increment("completedCardsCount"),this.wizardView.onNextCard()},updateHtml:function(){this.$el.html(this.template(this.model.toJSON()))},render:function(){return this.updateHtml(),$.Deferred().resolve(this).promise()},onUploadStart:function(){var e=this.entryPoint||"profile_photo";this.wizard.track.cta("y_"+e),this.getSpinner().show()},onUploadAbort:function(){this.getSpinner().hide()},onUploadPhotoClick:function(e){this.entryPoint=$(e.currentTarget).data("entry-point")||"submit",e.preventDefault(),$("input[type=file]#input-upload-photo").trigger("click"),this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"})},onPhotoIsCurrent:function(e){this.wizard.track.cta("n"),this.wizard.track.submit(),this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"}),this.wizard.increment("completedCardsCount"),this.wizardView.onNextCard(e)},getSpinner:function(){return this.$el.parent().next(".wizard-loading")}}),xing.define("profiles.sections.fillingWizard.mixins.PreferredIndustryCard",{template:HandlebarsTemplates["sections/filling_wizard/preferred_industry_card"],className:"wizard-card",MAX_LENGTH:3,events:{"change select[name=industries]":"onIndustrySelect","change select[name=sub-industries]":"onSubIndustrySelect","click .complete-card":"submit","click .industry-tag":"onRemoveIndustry","click [type='checkbox']":"onCheckboxClick"},initialize:function(e){this.url="/profile/"+xing.profiles.globals.profile.page_name+"/job_seeker",this.wizard=e.wizard},updateHtml:function(){this.$el.html(this.template(this.model.toJSON())),this.adaptCardHeight()},render:function(){var e=this;return this.ensureData().then(function(){return e.originalPreferredIndustries=_.pluck(e.model.get("industryTags"),"id"),e.originalOpenToOtherIndustries=e.model.get("openToOtherIndustries"),e.updateHtml(),e})},onIndustrySelect:function(e){var n,t,i,s,a=this.model.get("industryTags"),l=this.MAX_LENGTH;if(!this.model.get("maxIndustriesReached")){if(n=parseInt(e.target.value,10),t=this.model.get("industries"),!n)return void this.updateHtml();s=_.findWhere(t,{id:n}),i=s.subIndustries,i.length<=0?(s.disabled=!0,a.push(s),this.model.set({maxIndustriesReached:a.length>=l,industries:t,subIndustries:undefined,baseIndustry:0,baseIndustrySelected:undefined})):this.model.set({maxIndustriesReached:a.length>=l,industries:t,subIndustries:i,baseIndustry:n,baseIndustrySelected:_.findWhere(a,{id:n})})}this.handleSubmitButton(a.length),this.updateHtml()},onSubIndustrySelect:function(e){var n,t,i,s,a=this.model.get("industryTags"),l=this.MAX_LENGTH,r=this.model.get("industries");this.model.get("maxIndustriesReached")||(n=parseInt(e.target.value,10),s=_.findWhere(r,{id:this.model.get("baseIndustry")}),0===n?i=s:(t=s.subIndustries,i=_.findWhere(t,{id:n}),i.disabled=!0),a.push(i),this.model.set({maxIndustriesReached:a.length>=l,subIndustries:[],industries:this.model.get("industries"),baseIndustry:0})),this.handleSubmitButton(a.length),this.updateHtml()},onRemoveIndustry:function(e){var n,t,i=$(e.currentTarget).data("industry-id"),s=this.model.get("industryTags"),a=this.model.get("industries");t=1e4*Math.floor(i/1e4),t===i?_.findWhere(a,{id:i}).disabled=!1:(n=_.findWhere(a,{id:t}).subIndustries,_.findWhere(n,{id:i}).disabled=!1),this.model.set({industryTags:_.reject(s,function(e){return e.id===i}),maxIndustriesReached:!1}),this.handleSubmitButton(s.lenth),this.updateHtml()},onCheckboxClick:function(){var e=this.$("input[type=checkbox]").prop("checked");this.model.set({openToOtherIndustries:e})},handleSubmitButton:_.noop,getIndustryTags:function(e,n){var t,i,s,a;return _.map(e,function(e){return(t=_.findWhere(n,{id:e}))||((s=1e4*Math.floor(e/1e4))&&(a=_.findWhere(n,{id:s}).sub_industries,i=_.findWhere(a,{id:e}))?i:void 0)})},ensureData:function(){var e,n,t=this.model,i=this,s=this.MAX_LENGTH;return t.has("industries")?$.Deferred().resolve().promise():$.getJSON(this.url).then(function(a){return e=a.job_seeker_settings.industries||[],n=a.job_seeker_settings.open_to_other_industries,t.set({openToOtherIndustries:n,maxIndustriesReached:e.length>=s,industryTags:i.getIndustryTags(e,a.industries),baseIndustry:0,industries:_.map(a.industries,function(n){return{disabled:e.indexOf(n.id)>=0,id:n.id,name:n.name,subIndustries:n.sub_industries}})}),this})},industriesChanged:function(){var e=_.pluck(this.model.get("industryTags"),"id");return!_.isEqual(e.sort(),this.originalPreferredIndustries.sort())},openToOtherIndustriesChanged:function(){return this.model.get("openToOtherIndustries")!==this.originalOpenToOtherIndustries},submit:function(){var e=this,n=_.pluck(e.model.get("industryTags"),"id"),t=e.model.get("openToOtherIndustries"),i=e.wizard;if(e.industriesChanged()||e.openToOtherIndustriesChanged()){var s={industries:n,open_to_other_industries:t};$.ajax({beforeSend:function(e){e.setRequestHeader("X-HTTP-Method-Override","PUT")},type:"POST",url:e.url,contentType:"application/json",data:JSON.stringify({job_seeker:s})}).then(function(){e.postInteraction()})}else e.postInteraction();i.track.cta("y")},postInteraction:function(){this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"})}}),
xing.define("profiles.sections.fillingWizard.mixins.PreferredWorkLocationCard",{template:HandlebarsTemplates["sections/filling_wizard/preferred_work_location_card"],className:"wizard-card",MAX_NUM_CITIES:3,initialize:function(e){xing.require(["js/jqext.lazy.js","js/suggestor.js","css/suggestor.css"]),this.wizard=e.wizard,this.url="/profile/"+xing.profiles.globals.profile.page_name+"/job_seeker",_.bindAll(this,"onItemSelected","handleSubmitButton","ensureData","locationsChanged","getCityIds")},events:{"click .complete-card":"submit","click .location-tag":"onRemoveLocation","click #preferred-work-location-card-info-popup":"showInfoPopup"},handleSubmitButton:_.noop,submit:function(){var e=this,n=this.wizard,t=this.model.get("locations");e.locationsChanged()?$.ajax({beforeSend:function(e){e.setRequestHeader("X-HTTP-Method-Override","PUT")},type:"POST",url:e.url,contentType:"application/json",data:JSON.stringify({locations:t})}).then(function(){e.postInteraction()}):e.postInteraction(),n.track.cta("y")},locationsChanged:function(){var e=this.originalLocations,n=this.getCityIds();return _.difference(n,e).length+_.difference(e,n).length>0},getCityIds:function(){return _.map(this.model.get("locations"),function(e){return e.city_id})},numOfCitiesReached:function(e){return e&&e.length>=this.MAX_NUM_CITIES},updateHtml:function(){this.$el.html(this.template(this.model.toJSON())),xing.utils.Behaviors.update(),this.$el.find("#preferred-work-location-input").on("xing.suggestor.selected",this.onItemSelected),this.adaptCardHeight()},ensureData:function(){var e=this.model,n=this;return n.resources||xing.profiles.ajaxHelper({url:"/profile/resources?section=contact_details&language="+xing.profiles.globals.lang}).done(function(e){n.resources=e}),e.has("locations")?$.Deferred().resolve().promise():$.getJSON(this.url).then(function(e){var t=e.job_seeker_settings.locations;return n.originalLocations=_.map(t,function(e){return e.city_id}),n.updateModel(_.map(t,function(e){return{locality:e.locality,country:e.country,city_id:e.city_id}})),this})},render:function(){var e=this;return this.ensureData().then(function(){return e.updateHtml(),e})},onItemSelected:function(e,n){var t=$(n).data("item-extra"),i=t.city,s=t.country_code.toLowerCase(),a=$(n).data("item-id"),l=this.model.get("locations"),r=_.find(this.resources.countries,function(e){return _.has(e,s)})[s];_.findWhere(l,{city_id:a})||(l.push({locality:i,country:r,city_id:a}),this.updateModel(l),this.handleSubmitButton(),this.updateHtml())},showInfoPopup:function(){var e=$("#preferred-work-location-card-info-popup"),n=HandlebarsTemplates["sections/filling_wizard/preferred_work_location_info_popup"]();new xing.controls.TutorialBubble(e,undefined,n,{position:"below",className:"help-tip arrow-up profile-wizard-info-popup"})},onRemoveLocation:function(e){var n=this.model.get("locations"),t=$(e.currentTarget).data("city-id");n=_.reject(n,function(e){return e.city_id===t}),this.updateModel(n),this.handleSubmitButton(),this.updateHtml()},updateModel:function(e){var n=this.numOfCitiesReached(e);this.model.set({locations:e,numOfCitiesReached:n,placeholder:n?"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_LIMIT_REACHED":"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_PLACEHOLDER"})},postInteraction:function(){this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"})}}),xing.define("profiles.sections.fillingWizard.mixins.ReasonMixin",{setReason:function(e,n){var t,i;t="not_seeking"===n?"NOT_SEEKING":"SEEKING",i=["PROFILERAILS_WIZARD_REASON",e.toUpperCase(),t].join("_"),this.model.set({reason:i},{silent:!0})}}),xing.define("profiles.sections.fillingWizard.mixins.RecoCardMixin",{className:"wizard-card",model:new Backbone.Model({}),events:{"click .left":"onPageLeft","click .right":"onPageRight"},recos:[],url:undefined,initialize:function(e){this.wizard=e.wizard,this.currentSlide=0},getPreparedData:function(){var e,n,t=this,i=3,s=[],a=t.recos,l=t.url;for(a.length<2&&t.wizard.exitWizard(),l.length&&a.push({isLastCard:!0,url:l}),e=0;e<a.length;e+=i)n=a.slice(e,e+i),s.push({recos:n});return{first_slide:0===t.currentSlide,last_slide:t.currentSlide+1===s.length,slides:s}},render:function(){var e=this;return e.requestRecomendations().then(function(n){return e.processRequestData(n),e.model.set(e.getPreparedData(n)),e.model.set({omnitureValue:e.omnitureValue()}),e.$el.html(e.template(e.model.toJSON())),xing.require("js/carousel.js").afterLoad(function(){e.carousel=new xing.controls.Carousel($("#reco-carousel"),{slideRange:1,duration:500,infinite:!1})}),e}).fail(function(){e.wizard.unset("currentCard")})},onPageLeft:function(e){var n=this.currentSlide,t=$(e.currentTarget).find("img"),i=this.$el.find(".right img");n>0&&(n-=1),n<1&&t.fadeOut(500),i.fadeIn(500),this.currentSlide=n,this.wizard.track.custom("bb"),this.wizard.track.submit("event")},onPageRight:function(e){var n=this.carousel._slides.length,t=this.currentSlide,i=this.$el.find(".left img"),s=$(e.currentTarget).find("img");t<n-1&&(t+=1),t>=n-1&&s.fadeOut(500),i.fadeIn(500),this.currentSlide=t,this.wizard.track.custom("nb"),this.wizard.track.submit("event")}}),xing.define("profiles.sections.fillingWizard.mixins.Resources",{getUser:function(){return xing.profiles.models.user},getLang:function(){return xing.profiles.globals.lang},getGender:function(){return xing.profiles.models.user.get("gender")},getResource:function(e){var n=$.param({gender:this.getGender(),language:this.getLang(),section:e});return $.get("/profile/resources?"+n)}}),xing.define("profiles.sections.fillingWizard.mixins.SalaryExpectationCard",{template:HandlebarsTemplates["sections/filling_wizard/salary_expectation_card"],className:"wizard-card",events:{"click .complete-card":"submit","change select[name=salary_expectation]":"onExpectationSelect"},initialize:function(e){this.wizard=e.wizard,this.url="/profile/"+xing.profiles.globals.profile.page_name+"/job_seeker",this.listenTo(this.model,"change",this.render)},updateHtml:function(){this.$el.html(this.template(this.model.toJSON()))},render:function(){var e=this;return this.ensureData().then(function(){return e.updateHtml(),e})},ensureData:function(){var e=this.model;return e.has("salaryExpectation")?$.Deferred().resolve().promise():$.getJSON(this.url).then(function(n){var t=n.job_seeker_settings.salary_expectations;return e.set({currentSalaryExpectation:t,previousSalaryExpectation:t,salaryExpectation:_.map(n.salary_expectations,function(e){return{value:e,label:"> "+e}})}),this})},submit:function(){var e=this,n=e.model.get("currentSalaryExpectation");n!==e.model.get("previousSalaryExpectation")?(n=e.model.get("currentSalaryExpectation"),$.ajax({beforeSend:function(e){e.setRequestHeader("X-HTTP-Method-Override","PATCH")},type:"POST",url:e.url,contentType:"application/json",data:JSON.stringify({job_seeker:{salary_expectations:n}})}).then(function(){e.postInteraction()})):e.postInteraction(),e.wizard.track.cta("y")},postInteraction:function(){this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"})}}),xing.define("profiles.sections.fillingWizard.mixins.SubmitButton",{disableSubmitButton:function(){this.$el.find(":submit").prop("disabled",!0)},enableSubmitButton:function(){this.$el.find(":submit").prop("disabled",!1)}}),xing.define("profiles.sections.fillingWizard.mixins.SuggestionHelper",{trimSuggestions:function(e,n,t){var i,s=0,a=[];for(n||(n=50),t||(t=!1),i=0;i<e.length&&!((s+=(!0===t?e[i]:e[i].entity_label).length)>n);i++)a[e[i]]||a.push(e[i]);return _.uniq(a)}}),xing.define("profiles.sections.fillingWizard.mixins.WorkExperienceMixin",{ensureWorkExperienceLoaded:function(){var e,n;return $("#work-experience-data").length?(n=new $.Deferred,e=xing.profiles.collections.workExperience,e&&n.resolve(e),this.observers=[xing.on("workExperience.loaded",function(){n.resolve(xing.profiles.collections.workExperience)})],n.promise()):$.get("/profile/work_experiences.json").then(function(n){return e=new xing.profiles.sections.cv.collections.WorkExperience(n),xing.profiles.collections.workExperience=e,e})}}),xing.define("profiles.sections.fillingWizard.models.Wizard",Backbone.Model.extend({initialize:function(){var e=this;e.initialized=!1,e.initializedManually=!1,e.updateQueueMessageShowed=!1,e.get("initializedManually")&&(e.initializedManually=e.get("initializedManually")),e.track=xing.profiles.sections.fillingWizard.track(e),e.getCards().then(function(){e.initialized=!0}),e.on("change:currentCard",function(){this.has("currentCard")&&this.track.display(),this.track.submit()},e)},getCards:function(){var e=this;return $.getJSON("/profile/filling_wizard/card_queue").then(function(n){return!_.isEmpty(n.card_queue)&&_.isObject(n.card_queue[0])?("update_cards_only"===n.state&&!0===e.initializedManually&&(e.updateQueueMessageShowed=!0,e.displayPrompt("PROFILERAILS_WIZARD_CONTINUE_WITH_UPDATE_CARDS")),e.set({cardQueue:n.card_queue,currentCard:n.card_queue[0]})):e.get("showMsgOnEmptyCardQueue")&&("well_filled"===n.state?e.displayPrompt("PROFILERAILS_WIZARD_RESTART_MESSAGE_PROMPT"):e.displayMessage()),this})},completedCardsCount:0,skippedCardsCount:0,autoSkippedCardsCount:0,completedCardsRatio:function(){return 0===this.completedCardsCount?0:this.completedCardsCount/(this.skippedCardsCount+this.completedCardsCount)},displayPrompt:function(e){var n={messageType:"prompt",messageSummary:e,autoDismiss:!0};this.displayMessage(n)},displayMessage:function(e){e=$.extend({messageType:"prompt",messageSummary:"PROFILERAILS_WIZARD_RESTART_DS_FAILURE",autoDismiss:!0},e),xing.trigger("app_messages.create",{messageType:e.messageType,messageSummary:xing.i18n.t(e.messageSummary),autoDismiss:e.autoDismiss})},getCurrentCardIndex:function(){return 1+this.completedCardsCount+this.skippedCardsCount+this.autoSkippedCardsCount},getCardsCount:function(){return this.get("cardQueue").length},wizardAutoSkipped:function(){return this.getCardsCount()===this.autoSkippedCardsCount+1&&0===this.getFilledCardsCount()},postCardInteraction:function(e){return $.ajax({type:"POST",url:"/profile/filling_wizard/card_interaction",contentType:"application/json",data:JSON.stringify({card_action:e.action,card_id:e.id,tracking:e.tracking,tracking_id:e.trackingId,value:e.value,entity_id:e.entity_id})})},getFilledCardsCount:function(){return this.completedCardsCount+this.skippedCardsCount},hasMoreCards:function(){return this.autoSkippedCardsCount+this.completedCardsCount+this.skippedCardsCount<=this.getCardsCount()},loadNextCard:function(){var e,n,t=this,i=t.get("cardQueue"),s=t.get("currentCard");e=_.indexOf(i,s),n=i[e+1],n&&n.id.match(/RecoCard/)&&t.completedCardsRatio()<.5&&(n=null),this.set("currentCard",n)},exitWizard:function(){this.get("currentCard").id.match(/RecoCard/)||($.ajax({url:"/profile/filling_wizard",type:"patch",dataType:"json"}),xing.on("vcard.rendered",this.showTutorialBubble)),this.hideWizard(),this.track.exit(),this.track.submit("event"),this.unset("currentCard")},hideWizard:function(){var e=$("#filling-wizard"),n="filling-wizard-hidden";!1===e.hasClass(n)&&e.addClass(n)},showTutorialBubble:function(){var e=$("#primary-actions .show-more");e.length&&new xing.controls.TutorialBubble(e,undefined,xing.i18n.t("PROFILERAILS_WIZARD_RESTART_TUTORIAL_TEXT"),{position:"left",className:"help-tip profile-wizard-tutorial-bubble"}),xing.off("vcard.rendered")},increment:function(e){var n=this[e];this[e]=n+1}}).extend(xing.profiles.sections.fillingWizard.mixins.Resources)),xing.define("profiles.sections.fillingWizard.track",function(){return function(e){var n={},t="b8080_pfl_wiz",i={CreateAcademicDegreeCard:"c_academicDegree",ImproveAcademicDegreeCard:"i_academicDegree",UpdateAcademicDegreeCard:"u_academicDegree",CreateBusinessAddressCard:"c_businessaddress",ImproveBusinessAddressCard:"i_businessaddress",UpdateBusinessAddressCard:"u_businessaddress",CreateBusinessCityCard:"c_businessCity",ImproveBusinessCityCard:"i_businessCity",UpdateBusinessCityCard:"u_businessCity",CreateDisciplineCard:"c_discipline",ImproveDisciplineCard:"i_discipline",UpdateDisciplineCard:"u_discipline",CreateHavesCard:"c_haves",ImproveHavesCard:"i_haves",UpdateHavesCard:"u_haves",CreateJobTitleCard:"c_jobTitle",ImproveJobTitleCard:"i_jobTitle",UpdateJobTitleCard:"u_jobTitle",CreatePhotoCard:"c_photo",ImprovePhotoCard:"i_photo",UpdatePhotoCard:"u_photo",CreatePreferredIndustryCard:"c_preferredIndustry",ImprovePreferredIndustryCard:"i_preferredIndustry",UpdatePreferredIndustryCard:"u_preferredIndustry",CreatePreferredWorkLocationCard:"c_preferredWorkLocation",ImprovePreferredWorkLocationCard:"i_preferredWorkLocation",UpdatePreferredWorkLocationCard:"u_preferredWorkLocation",CreateSalaryExpectationCard:"c_salaryExpectation",ImproveSalaryExpectationCard:"i_salaryExpectation",UpdateSalaryExpectationCard:"u_salaryExpectation",ContactRecoCard:"contactRecoCard",JobRecoCard:"jobRecoCard",XasAdRecoCard:"xasAdRecoCard",CreateFieldOfStudyCard:"c_fieldOfStudy",ImproveFieldOfStudyCard:"i_fieldOfStudy"},s=function(){var n=e.get("currentCard").id;return i[n]||n},a=function(){var n=e.getCurrentCardIndex(),t=e.getCardsCount();return 1===n&&(n=[1,t-1].join("_")),n===t&&(n="_final"),n},l=function(e){return"profile/profile_details/self/wizard_card"+(e=e||a())},r=function(){var e,t=["pageName"],i={pageName:l()};_.map(["prop56","prop64"],function(s){(e=n[s])&&(i[s]=e,t.push(s))}),i.linkTrackVars=t.join(","),xing.trigger("tracking.track_event",{trackingName:n.pageName,extendedParams:i})};return{getPrefix:function(){return t},setPageName:function(e){$.isEmptyObject(n)||(n.pageName=e)},cta:function(e){var i=s();return $.extend(n,{prop56:[t,i,"cta",e].join("_"),pageName:l()}),n},display:function(){var e=s(),i=l();return $.extend(n,{prop64:[t,e,"c"].join("_"),pageName:i}),n},exit:function(){return $.extend(n,{prop64:[t,s(),"exit"].join("_"),pageName:l()}),n},custom:function(e,i){i||(i=64);var a={pageName:l()},r=[t,s(),e].join("_");return 56==i?a.prop56=r:a.prop64=r,$.extend(n,a),n},submit:function(e){$.isEmptyObject(n)||(e&&"event"===e?r():xing.trigger("tracking.track_page_view",n),n={})}}}}()),xing.define("profiles.sections.fillingWizard.views.CreateAcademicDegreeCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.AcademicDegreeCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_ACADEMIC_DEGREE_CARD_BUTTON_CHANGED",placeholder:"PROFILERAILS_WIZARD_ACADEMIC_DEGREE_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_ACADEMIC_DEGREE_CARD_HL_CREATE",submitDisabled:!0,type:"create"})})),xing.define("profiles.sections.fillingWizard.views.ImproveAcademicDegreeCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.AcademicDegreeCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend({model:new Backbone.Model({placeholder:"PROFILERAILS_WIZARD_ACADEMIC_DEGREE_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_ACADEMIC_DEGREE_CARD_HL_UPDATE",submitDisabled:!1,type:"update"}),enableSubmitButton:function(){var e=this.$el.find("#academic-degree-input").val(),n=this.$el.find(":submit");xing.profiles.models.user.get("academic_degree")!==e?n.text(xing.i18n.t("PROFILERAILS_WIZARD_ACADEMIC_DEGREE_CARD_BUTTON_CHANGED")):n.text(xing.i18n.t("PROFILERAILS_WIZARD_BUTTON_AGREE")),n.prop("disabled",!1)}})),xing.define("profiles.sections.fillingWizard.views.UpdateAcademicDegreeCard",xing.profiles.sections.fillingWizard.views.ImproveAcademicDegreeCard),xing.define("profiles.sections.fillingWizard.views.CreateBusinessAddressCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.BusinessAddressCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_BUSINESS_ADDRESS_CARD_BUTTON_SAVE",disagreeBtn:!0,question:"PROFILERAILS_WIZARD_BUSINESS_ADDRESS_CARD_HL_CREATE",type:"create"})})),xing.define("profiles.sections.fillingWizard.views.ImproveBusinessAddressCard",xing.profiles.sections.fillingWizard.views.CreateBusinessAddressCard),xing.define("profiles.sections.fillingWizard.views.UpdateBusinessAddressCard",xing.profiles.sections.fillingWizard.views.CreateBusinessAddressCard),xing.define("profiles.sections.fillingWizard.views.CreateBusinessCityCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.BusinessCityCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_BUSINESS_CITY_CARD_BUTTON",placeholder:"PROFILERAILS_WIZARD_BUSINESS_CITY_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_BUSINESS_CITY_CARD_HL",submitDisabled:!0,type:"create"})})),xing.define("profiles.sections.fillingWizard.views.ImproveBusinessCityCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.BusinessCityCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_BUSINESS_CITY_CARD_BUTTON",question:"PROFILERAILS_WIZARD_BUSINESS_CITY_CARD_HL",submitDisabled:!0,type:"improve"}),onClickInput:function(e){var n=$(e.currentTarget),t=this.model.get("business_city");n.val()||(n.val(t.split(",")[0]),n.select(),n.trigger("xing.ds_suggestor.request_suggestions"))}})),xing.define("profiles.sections.fillingWizard.views.UpdateBusinessCityCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.BusinessCityCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_BUSINESS_CITY_CARD_BUTTON",question:"PROFILERAILS_WIZARD_BUSINESS_CITY_CARD_HL",submitDisabled:!1,type:"improve"}),onClickInput:function(e){var n=$(e.currentTarget),t=this.model.get("business_city");n.val()||(n.val(t.split(",")[0]),n.select(),n.trigger("xing.ds_suggestor.request_suggestions"))}})),xing.define("profiles.sections.fillingWizard.views.ContactRecoCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.RecoCardMixin).extend({template:HandlebarsTemplates["sections/filling_wizard/contact_reco_card"],requestRecomendations:function(){return $.ajax({url:"/profile/contact_recommendations",type:"get",dataType:"json",timeout:5e3})},processRequestData:function(e){this.recos=e.contact_recommendations,this.url="/contacts/recommendations?sc_o="+this.omnitureMoreValue();var n=e.users;_.map(this.recos,function(e){var t=_.find(n,function(n){return n.id===e.user_id});return e.link="/profile/"+t.page_name,$.extend(e,_.pick(t,["avatar_url","company_name","name","occupation_title"])),e})},omnitureValue:function(){return this.wizard.track.getPrefix()+"_Crec"},omnitureMoreValue:function(){return this.wizard.track.getPrefix()+"_Cmrec"}})),xing.define("profiles.sections.fillingWizard.views.CreateDisciplineCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.DisciplineCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_DISCIPLINE_CARD_BUTTON",placeholderOption:"PROFILERAILS_WIZARD_DISCIPLINE_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_DISCIPLINE_CARD_HL_CREATE",submitDisabled:!0,type:"create"}),events:{"change select":"onChangeDiscipline","click .complete-card":"submit"},onChangeDiscipline:function(){var e=this.primaryJob();e.set({discipline_id:this.$("select[name=discipline_id]").val()}),this.model.set($.extend(e.attributes,{submitDisabled:e===undefined,placeholderOption:null})),this.updateHtml()}})),xing.define("profiles.sections.fillingWizard.views.ImproveDisciplineCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.DisciplineCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend({model:new Backbone.Model({question:"PROFILERAILS_WIZARD_DISCIPLINE_CARD_HL_UPDATE",type:"update"}),events:{"change select":"onChangeDiscipline","click .complete-card":"submit"},onChangeDiscipline:function(){var e=this.primaryJob(),n=parseInt(this.$("select[name=discipline_id]").val(),10);e.set({discipline_id:n}),n!==this.storedDisciplineId?this.model.set($.extend(e.attributes,{ctaAgreeText:"PROFILERAILS_WIZARD_DISCIPLINE_CARD_BUTTON"})):this.model.unset("ctaAgreeText"),this.updateHtml()}})),xing.define("profiles.sections.fillingWizard.views.UpdateDisciplineCard",xing.profiles.sections.fillingWizard.views.ImproveDisciplineCard),xing.define("profiles.sections.fillingWizard.views.CreateFieldOfStudyCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.FieldOfStudyCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_BUTTON_CHANGED",placeholder:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_HL_CREATE",submitDisabled:!0,reason:"PROFILERAILS_WIZARD_REASON_FIELD_OF_STUDY_CARD",type:"create"}),render:function(){return this.updateHtml(),$.Deferred().resolve(this).promise()},onClickInput:_.noop})),xing.define("profiles.sections.fillingWizard.views.ImproveFieldOfStudyCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.FieldOfStudyCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_BUTTON_CHANGED",ctaDisagreeText:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_BUTTON_DONT_CHANGE",disagreeBtn:!0,placeholder:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_PLACEHOLDER",placeholderWithSuggestion:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_PLACEHOLDER_SUGGESTION",question:"PROFILERAILS_WIZARD_FIELD_OF_STUDY_CARD_HL_IMPROVE",reason:"PROFILERAILS_WIZARD_REASON_FIELD_OF_STUDY_CARD",submitDisabled:!0,type:"improve"}),getSuggestion:function(e){if(e&&e.suggestions&&e.suggestions.length>0){var n=e.suggestions[0].entity_label;return this.data=e,n}},render:function(){return this.updateHtml({suggestion:this.getSuggestion(this.attributes.data)}),$.Deferred().resolve(this).promise()},enableSubmitButton:function(){this.$el.find(":submit").prop("disabled",!1)}})),xing.define("profiles.sections.fillingWizard.views.UpdateFieldOfStudyCard",xing.profiles.sections.fillingWizard.views.ImproveFieldOfStudyCard),xing.define("profiles.sections.fillingWizard.views.CreateHavesCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.HavesCard).extend(xing.profiles.sections.fillingWizard.mixins.SuggestionHelper).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_HAVES_CARD_BUTTON_SAVE",placeholder:"PROFILERAILS_WIZARD_HAVES_CARD_CREATE_PLACEHOLDER",question:"PROFILERAILS_WIZARD_HAVES_CARD_HL_CREATE",type:"create",submitDisabled:!0}),handleSubmitButton:function(){this.model.set({submitDisabled:0===this.model.attributes.selectedHaves.length})}})),xing.define("profiles.sections.fillingWizard.views.ImproveHavesCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SuggestionHelper).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend({template:HandlebarsTemplates["sections/filling_wizard/haves_card_improve"],className:"wizard-card",maxHavesLength:50,model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_HAVES_CARD_BUTTON_DOES_NOT_MATCH",maxHavesLength:50,question:"PROFILERAILS_WIZARD_HAVES_CARD_HL_UPDATE",submitDisabled:!1,type:"improve"}),events:{"click .complete-card":"submit","click .suggestions li":"onToggleSuggestion"},initialize:function(e){this.wizard=e.wizard,this.setReason("haves_card",this.wizard.get("seekingStatus"))},collectSelectedValues:function(e){var n=$(e,this.$el),t=[];return $.each(n,function(e,n){t.push({description:$(n).text(),id:null})}),t},findIndexOfHaveItemToImprove:function(){var e=xing.profiles.models.user.get("haves"),n=this.attributes.value;return _.findIndex(e,function(e){return e.description===n})},submit:function(){var e,n,t,i=this,s=xing.profiles.models.user,a=i.collectSelectedValues(".suggestions .selected"),l=xing.profiles.models.user.get("haves"),r=i.findIndexOfHaveItemToImprove(),o=$("#replace-value",i.$el).is(":checked"),c=a.length;if(s.attributes.haves=undefined,c>0){for(e=0;e<c;e++)l.splice(r+e,0,a[e]);o&&-1!==r&&l.splice(r+c,1),l=_.uniq(l,!1,function(e){return e.description}),s.save({haves:l},{patch:!0}).then(function(){n=xing.profiles.models.user.get("page_name"),xing.profiles.router.cv(n,!0,!0,!1)}),o?i.wizard.track.cta("y_checked"):i.wizard.track.cta("y_unchecked")}else i.wizard.track.cta("n");t=_.extend({id:i.attributes.id,action:"cta"},i.getHavesSuggestionsTracking(a)),i.wizard.postCardInteraction(t)},updateHtml:function(e){var n=this;n.model.set({haveItemToImprove:n.attributes.value,suggestions:e}),n.$el.html(n.template(n.model.toJSON()))},getHavesSuggestionsTracking:function(e){return{trackingId:this.attributes.data.suggestion_tracking_token,tracking:_.map(this.attributes.data.suggestions,function(n){return n.selected=_.contains(_.map(e,function(e){return e.description}),n.entity_label),n}),value:this.attributes.value}},render:function(){var e=this.trimSuggestions(this.attributes.data.suggestions,this.maxHavesLength,!1);return this.updateHtml(_.map(e,function(e){return e.entity_label})),$.Deferred().resolve(this).promise()},onToggleSuggestion:function(e){var n,t=this.$("button.complete-card"),i=this.$(".replace-value-checkbox"),s=this.$("#replace-value"),a=$(e.currentTarget);a.toggleClass("selected"),n=a.parent().find("li.selected").size(),0===n?(t.text(xing.i18n.t("PROFILERAILS_WIZARD_HAVES_CARD_BUTTON_DOES_NOT_MATCH")),i.hide(),s.prop("checked",!1)):(t.text(xing.i18n.t("PROFILERAILS_WIZARD_HAVES_CARD_BUTTON_SAVE")),i.is(":visible")||(i.show(),s.prop("checked",!0)))}})),xing.define("profiles.sections.fillingWizard.views.UpdateHavesCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.HavesCard).extend(xing.profiles.sections.fillingWizard.mixins.SuggestionHelper).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_HAVES_CARD_BUTTON_KEEP_AS_IS",disagreeBtn:!1,placeholder:"PROFILERAILS_WIZARD_HAVES_CARD_UPDATE_PLACEHOLDER",question:"PROFILERAILS_WIZARD_HAVES_CARD_HL_IMPROVE",reason:"PROFILERAILS_WIZARD_REASON_UPDATE_HAVES_CARD",type:"update"})})),xing.define("profiles.sections.fillingWizard.views.JobRecoCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.RecoCardMixin).extend({template:HandlebarsTemplates["sections/filling_wizard/job_reco_card"],requestRecomendations:function(){return $.ajax({url:"/profile/job_recommendations",type:"get",dataType:"json",timeout:5e3})},processRequestData:function(e){this.recos=e.job_recommendations,this.url=e.search_jobs_url+"&sc_o="+this.omnitureMoreValue(),_.map(this.recos,function(e){return e.company_description=[e.company_name,e.city].join(", "),e})},omnitureValue:function(){return"jb_30"},omnitureMoreValue:function(){return this.wizard.track.getPrefix()+"_Jmrec"}})),xing.define("profiles.sections.fillingWizard.views.CreateJobTitleCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend({template:HandlebarsTemplates["sections/filling_wizard/job_title_card"],className:"wizard-card",events:{"click .disagree, .edit-icon, .data-wrapper":"onJobTitleEdit","click .complete-card":"onJobTitleComplete"},model:new Backbone.Model({disagreeBtn:!0,question:"PROFILERAILS_WIZARD_JOB_TITLE_CARD_HL",type:"update"}),initialize:function(e){this.wizard=e.wizard,this.setReason("job_title_card",this.wizard.get("seekingStatus")),this.workExperience=null,this.observers=[xing.on("fillingWizard.updateCard",_.bind(this.loadData,this))]},updateHtml:function(){var e=this.workExperience.findWhere({primary_job:!0}).attributes;this.model.set(e,{silent:!0}),this.$el.html(this.template(this.model.toJSON()))},loadData:function(){var e=$("#vcard-work-experience-data");e.length&&this.workExperience&&(this.workExperience.set(JSON.parse(e.val())),this.updateHtml())},render:function(){var e=this;return e.ensureWorkExperienceLoaded().then(function(n){return e.workExperience=n,e.updateHtml(),e})},onJobTitleEdit:function(){var e=this;e.wizard.track.cta("n"),e.wizard.track.submit(),xing.profiles&&new xing.profiles.sections.vcard.views.EmploymentStatusForm({dataSavedSuccessCallback:function(){this.shouldSaveWorkExperienceData()&&e.wizard.postCardInteraction({id:e.attributes.id,action:"cta"})}}).render()},onJobTitleComplete:function(){this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"}),this.wizard.track.cta("y")}})),xing.define("profiles.sections.fillingWizard.views.ImproveJobTitleCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.WorkExperienceMixin).extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend({template:HandlebarsTemplates["sections/filling_wizard/improve_job_title_card"],className:"wizard-card",model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_JOB_TITLE_CARD_IMPROVE_BUTTON",ctaDisagreeText:"PROFILERAILS_WIZARD_JOB_TITLE_CARD_BUTTON_DONT_CHANGE",disagreeBtn:!0,question:"PROFILERAILS_WIZARD_JOB_TITLE_CARD_HL_IMPROVE",reason:"PROFILERAILS_WIZARD_REASON_IMPROVE_JOB_TITLE_CARD",submitDisabled:!0,type:"improve"}),events:{"click .complete-card":"submit","click .disagree":"onSubmitNoChange","change #improve-job-title-card select":"onItemSelected"},initialize:function(e){this.wizard=e.wizard,this.wizardView=e.wizardView},updateHtml:function(){this.model.set(this.workExperience.attributes,{silent:!0}),this.model.set({suggestions:this.attributes.data.suggestions,date_range:this.getDateRange(this.workExperience.attributes),duration:this.getDuration(this.workExperience.attributes)},{silent:!0}),this.$el.html(this.template(this.model.toJSON()))},getDateRange:function(e){return xing.profiles.utils.DateHelper.getDateRange(e)},getDuration:function(e){return xing.profiles.utils.DateHelper.getDuration(e)},render:function(){var e=this;return e.ensureWorkExperienceLoaded().then(function(n){return e.workExperience=n.findWhere({primary_job:!0}),e.updateHtml(),e})},trackCardInteraction:function(e){var n={trackingId:this.attributes.data.suggestion_tracking_token,feedback:_.map(this.attributes.data.suggestions,function(n){return n.selected=n.entity_label===e,n})},t=_.extend({id:this.attributes.id,action:"cta"},n);this.wizard.postCardInteraction(t)},submit:function(){var e,n=this.workExperience.get("job_title"),t=this.$("select[name=job-title]").val();n!==t?(e="y",this.workExperience.set("job_title",t),this.workExperience.save(),this.reloadProfileParts()):e="n",this.wizard.increment("completedCardsCount"),this.wizard.track.cta(e),this.wizard.track.submit(),this.trackCardInteraction(t)},reloadProfileParts:function(){xing.profiles.router.cv(xing.profiles.models.user.get("page_name"),!0,!0,!1),xing.profiles.views.vCard.render()},onSubmitNoChange:function(){this.wizard.track.cta("n"),this.wizard.track.submit(),this.wizard.postCardInteraction({id:this.attributes.id,action:"cta"}),this.wizard.increment("completedCardsCount"),this.wizardView.onNextCard(event)},onItemSelected:function(){this.model.get("job_title")===this.$("select[name=job-title]").val()?this.disableSubmitButton():this.enableSubmitButton()}})),xing.define("profiles.sections.fillingWizard.views.UpdateJobTitleCard",xing.profiles.sections.fillingWizard.views.CreateJobTitleCard),xing.define("profiles.sections.fillingWizard.views.CreatePhotoCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.PhotoCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_PHOTO_CARD_BUTTON_CREATE",placeholder:"PROFILERAILS_WIZARD_PHOTO_CARD_PLACEHOLDER",
question:"PROFILERAILS_WIZARD_PHOTO_CARD_HL_CREATE",reason:"PROFILERAILS_WIZARD_REASON_PHOTO_CARD_CREATE",type:"create"})})),xing.define("profiles.sections.fillingWizard.views.ImprovePhotoCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend(xing.profiles.sections.fillingWizard.mixins.PhotoCard).extend({template:HandlebarsTemplates["sections/filling_wizard/photo_card_improve"],model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_PHOTO_CARD_BUTTON_IMPROVE",disagreeBtn:!1,question:"PROFILERAILS_WIZARD_PHOTO_CARD_HL_IMPROVE",reason:"PROFILERAILS_WIZARD_REASON_PHOTO_CARD_IMPROVE",submitDisabled:!0,type:"improve"}),events:{"mouseenter .image-area":"onExpandCard","click .text-area a":"onExpandCard","click .complete-card":"onSubmit"},initialize:function(e){this.wizard=e.wizard,this.wizardView=e.wizardView,this.cropperTouched=!1,this.dimensions={minSize:40},this.progressHelper=new xing.profiles.utils.photoUploadProgressHelper,_.bindAll(this,"fetchImageDimensions","ensureOldImage","onUploadStart","onUploadAbort","onDownloadInteraction"),this.observers=[xing.on("uploadImage.start",this.onUploadStart),xing.on("uploadImage.stop",this.onUploadAbort)]},updateHtml:function(){this.$el.html(this.template(this.model.toJSON()))},render:function(){var e=this;return this.ensureOldImage().then(function(){return e.updateHtml(),e})},fetchData:function(){var e="/profile/"+xing.profiles.models.user.get("page_name")+"/picture/old_image_url/";return $.getJSON(e).then(function(e){return e.url})},fetchImageDimensions:function(e){var n,t,i=this,s=new Image,a=i.model,l=$.Deferred();return s.onload=function(){n=this.naturalWidth,t=this.naturalHeight,$.extend(i.dimensions,{originalWidth:n,originalHeight:t}),i.setDimensions(),i.initializeCropping(),a.set({image_url:e,image_width:i.dimensions.imageWidth,image_height:i.dimensions.imageHeight}),l.resolve()},s.src=e,l.promise()},ensureOldImage:function(){return this.fetchData().then(this.fetchImageDimensions)},setDimensions:function(){var e,n,t=this.dimensions,i=t.originalWidth>t.originalHeight,s=t.originalWidth/t.originalHeight;i?(e=Math.min(t.originalWidth,256),n=Math.ceil(e/s)):(n=Math.min(t.originalHeight,256),e=Math.ceil(n*s)),$.extend(t,{imageWidth:e,imageHeight:n,isLandscape:i})},initializeCropping:function(){var e,n,t,i,s=this.dimensions;s.isLandscape?(n=e=Math.max(s.originalHeight/1.2,s.minSize),t=(s.originalWidth-n)/2,i=(s.originalHeight-e)/2):(n=e=Math.max(s.originalWidth/1.2,s.minSize),t=(s.originalWidth-n)/2,i=(s.originalHeight-e)/2),s.isLandscape?s.imageHeight<s.minSize&&(s.minSize=s.imageHeight):s.imageWidth<s.minSize&&(s.minSize=s.imageWidth),this.loadCropper(t,i,e,n)},loadCropper:function(e,n,t,i){var s={imageToCrop:".image-to-crop",form:"#improve-photo-form"},a=this.dimensions;new xing.utils.LazyLoader([xing.profiles.globals.lazyAssetManifests.crop],function(){this.cropper=new xing.controls.Crop(s.imageToCrop,{initialCoords:{x:e,y:n},initialWidth:i,initialHeight:t,cropForm:s.form,minSize:[a.minSize,a.minSize],trueSize:[a.originalWidth,a.originalHeight],onSelect:this.onSelect.bind(this)})}.bind(this))},onSelect:function(){this.cropperTouched?this.$el.find(".complete-card").attr("disabled",!1):this.cropperTouched=!0},onSubmit:function(){var e=xing.profiles,n=e.models.user.get("page_name"),t="/profile/"+n+"/picture",i={crop_old_image:!0,json_attributes:{cropping:{x1:this.cropper.coord.x,y1:this.cropper.coord.y,width:this.cropper.width,height:this.cropper.height}}};this.$el.find(".complete-card").attr("disabled",!0),$.ajax({type:"POST",url:t,contentType:"application/json; charset=UTF-8",dataType:"json",data:JSON.stringify(i)}).done(function(){this.getSpinner().show(),$(".overlay").show(),this.lightbox=new xing.controls.Lightbox({content:HandlebarsTemplates["sections/filling_wizard/photo_download_dialog"]({page_name:xing.profiles.models.user.get("page_name")}),closeOnClickOutside:!1}),this.positionLightbox(),$(".download-no, .download-yes").on("click",this.onDownloadInteraction),this.lightbox.on("close",this.onDownloadInteraction),this.progressHelper.completeProcess(this.cropper)}.bind(this)).fail(function(){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_GENERIC_ERROR"),autoDismiss:!0})})},positionLightbox:function(){var e=$("#filling-wizard"),n=e.outerHeight(),t=e.outerWidth(),i=e.offset().top,s=e.offset().left,a=$("#lightbox"),l=a.outerHeight(),r=a.outerWidth(),o=a.offset().top,c=a.offset().left,u=(n-l)/2-(o-i),d=(t-r)/2-(c-s);a.css({top:u+"px",left:d+"px"})},onDownloadInteraction:function(e){var n="y_unchecked";e&&e.currentTarget&&"click"===e.type&&(e.stopPropagation(),n=$(e.currentTarget).hasClass("download-yes")?"y_checked":"y_unchecked",this.lightbox.off("close"),this.lightbox.close()),this.wizard.track.cta(n),this.wizardView.onNextCard()},onExpandCard:_.once(function(e){var n="click"===e.type?"expand_click":"expand_hover";e.preventDefault(),this.wizard.track.custom(n),this.wizard.track.submit("event"),$(".card-content").css("height","auto"),$("#expand-link").remove(),this.adaptCardHeight()})})),xing.define("profiles.sections.fillingWizard.views.UpdatePhotoCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.PhotoCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_PHOTO_CARD_BUTTON_UPDATE",ctaDisagreeText:"PROFILERAILS_WIZARD_PHOTO_CARD_BUTTON_IS_UP_TO_DATE",disagreeBtn:!0,placeholder:"PROFILERAILS_WIZARD_PHOTO_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_PHOTO_CARD_HL_UPDATE",reason:"PROFILERAILS_WIZARD_REASON_PHOTO_CARD_UPDATE",type:"update"})})),xing.define("profiles.sections.fillingWizard.views.CreatePreferredIndustryCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend(xing.profiles.sections.fillingWizard.mixins.PreferredIndustryCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_BUTTON",placeholderOption:"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_HL_CREATE",reason:"PROFILERAILS_WIZARD_REASON_PREFERRED_INDUSTRY_CARD",submitDisabled:!0,type:"create"}),handleSubmitButton:function(){var e=this.model;e.get("industryTags").length>0?e.unset("submitDisabled"):e.set({submitDisabled:!0})}})),xing.define("profiles.sections.fillingWizard.views.ImprovePreferredIndustryCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend(xing.profiles.sections.fillingWizard.mixins.PreferredIndustryCard).extend({model:new Backbone.Model({placeholderOption:"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_HL_UPDATE",reason:"PROFILERAILS_WIZARD_REASON_PREFERRED_INDUSTRY_CARD",type:"improve"}),handleSubmitButton:function(){var e=_.pluck(this.model.get("industryTags"),"id"),n=this.originalPreferredIndustries;_.difference(e,n).length+_.difference(n,e).length>0?this.model.set({ctaAgreeText:"PROFILERAILS_WIZARD_PREFERRED_INDUSTRY_CARD_BUTTON"}):this.model.unset("ctaAgreeText")}})),xing.define("profiles.sections.fillingWizard.views.UpdatePreferredIndustryCard",xing.profiles.sections.fillingWizard.views.ImprovePreferredIndustryCard),xing.define("profiles.sections.fillingWizard.views.CreatePreferredWorkLocationCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.PreferredWorkLocationCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_BUTTON_CHANGED",placeholder:"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_HL_CREATE",reason:"PROFILERAILS_WIZARD_REASON_PREFERRED_WORK_LOCATION_CARD",submitDisabled:!0,type:"create"}),handleSubmitButton:function(){this.model.get("locations").length>0?this.model.unset("submitDisabled"):this.model.set("submitDisabled",{submitDisabled:!0})}})),xing.define("profiles.sections.fillingWizard.views.ImprovePreferredWorkLocationCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend(xing.profiles.sections.fillingWizard.mixins.SubmitButton).extend(xing.profiles.sections.fillingWizard.mixins.PreferredWorkLocationCard).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_BUTTON_UNCHANGED",placeholder:"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_PLACEHOLDER",question:"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_HL_UPDATE",reason:"PROFILERAILS_WIZARD_REASON_PREFERRED_WORK_LOCATION_CARD",type:"improve"}),handleSubmitButton:function(){this.locationsChanged()?this.model.set({ctaAgreeText:"PROFILERAILS_WIZARD_PREFERRED_WORK_LOCATION_CARD_BUTTON_CHANGED"},{silent:!0}):this.model.unset("ctaAgreeText")}})),xing.define("profiles.sections.fillingWizard.views.UpdatePreferredWorkLocationCard",xing.profiles.sections.fillingWizard.views.ImprovePreferredWorkLocationCard),xing.define("profiles.sections.fillingWizard.views.CreateSalaryExpectationCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SalaryExpectationCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_SALARY_EXPECTATIONS_CARD_BUTTON",question:"PROFILERAILS_WIZARD_SALARY_EXPECTATIONS_CARD_CREATE_HL",reason:"PROFILERAILS_WIZARD_REASON_SALARY_EXPECTATIONS_CARD_SEEKING",submitDisabled:!0,type:"create"}),onExpectationSelect:function(e){var n=parseInt(e.target.value,10);this.model.set({currentSalaryExpectation:n,submitDisabled:!1})}})),xing.define("profiles.sections.fillingWizard.views.ImproveSalaryExpectationCard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.SalaryExpectationCard).extend(xing.profiles.sections.fillingWizard.mixins.ReasonMixin).extend({model:new Backbone.Model({ctaAgreeText:"PROFILERAILS_WIZARD_SALARY_EXPECTATIONS_CARD_UPDATE_BUTTON_UNCHANGED",question:"PROFILERAILS_WIZARD_SALARY_EXPECTATIONS_CARD_UPDATE_HL",reason:"PROFILERAILS_WIZARD_REASON_SALARY_EXPECTATIONS_CARD_SEEKING",type:"update"}),onExpectationSelect:function(e){var n=parseInt(e.target.value,10);this.model.set({currentSalaryExpectation:n,ctaAgreeText:"PROFILERAILS_WIZARD_SALARY_EXPECTATIONS_CARD_UPDATE_BUTTON_CHANGED"})}})),xing.define("profiles.sections.fillingWizard.views.UpdateSalaryExpectationCard",xing.profiles.sections.fillingWizard.views.ImproveSalaryExpectationCard),xing.define("profiles.sections.fillingWizard.views.Wizard",Backbone.View.extend(xing.profiles.sections.fillingWizard.mixins.CardHelper).extend({events:{"click .close-wizard":"onCloseWizard","click .complete-card":"onCompleteCard","click .next-card":"onNextCard","click .skip-card":"onSkipCard"},initialize:function(){this.model.on("change",this.render,this),this.model.on("change:currentCard",function(){this.loading=!0},this),_.bindAll(this,"getCardView","animate","delayShowingSpinner","disableControls","onRenderFinished")},getCardView:function(){var e,n,t=this.model.get("currentCard"),i=xing.profiles.sections.fillingWizard.views;return t&&t.id&&((e=i[t.id])?n=new e({attributes:t,wizard:this.model,wizardView:this}):(console.debug("Could not find View for "+t.id+". Existing Views are:",_.filter(_.keys(i),function(e){return e.includes("Card")})),n=this.currentCardView)),n},render:function(){var e=this,n=e.getCardView();n?e.renderNextCard(n):e.model.initialized&&(e.model.get("showMsgOnEmptyCardQueue")&&!0===e.model.wizardAutoSkipped()&&e.model.displayMessage({}),e.removeWizardFromDOM({silently:!1===e.model.initializedManually}))},renderNextCard:function(e){var n=this,t=n.currentCardView;if(!0===n.queueContainsOnlyUpdateCards()){if(!1===n.model.initializedManually)return void n.removeWizardFromDOM({silently:!0});!1===n.model.updateQueueMessageShowed&&(n.model.updateQueueMessageShowed=!0,n.model.displayPrompt("PROFILERAILS_WIZARD_CONTINUE_WITH_UPDATE_CARDS"))}n.delayShowingSpinner(),e.render().then(function(i){n.displayWizard(),n.currentCardView=e,n.previousCardView=t,n.$el.append(i.$el),n.animate(),n.onRenderFinished()}).fail(function(){n.model.increment("autoSkippedCardsCount"),n.model.loadNextCard()})},animate:function(){var e,n,t,i,s,a=this.previousCardView,l=this.currentCardView.$el,r=$("#filling-wizard");e=function(e,n){return r.animate({height:e+"px"},n).promise()},n=function(){return e(l.height())},i=function(){var e=$(s).outerWidth(!0);return s.animate({marginLeft:"-="+e+"px"},400,"swing").promise()},t=function(){a.remove()},a?(s=a.$el,l.height()>s.height()?n().then(i).then(t):i().then(n).then(t)):e(l.height(),10),$(window).trigger("resize")},displayWizard:function(){$("#filling-wizard").removeClass("filling-wizard-hidden")},onCloseWizard:function(e){e.preventDefault(),this.model.exitWizard()},removeWizardFromDOM:function(e){var n=this,t=$("#filling-wizard");n.$el.animate({height:"0px"},!0===e.silently?0:200,function(){n.remove(),t.remove(),!0!==e.silently&&xing.profiles.views.vCard.render()})},remove:function(){this.previousCardView&&this.previousCardView.remove(),this.currentCardView&&this.currentCardView.remove(),Backbone.View.prototype.remove.apply(this,arguments)},delayShowingSpinner:function(){var e=this;_.delay(function(){e.loading&&e.$el.next(".wizard-loading").show()},200)},disableControls:function(){$(".controls :input",this.$el).attr("disabled",!0),$(".controls a",this.$el).addClass("disabled").click(function(e){e.preventDefault()})},onRenderFinished:function(){this.loading=!1,this.$el.next(".wizard-loading").hide()},onCompleteCard:function(e){this.currentCardView.preventNextCardOnComplete||(this.model.increment("completedCardsCount"),this.onNextCard(e))},onSkipCard:function(e){var n={id:this.currentCardView.attributes.id,action:"skip",tracking:(this.currentCardView.attributes.data||{}).suggestions,trackingId:(this.currentCardView.attributes.data||{}).suggestion_tracking_token,value:this.currentCardView.attributes.value,entity_id:this.currentCardView.attributes.entity_id};this.model.postCardInteraction(n),this.model.track.cta("skp"),this.model.increment("skippedCardsCount"),this.onNextCard(e)},onNextCard:function(e){e&&e.preventDefault(),this.disableControls(),this.currentCardView.observers&&this.currentCardView.observers.forEach(function(e){e.stop()}),this.model.loadNextCard()}}).extend(xing.profiles.sections.fillingWizard.mixins.Resources)),xing.define("profiles.sections.fillingWizard.views.XasAdRecoCard",Backbone.View.extend({path:"/xas/ads/current_user_ad_preview",className:"wizard-card",render:function(){var e=this,n=xing.profiles.models.user.get("occupation_type"),t="freelancer"===n?"freelancer":"jobseeker";return $.get(e.path,{occupation_type:t}).then(function(n){var t=Handlebars.partials["sections/filling_wizard/_close_card"]({});return e.$el.html(t+n),e})}})),function(){"use strict";xing.utils.Behaviors.add({"[data-action=join-open-group]:click":function(e,n){n.preventDefault(),$.ajax({accepts:"application/json",url:e.attr("href"),type:"POST",dataType:"json"}).done(function(n){xing.trigger("app_messages.create",{messageType:"success",messageSummary:n.summary}),xing.profiles.tracking.loggedIn("joinOpenGroup",xing.profiles.globals.profileAttributes.self),e.hide()}).fail(function(e){xing.trigger("app_messages.create",{messageType:"error",messageSummary:$.parseJSON(e.responseText).summary})})},"form.join-group:submit":function(e,n){n.preventDefault();var t=e.data("group-id"),i=e.find("textarea[name='member_state[apply_reason]']").val();$.ajax({accepts:"application/json",url:"/profile/join_closed_group",type:"POST",dataType:"json",data:{group_id:t,apply_reason:i,origin:"profile/join_closed_group_open_lightbox"}}).done(function(e){xing.trigger("app_messages.create",{messageType:"success",messageSummary:e.summary}),xing.profiles.tracking.loggedIn("joinClosedGroup",xing.profiles.globals.profileAttributes.self),$("#lightbox").hide(),$("a[data-closed-group-id='"+t+"']").hide()}).fail(function(e){xing.trigger("app_messages.create",{messageType:"error",messageSummary:$.parseJSON(e.responseText).summary})})},"[data-com-tracktype]:click":function(e){var n=e.data(),t=n.comTracktype,i=$.extend(!0,{},n.jbtparams);xing.trigger(t,i)}})}(),xing.define("profiles.sections.web_profiles.models.Feed",Backbone.Model.extend({validation:{}})),xing.define("profiles.sections.web_profiles.collections.Feeds",Backbone.Collection.extend({model:xing.profiles.sections.web_profiles.models.Feed})),xing.define("profiles.sections.web_profiles.models.Link",Backbone.Model.extend({})),xing.define("profiles.sections.web_profiles.collections.Links",Backbone.Collection.extend({model:xing.profiles.sections.web_profiles.models.Link})),xing.profiles._views=xing.profiles._views||{},xing.profiles._views.FeedsForm={tagName:"div",className:"edit-container",templates:{feedsForm:HandlebarsTemplates["sections/web_profiles/feeds_form"],feedEntry:Handlebars.partials["sections/web_profiles/_feed_entry"]},events:{"click .remove-entry":"removeEntry","submit form":"save","keyup .entry:last-child input":"addInput","keydown .input-error":"hideErrors",click:"onClick","click .layer-close":"onLayerCloseClick",esc:"close"},render:function(){return this.$el.html(this.templates.feedsForm({feeds:this.collection.toJSON()})),this.$(".entry:last-child input").keyup(),ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:this.collection.models.length>0?"profile_self_editing_rssfeeds_edit":"profile_self_editing_rssfeeds_add",PropActionOrigin:"profile_self_editing_rssfeed"}),this},removeEntry:function(e){var n=$(e.currentTarget),t=n.closest(".entry");t.siblings().size()>0||t.parent().append(this.templates.feedEntry()),t.remove(),ttt.event("EventProfileEditingDelete",{EventProfileEditingDelete:1,PropActionOrigin:"profile_self_editing_rssfeed"}),xing.trigger("profiles.resize")},addInput:function(e){var n=$(e.currentTarget),t=n.closest(".entry");n.val().length&&t.parent().append(this.templates.feedEntry())},getter:function(){var e=[];return this.$(".entry input").each(function(){var n=$(this),t=n.data("id"),i=n.val(),s={};i&&(s.url=i),t&&(s.id=t),i&&e.push(s)}),e},save:function(e){var n=xing.profiles,t=this.getter();this.errors=[],this.collectionValidates(t)?(n.collections.feeds.reset(),n.collections.feeds.set(t),n.views.content.loadingIndicator(!0),n.models.user.save({feeds:n.collections.feeds.toJSON()},{patch:!0,success:this.onModelSaveSuccess.bind(this),error:this.onModelSaveError.bind(this)})):this.error(),e.preventDefault(),ttt.event("EventProfileEditingSave",{EventProfileEditingSave:1,PropActionOrigin:"profile_self_editing_rssfeed"})},collectionValidates:function(e){var n,t,i=this,s=this.errors=[];return n=xing.profiles.validations.url,$.each(e,function(e,a){a.url.match(n)||s.push({message:"PROFILERAILS_EDIT_VALID_URL_ERROR",element:i.$(".entry:nth-child("+(e+1)+") input")}),(t=$(".entry-container input").filter(function(){return $(this).val()===a.url}))&&t.length>1&&s.push({message:"PROFILERAILS_EDIT_DUPLICATE_URL_ERROR",element:i.$(".entry:nth-child("+(e+1)+") input")})}),!s.length},onModelSaveSuccess:function(){this.renderUpdatedPartial(),this.close()},onModelSaveError:function(e,n){if(xing.profiles.views.content.loadingIndicator(!1),500===n.status)return void xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR")});n=null!==n&&"object"==typeof n.responseText?n.responseText:JSON.parse(n.responseText),this.errors=[];var t;n.failures&&(t=n.failures),n.errors&&(t=n.errors),t&&_(t).each(function(e){var n;this.$("input").each(function(t,i){e.url.indexOf($(i).val())>=0&&$(i).val().length>0&&(n=$(i))});var t;"invalid"==e.message.toLowerCase()&&(e.message="PROFILERAILS_EDIT_VALID_URL_ERROR"),t=e.message,this.errors.push({message:t,element:n})}.bind(this)),n.successes&&_(n.successes).each(function(e){this.$("input").each(function(n,t){var i=$(t);i.val()===e.url&&i.data("id",e.id)})}.bind(this)),this.error()},renderUpdatedPartial:function(){var e,n="[data-edit-layer=feeds]",t=$(n);e=[xing.profiles.settings.mainPath,xing.profiles.globals.profile.page_name,"/rss_profiles.js"].join(""),$.get(e,function(e){t.replaceWith(e),xing.profiles.views.content.loadingIndicator(!1)},"html")}},xing.define("profiles.sections.web_profiles.views.FeedsForm",Backbone.View.extend(xing.profiles.mixins.WithEditLayer).extend(xing.profiles.mixins.WithErrorMessages).extend(xing.profiles._views.FeedsForm)),xing.profiles._views=xing.profiles._views||{},xing.profiles._views.LinksForm={tagName:"div",className:"edit-container",templates:{linksForm:HandlebarsTemplates["sections/web_profiles/links_form"],linkEntry:HandlebarsTemplates["sections/web_profiles/link_entry"]},events:{click:"onClick","click .layer-close":"onLayerCloseClick","submit form":"save",esc:"close","click a":"filterLink","click .remove-entry":"onRemoveEntryClick","change #web-services":"onServiceSelect"},WEB_SERVICES:["Amazon","delicious","Digg","Doodle","Dopplr","ebay","Facebook","Flickr","Foursquare","Github","Google+","Homepage","Last.fm","lifestream.fm","Mindmeister","Mister Wong","Photobucket","Plazes","Qype","Reddit","Second Life","Sevenload","Slideshare","SourceForge","Spreed","Stumble Upon","Vimeo","Wikipedia","XING Coaches","Yelp","YouTube","ZoomInfo"],initialize:function(){_.bindAll(this,"collectErrors"),this.$("click a").off(),ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:this.collection.models.length>0?"profile_self_editing_websites_edit":"profile_self_editing_websites_add",PropActionOrigin:"profile_self_editing_websites"})},render:function(){var e={links:this.collection.toJSON(),web_services:this.WEB_SERVICES};return this.$el.html(this.templates.linksForm(e)),this},onModelSaveSuccess:function(){this.renderUpdatedPartial(),this.close()},renderUpdatedPartial:function(){var e,n="[data-edit-layer=links]",t=$(n);e=[xing.profiles.settings.mainPath,xing.profiles.globals.profile.page_name,"/web_profiles/web_profiles_section.js"].join(""),$.get(e,function(e){t.replaceWith(e)},"html")},getter:function(){var e,n=this.$("form").serializeArray(),t=[],i=[];for(n.forEach(function(e){e.value&&t.push({name:e.name,url:e.value})}),e=0;e<t.length;++e)t[e]!==undefined&&i.push(t[e]);return i},onRemoveEntryClick:function(e){$(e.target).closest(".entry").remove(),$("[data-edit-layer=links] hr").toggle(this.$(".entry-container").children().length>0),e.preventDefault(),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_otherwebprofiles_website_delete"}),xing.trigger("profiles.resize")},addEntry:function(e){var n,t;t={name:e},n=$(this.templates.linkEntry(t)),this.$(".entry-container").append(n),n.delay("10").slideDown("fast"),$("#web-services").prop("selectedIndex",0),$("[data-edit-layer=links] hr").toggle(!0),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_otherwebprofiles_website_add"}),xing.trigger("profiles.resize")},onServiceSelect:function(e){var n=$(e.currentTarget),t=n.find(":selected"),i=t.text(),s=t.val();i.length>0&&this.addEntry(s),e.preventDefault()},save:function(e){var n=xing.profiles,t=this.getter();this.errors=[],this.collectionValidates(t)?(this.collection.reset(),this.collection.set(t),n.views.content.loadingIndicator(!0),n.models.user.save({web_profiles:this.collection.toJSON()},{patch:!0,success:this.onModelSaveSuccess.bind(this),error:this.onModelSaveError.bind(this),complete:function(){n.views.content.loadingIndicator(!1)}})):this.error(),ttt.event("EventProfileEditingSave",{EventProfileEditingSave:1,PropActionOrigin:"profile_self_editing_websites"}),e.preventDefault()},onModelSaveError:function(e,n){if(500===n.status)return void xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR")});n=null!==n&&"object"==typeof n.responseText?n.responseText:JSON.parse(n.responseText),this.errors=[],$.each(n.errors,function(e,n){var t=null;this.$("input").each(function(e,i){$(i).val()===n&&(t=$(i))}),this.errors.push({message:"PROFILERAILS_EDIT_VALID_URL_ERROR",element:t})}.bind(this)),this.error()},collectionValidates:function(e){var n,t,i,s=xing.profiles.validations.url;for(i in e)e.hasOwnProperty(i)&&(t=parseInt(i,10)+1,n=e[i],n.url.match(s)||this.errors.push({message:"PROFILERAILS_EDIT_VALID_URL_ERROR",element:this.$(".entry:nth-child("+t+") input")}));return!this.errors.length},filterLink:function(e){e.stopPropagation(),e.preventDefault()}},xing.define("profiles.sections.web_profiles.views.LinksForm",Backbone.View.extend(xing.profiles.mixins.WithEditLayer).extend(xing.profiles.mixins.WithErrorMessages).extend(xing.profiles._views.LinksForm)),xing.define("profiles.sections.web_profiles.views.OtherProfiles",Backbone.View.extend($.extend({},xing.profiles.mixins.WithLoadingIndicator,xing.profiles.mixins.WithOpenEditLayer,{el:".profile-information-content-placeholder",removeTwitterPreviewTemplate:HandlebarsTemplates["sections/web_profiles/remove_twitter_preview_confirmation"],events:{"click [data-add]":"onAddClick","click [data-edit-layer]":"onOpenEditLayerClick","click .details a":"onLinkClick","click .edit-icon":"onEditIconClick","click .details":"openWorkDetails","click .edit-mode a":"onEditModeLinkClick","click .js-twitter-add":"onEmptyTeaserTweetsClick","click .other-profile-twitter .remove-entry":"onRemoveTwitterPreview","click .twitter-box a":"onTwitterBoxClick","click .rss-box a":"onRssBoxClick","click .other-web-profiles-box a":"onOtherWebProfilesBoxClick"},initialize:function(){this.getCollections(),xing.require("js/oauth_popup.js")},getCollections:function(){var e=xing.profiles,n=[],t=this.$("[data-links]").data("links");$.each(this.$("[data-rss-entry]"),function(e,t){n.push($(t).data("rss-entry"))}),e.collections.feeds=new e.sections.web_profiles.collections.Feeds(n),e.collections.links=new e.sections.web_profiles.collections.Links(t)},createLayerView:function(e){var n=xing.profiles;switch(this.getCollections(),e){case"feeds":return new n.sections.web_profiles.views.FeedsForm({collection:n.collections.feeds});case"links":return new n.sections.web_profiles.views.LinksForm({collection:n.collections.links})}},onLinkClick:function(e){e.stopPropagation()},onEditIconClick:function(e){e.preventDefault()},onEditModeLinkClick:function(e){e.stopPropagation()},onEmptyTeaserTweetsClick:function(e){function n(){var e,n;e={app:"twitter",urlParams:{save_to_other_web_profiles:"true"}},n=new xing.controls.CommonOAuthPopup(e),n.initAuth(),xing.on("oauth.callback",function(){xing.profiles.router.webProfiles(xing.profiles.models.user.get("page_name"),!0,!0)})}e.stopPropagation(),n(),xing.profiles.tracking.loggedIn("addTwitterAccount",xing.profiles.globals.profileAttributes.self),ttt.event("EventProfileEditingOpen",{EventProfileEditingOpen:1,PropContextDimension3:"profile_self_editing_twitter_add",PropActionOrigin:"profile_self_editing_twitter"})},onRemoveTwitterPreview:function(e){e.preventDefault(),this.lightbox=new xing.controls.Lightbox({content:this.removeTwitterPreviewTemplate({})}),$(".cancel-link",this.lightbox.container).one("click",function(e){e.preventDefault(),this.lightbox.close()}.bind(this)),$("button",this.lightbox.container).one("click",function(){xing.profiles.views.content.loadingIndicator(!0),ttt.event("EventProfileEditingDelete",{EventProfileEditingDelete:1,PropActionOrigin:"profile_self_editing_twitter"}),xing.profiles.ajaxHelper({url:xing.profiles.settings.mainPath+xing.profiles.globals.profile.page_name+"/delete_twitter_preview",type:"DELETE"}).done(function(){xing.profiles.router.webProfiles(xing.profiles.models.user.get("page_name"),!0,!0)}.bind(this)),this.lightbox.close()}.bind(this)),xing.profiles.tracking.loggedIn("deleteTwitterAccount",xing.profiles.globals.profileAttributes.self)},onTwitterBoxClick:function(){xing.profiles.globals.profileAttributes.self||xing.profiles.tracking.loggedIn("exitXingToGoToTwitter",!1)},onRssBoxClick:function(){xing.profiles.globals.profileAttributes.self||xing.profiles.tracking.loggedIn("clickOnRssLinks",!1)},onOtherWebProfilesBoxClick:function(){xing.profiles.globals.profileAttributes.self||xing.profiles.tracking.loggedIn("clickOnOtherLinks",!1)}}))),$.extend(Backbone.Validation.validators,{emailExists:function(e,n,t){if(e===t)return"PROFILERAILS_EDIT_CONTACT_DETAILS_EMAIL_EXISTS"}}),$.extend(Backbone.Validation.validators,{emailInvalid:function(e,n,t){if(e===t)return"PROFILERAILS_EDIT_CONTACT_DETAILS_MAIL_ERROR"}}),$.extend(Backbone.Validation.validators,{wrongPhoneNumber:function(e,n,t){if(e===t)return"ERROR_REGISTER_PHONE2"}}),xing.define("profiles.sections.vcard.models.ContactDetails",Backbone.Model.extend({validation:{business_city:[{required:!0,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_CIRY_ERROR"},{rangeLength:[2,50],msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_CITY_CHAR_ERROR"}],business_country:[{required:!0,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_COUNTRY_ERROR"}],business_email:[{required:!1,pattern:"email",msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_MAIL_ERROR"},{emailInvalid:""}],business_phone:[{wrongPhoneNumber:""}],business_fax:[{wrongPhoneNumber:""}],business_mobile:[{wrongPhoneNumber:""}],business_province:{maxLength:80,required:function(){var e=["de","us","es","hu","cn"];return $.inArray(this.attributes.business_country,e)>=0},msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_PROVINCE_ERROR"},business_street:{maxLength:50,required:!1,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_STREET_ERROR"},business_zip:{maxLength:20,required:!1,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_ZIP_ERROR"},private_city:{required:!1,rangeLength:[2,50],msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_CITY_CHAR_ERROR"},private_email:[{required:!1,pattern:"email",msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_MAIL_ERROR"},{emailInvalid:""}],private_phone:[{wrongPhoneNumber:""}],private_fax:[{wrongPhoneNumber:""}],private_mobile:[{wrongPhoneNumber:""}],private_province:{maxLength:80,required:!1,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_PROVINCE_ERROR"},private_street:{maxLength:50,required:!1,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_STREET_ERROR"},private_zip:{maxLength:20,required:!1,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_ZIP_ERROR"},skype:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"},googletalk:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"},icq:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"},msn:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"},yahoo:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"},aim:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"},jabber:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"},lync:{maxLength:80,required:!1,pattern:/^[\S]*$/,msg:"PROFILERAILS_EDIT_CONTACT_DETAILS_FORMAT_ERROR"}},setValidationFor:function(e,n){var t=_.clone(this.validation);this.validation=n(e,t)},setPhone:function(e,n){var t=_.clone(this.validation);t[n][0].wrongPhoneNumber=e,this.validation=t},save:function(){Backbone.Model.prototype.set.apply(this,arguments)},resetPhoneValidation:function(){var e=["business_phone","business_fax","business_mobile","private_phone","private_fax","private_mobile"];_.each(e,function(e){_.each(this.validation[e],function(e){e.wrongPhoneNumber=""},this)},this)}})),xing.define("profiles.sections.vcard.models.ElevatorPitch",Backbone.Model.extend({validation:{status_message:{required:!1,maxLength:420,msg:{msg:"PROFILERAILS_EDIT_LENGTH_ERROR",options:{hash:{limit:420}}}}}})),xing.define("profiles.sections.vcard.models.JobSeeker",Backbone.Model.extend({url:function(){var e=document.location.search.match(/view_mode=\w+/)||[""],n=document.location.search.match(/permission_token=\w+.\w+/)||[""];return xing.profiles.models.user.getProfilePath()+xing.profiles.settings.api.jobSeeker.settings+(""===e[0]?"":"?"+e[0])+(""===n[0]?"":"&"+n[0])},sync:function(e,n,t){e="create"===e?"update":e,Backbone.sync(e,n,t)},parse:function(e){return xing.profiles.sections.vcard.models.JobSeeker.seeking_status=e.seeking_status,xing.profiles.sections.vcard.models.JobSeeker.status_visibility=e.status_visibility,xing.profiles.sections.vcard.models.JobSeeker.salary_expectations=e.salary_expectations,xing.profiles.sections.vcard.models.JobSeeker.disciplines=e.disciplines,xing.profiles.sections.vcard.models.JobSeeker.industries=this.presentIndustries(e),xing.profiles.sections.vcard.models.JobSeeker.detailed_job_seeker_info=e.detailed_job_seeker_info,
xing.profiles.sections.vcard.models.JobSeeker.extended_job_seeker_info=e.extended_job_seeker_info,e.job_seeker_settings},presentIndustries:function(e){return this.convertIndustries(e.industries)},convertIndustries:function(e){var n=_.map(e,function(e){return e.hasOwnProperty("sub_industries")?[{id:e.id,industry:e.name},this.convertIndustries(e.sub_industries)]:{id:e.id,industry:e.name}}.bind(this));return _.flatten(n)}})),xing.define("profiles.sections.vcard.views.ContactDetails",Backbone.View.extend({el:"#lightbox output",template:HandlebarsTemplates["sections/vcard/contact_details"],events:{"click .message-lightbox-link":"profilePreviewMsg"},initialize:function(e){this.jobSeeker=e.jobSeeker},render:function(){var e=this.template($.extend({},this.model.toJSON(),{hasBusinessData:this.hasBusinessData(),hasPrivateData:this.hasPrivateData(),hasPrivateAddressOrCountry:this.hasPrivateAddressOrCountry(),hasBothAddressAndCountry:this.hasBothAddressAndCountry(),hasData:this.hasData(),downloadUrl:xing.profiles.models.userExtentions.get("download_vcard"),contactTimeframe:new Handlebars.SafeString(xing.i18n.t("PROFILERAILS_CONTACT_DETAILS_TIMEFRAME",{preference_days:this.preferenceDays(),preference_time_from:this.jobSeeker.get("phone_preference_time_from"),preference_time_until:this.jobSeeker.get("phone_preference_time_until")})),hasProJobsContactData:this.hasProJobsContactData(),jobSeeker:this.jobSeeker.toJSON()}));new xing.controls.Lightbox({content:e}),this.setElement($("#lightbox output"))},preferenceDays:function(){var e;return this.jobSeeker.get("phone_preference_days")&&(e=new Handlebars.SafeString(xing.i18n.t("PROFILERAILS_CONTACT_"+this.jobSeeker.get("phone_preference_days").toUpperCase()))),e},hasProJobsContactData:function(){return this.jobSeeker.get("via_phone")||this.jobSeeker.get("via_email")||this.jobSeeker.get("via_xing_message")},hasBusinessAddress:function(){return this.model.get("business_street")||this.model.get("business_zip")||this.model.get("business_city")||this.model.get("business_province")||this.model.get("business_country_name")},hasBusinessData:function(){return this.hasBusinessAddress()||this.model.get("business_email")||this.model.get("business_phone")},hasPrivateAddress:function(){return this.model.get("private_street")||this.model.get("private_zip")||this.model.get("private_city")||this.model.get("private_province")},hasPrivateAddressOrCountry:function(){return this.hasPrivateAddress()||this.model.get("private_country_name")},hasBothAddressAndCountry:function(){return this.hasPrivateAddress()&&this.model.get("private_country_name")},hasPrivateData:function(){return this.hasPrivateAddressOrCountry()||this.model.get("private_email")||this.model.get("private_phone")},hasData:function(){return this.hasPrivateData()||this.hasBusinessData()},profilePreviewMsg:function(e){var n=xing.profiles.views.vCard;e&&e.preventDefault(),n&&xing.profiles.globals.preview&&n.profilePreviewMsg()}})),xing.define("profiles.sections.vcard.views.ContactDetailsForm",Backbone.View.extend($.extend({},xing.profiles.mixins.WithErrorMessages,{el:"#lightbox output",template:HandlebarsTemplates["sections/vcard/contact_details_form"],events:{"submit form":"submit","change .change":"setValues","keyup .keyup":"keyUp","click [data-sub-tab-link]":"switchTab","click .remove-fields":"removeField"},phoneFieldsKeys:["business_phone","business_fax","business_mobile","private_phone","private_fax","private_mobile"],initialize:function(){_.bindAll(this,"collectErrors","clearModel","onFetchResourcesSuccess","checkForErrorsInInvisibleTab","onItemSelected"),this.resources={activeTab:"business"},this.previousState=xing.profiles.models.user.toJSON(),this.errors=[],this.hasData=!1,Backbone.Validation.bind(this,{invalid:this.collectErrors}),this.model.on("change",this.render,this),this.lightbox=new xing.controls.Lightbox({closeOnClickOutside:!1,content:this.template({populated:this.populated})}),this.setElement($("#lightbox output")),this.lightbox.on("close",this.clearModel),this.targetId=xing.appMessagesTargetProvider.register("lightbox")},render:function(){var e,n;return this.hasData?(n=$.extend({hasData:this.hasData,showProJobsUpsell:xing.profiles.globals.showProJobsUpsell},this.model.toJSON(),this.resources),this.$el.html(this.template(n)),xing.trigger("lightbox.rePosition"),$("#business-contact-city").on("xing.suggestor.selected",this.onItemSelected),$("#private-contact-city").on("xing.suggestor.selected",this.onItemSelected),_.isEmpty(this.errors)||(this.model.isValid(!0),this.showErrorMessages()),this.delegateEvents(),xing.utils.Behaviors.update(this.$el,0),this):(e=xing.profiles.ajaxHelper({url:"/profile/resources?section=contact_details&language="+xing.profiles.globals.lang}),e.done(this.onFetchResourcesSuccess),this)},onFetchResourcesSuccess:function(e){$.extend(this.resources,e),this.hasData=!0,this.render(),this.$("#business-contact-adress").focus()},submit:function(e){if(e&&e.preventDefault(),this.errors=[],this.model.resetPhoneValidation(),this.$(".input-error").removeClass("input-error"),this.$(".error-message").hide(),this.setValues(),!this.validPhoneFields())return this.checkForErrorsInInvisibleTab(),void this.error();this.model.isValid(!0)?this.save():this.error()},checkForErrorsInInvisibleTab:function(){var e=this.resources.activeTab,n="business"===e?"private":"business",t=_.findWhere(this.errors,{type:n});!_.findWhere(this.errors,{type:e})&&t&&(this.switchTab(n),this.validPhoneFields())},keyUp:function(e){var n,t,i=$(e.target);e.target.value.length&&(n=this.$el.find("[name="+i.attr("name")+"_select]"),t="#contact-"+n.val(),this.setValues(e),this.$el.find(t).setCaretToEnd(),function(e){document.getElementById(e.substring(1)).focus()}(t))},save:function(){var e=xing.profiles,n=e.models.user,t=this.lightbox;switch(n.set(this.model.toJSON()),_.size(n.changed)){case 0:return t.close(),void this.closeAfterSave();case 1:""}n.save(n.changed,{patch:!0,wait:!0,success:function(){xing.trigger("app_messages.create",{messageType:"success",messageSummary:xing.i18n.t("PROFILERAILS_JOB_SEEKER_SAVE_SUCCESS"),autoDismiss:!0}),t.close(),this.closeAfterSave(),xing.profiles.tracking.loggedIn("saveContactDetails",xing.profiles.globals.profileAttributes.self)}.bind(this),error:function(e,t){var i,s=$.parseJSON(t.responseText);if(n.set(this.previousState),this.$(".input-error").removeClass("input-error"),this.$(".error-message").hide(),s&&s.errors)return _.each(s.errors,function(e,n){"business_email"===n&&(i=this.model.get("business_email"),-1!=e.indexOf("ERROR_FIELD_EMAIL_INVALID")?this.model.setValidationFor(i,function(e,n){return n.business_email[1].emailInvalid=e,n}):this.model.setValidationFor(i,function(e,n){return n.business_email[1].emailExists=e,n})),"private_email"===n&&(i=this.model.get("private_email"),-1!=e.indexOf("ERROR_FIELD_EMAIL_INVALID")?this.model.setValidationFor(i,function(e,n){return n.private_email[1].emailInvalid=e,n}):this.model.setValidationFor(i,function(e,n){return n.private_email[1].emailExists=e,n})),function(e){var n,t,i;return n=-1!==e.indexOf("phone"),t=-1!==e.indexOf("fax"),i=-1!==e.indexOf("mobile"),n||t||i}(n)&&this.model.setPhone(this.model.get(n),n)},this),this.model.validate(),this.error(),void(0===$(".input-error",this.$("."+this.resources.activeTab)).length&&this.switchTab("business"===this.resources.activeTab?"private":"business"));xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_CONTACT_DETAILS_ERROR"),targetId:this.targetId})}.bind(this)})},closeAfterSave:function(){this.model.clear()},setValues:function(e){var n,t,i,s,a=this.$el,l=a.find("form").serializeArray(),r={};$.each(l,function(e,n){switch($.trim(n.value),n.value||(n.value=null),n.name){case"add_im_select":case"business_country_name":case"business_fax":case"business_mobile":case"business_phone":case"private_country_name":case"private_fax":case"private_mobile":case"private_phone":break;case"add_im":if(n.value){var l=a.find("[name="+n.name+"_select]").val();r[l]=n.value}break;case"business_country":case"private_country":n.value&&(i=n.name,t=a.find("[name="+i+"] :selected").html(),r[i+"_name"]=t,s=i.slice(0,i.length-8),a.find("[name="+s+"_province]").length<=0&&(r[s+"_province"]="")),r[n.name]=n.value;break;default:r[n.name]=n.value}}.bind(this)),n=this.getPhoneNumbers(),r=$.extend(r,n),e?(this.model.set(r,{silent:!0}),this.render()):this.model.set(r,{silent:!0})},getPhoneNumbers:function(){var e={};return _(this.phoneFieldsKeys).each(function(n){var t,i;i=$("[name="+n+"]"),t=i.map(function(){return this.value}),t=_.first(t.toArray(),3),_.compact(t).length?e[n]="+"+t.join("-"):e[n]=null}),e},validPhoneFields:function(){var e,n=this.$(".phone-field"),t=this.errors,i=!0;return n.find(".error-message").remove(),this.invalidPhoneNumbers=[],e=this.invalidPhoneNumbers,n.each(function(n,s){var a,l,r,o,c,u,d,p=$(s),h=p.find("input");return a=h.attr("name"),l=a.indexOf("business")>=0?"business":"private",r=h.eq(0).val(),o=h.eq(1).val(),c=h.eq(2).val(),u=/^\d*$/im,d=/^(\d+(-\d+)?)?$/im,u.test(r)&&u.test(o)?void(d.test(c)||(t.push({message:"ERROR_REGISTER_PHONE2",element:p,type:l}),e.push(a),i=!1,h.addClass("input-error"))):(t.push({message:"ERROR_REGISTER_PHONE2",element:p,type:l}),e.push(a),i=!1,void h.addClass("input-error"))}),i},switchTab:function(e){function n(){_(t).each(function(e){a.set(e,xing.profiles.models.user.get(e))})}var t,i,s=_.isString(e),a=this.model;this.validPhoneFields(),t=this.invalidPhoneNumbers,setTimeout(n,50),s?i=e:e&&(e.preventDefault(),i=$(e.target).attr("data-sub-tab-link")),this.resources.activeTab!==i&&(s||(this.errors=[],this.setValues()),s||this.model.isValid(!0)?(this.resources.activeTab=i,"business"===i?(this.render(),this.$("#business-contact-adress").focus()):"private"===i?(this.render(),this.$("#private-contact-adress").focus()):(this.render(),xing.profiles.tracking.loggedIn("contactDetailsUpsellTabClick")),s&&this.error()):this.error())},removeField:function(e){$(e.currentTarget).closest(".line").find("input").val(""),this.setValues(e)},clearModel:function(){this.model.clear()},onItemSelected:function(e,n){var t=this.resources.activeTab,i=$(n).data("item-extra"),s=i.country_code.toLowerCase(),a=this.resources.provinces_with_ids[s],l=_.findWhere(a,{id:i.region_id}),r=l?l.name:"";this.setValues(),"business"===t?this.model.set({business_city:i.city,business_country:s,business_province:r}):this.model.set({private_city:i.city,private_country:s,private_province:r})}}))),xing.define("profiles.sections.vcard.views.ElevatorPitchForm",Backbone.View.extend(_.extend({},xing.profiles.mixins.WithEditLayer,xing.profiles.mixins.WithErrorMessages,{tagName:"div",className:"edit-container",template:HandlebarsTemplates["sections/vcard/elevator_pitch_form"],events:{click:"onClick","click .layer-close":"onLayerCloseClick","submit form":"onFormSubmit",esc:"onLayerCloseClick"},initialize:function(){_.bindAll(this,"collectErrors"),Backbone.Validation.bind(this,{invalid:this.collectErrors}),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_tagline_open"})},render:function(){return this.$el.html(this.template(this.model.toJSON())),xing.utils.Behaviors.update(),this},save:function(){xing.profiles.models.user.save(this.formValues,{patch:!0,success:this.onModelSaveSuccess,error:this.onModelSaveError}),ttt.event("PropTrackAction",{PropTrackAction:"profile_self_editing_tagline_save"})},focusFirstField:function(){var e=this.$("textarea");xing.require("js/textarea_auto_resize.js").afterLoad(function(){new xing.controls.TextareaAutoResize(e),e.focus()})},onDelete:function(e){e.preventDefault(),this.model.destroy({success:this.onModelSaveSuccess,error:this.onModelSaveError})},getFormValues:function(){return this.formValues=this.$("form").serializeObject(),this.formValues.linkified_status_message=undefined,this.formValues},onLayerCloseClick:function(e){e&&e.preventDefault&&e.preventDefault(),this.close(),xing.profiles.views.vCard.render()},onModelSaveSuccess:function(){xing.profiles.views.vCard.render()},onFormSubmit:function(e){e.preventDefault(),this.errors=[],this.model.set(this.getFormValues()),this.render(),this.model.isValid(!0)?this.save():(this.error(),this.focusFirstField())}}))),xing.profiles._views=xing.profiles._views||{},xing.profiles._views.EmploymentStatusForm={el:"#lightbox output",template:HandlebarsTemplates["sections/vcard/employment_status_form"],events:{"submit form":"onFormSubmit","change select":"setValues","change #edit-position":"addPosition"},initialize:function(e){e=e||{},_.bindAll(this,"onFetchResourcesSuccess","saveFormValues","saveData","onDataSaveError","onDataSavedSuccess","shouldSaveEducationData","shouldSaveWorkExperienceData"),this.resources={},this.errors=[],this.hasData=!1,this.lightbox=new xing.controls.Lightbox({content:this.template({populated:this.populated})}),this.targetId=xing.appMessagesTargetProvider.register("lightbox"),this.setElement($("#lightbox output")),this.addWorkExperienceCallback=e.addWorkExperienceCallback,this.dataSavedSuccessCallback=e.dataSavedSuccessCallback},render:function(){var e,n,t=xing.profiles;return this.hasData?(n=$.extend({hasData:this.hasData},this.resources),this.$el.html(this.template(n)),this.originalPositionVal=this.$el.find("#edit-position option:selected").val(),this.originalAcademicTitleVal=this.$el.find("#edit-academic-title option:selected").val(),this.originalEmploymentStatusVal=this.$el.find("#edit-employment-status option:selected").val(),xing.utils.Behaviors.update(),xing.trigger("lightbox.rePosition"),this):(e=t.ajaxHelper({url:xing.profiles.settings.mainPath+t.models.user.get("page_name")+"/vcard/edit.json"}),void e.done(this.onFetchResourcesSuccess))},onFetchResourcesSuccess:function(e){$.extend(this.resources,e),this.resources.vcard_settings.is_student="student"===this.resources.vcard_settings.occupation_type,this.hasData=!0,this.render()},onDataSaveError:function(){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR"),targetId:this.targetId})},onDataSavedSuccess:function(){xing.trigger("app_messages.create",{messageType:"success",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_EMPLOYMENT_STATUS_SUCCESS"),autoDismiss:!0}),this.lightbox.close(),xing.profiles.globals.profile.occupation_type=this.profileData.occupation_type,xing.profiles.views.vCard.render(),this.dataSavedSuccessCallback&&this.dataSavedSuccessCallback.call(this),"cv"===xing.profiles.router.currentRoute&&xing.profiles.router.cv(xing.profiles.models.user.get("page_name"),!0,!1),xing.profiles.tracking.loggedIn("saveInVcardLightbox",xing.profiles.globals.profileAttributes.self)},saveData:function(){var e,n,t,i,s=xing.profiles,a=this,l={},r={};this.profileData.occupation_type=this.$("#edit-employment-status option:selected").val(),e={type:"POST",url:xing.profiles.settings.mainPath+s.models.user.get("page_name")+"?format=json",data:JSON.stringify({profile:this.profileData}),dataType:"json",processData:!1,contentType:"application/json",beforeSend:function(e){e.setRequestHeader("X-HTTP-Method-Override","PATCH")}},this.shouldSaveEducationData()&&(l={type:"POST",url:xing.profiles.settings.mainPath+s.models.user.get("page_name")+"/education_schools/"+this.educationData.id,data:JSON.stringify(this.educationData),dataType:"json",processData:!1,contentType:"application/json",beforeSend:function(e){e.setRequestHeader("X-HTTP-Method-Override","PATCH")}}),this.shouldSaveWorkExperienceData()&&(r={type:"POST",url:xing.profiles.settings.mainPath+"work_experiences/"+this.workexperienceData.id,data:JSON.stringify(this.workexperienceData),dataType:"json",processData:!1,contentType:"application/json",beforeSend:function(e){e.setRequestHeader("X-HTTP-Method-Override","PATCH")}}),this.educationData&&this.educationData.primary_school?(n=l,t=e):(n=e,t=r),i=function(){Object.keys(t).length>0?s.ajaxHelper(t).done(a.onDataSavedSuccess).fail(a.onDataSaveError):a.onDataSavedSuccess()},Object.keys(n).length>0?s.ajaxHelper(n).done(i).fail(this.onDataSaveError):i()},shouldSaveEducationData:function(){return!!this.educationData&&this.educationData.primary_school},shouldSaveWorkExperienceData:function(){return!!this.workexperienceData&&this.workexperienceData.primary_job},validates:function(){var e=this.educationData;return!e||!0!==e.primary_school||!(null==e.subject||e.subject<=0)||(this.errors.push({message:"PROFILERAILS_EDIT_MANDATORY_ERROR",element:this.$el.find("[name=subject]")}),!1)},saveFormValues:function(){var e=this.$el,n=e.find("form").serializeArray(),t=this.getCleanEducations(),i=this.getCleanWorkexperience(),s=this;this.profileData=this.getCleanProfileData(),this.educationData=t[0],this.workexperienceData=i[0],$.each(n,function(e,n){switch($.trim(n.value),n.value||(n.value=null),n.name){case"position":return void s.processPosition(n);case"subject":return void s.processSubject(n);case"occupation_type":return void s.processOccupationType(n);case"academic_title":return void s.processAcademicTitle(n);case"academic_degree":return void(s.profileData.academic_degree=n.value)}}),this.validates()?this.saveData():this.error()},getCleanProfileData:function(){return{}},getCleanEducations:function(){var e=this.resources.vcard_settings.education;return e.forEach(function(e){e.primary_school=!1}),e},getCleanWorkexperience:function(){var e=this.resources.vcard_settings.work_experience;return e.forEach(function(e){e.primary_job=!1}),e},processPosition:function(e){var n,t=$("#edit-position"),i=e.value,s=[],a="";this._selectValueChanged(t,this.originalPositionVal)&&(0===i.indexOf("job-")?(a=parseInt(e.value.substr(4),10),n=this.resources.vcard_settings.work_experience,this.workexperienceData=_.findWhere(n,{id:a}),this.workexperienceData.primary_job=!0):0===i.indexOf("school-")&&(a=+e.value.substr(7),s=this.resources.vcard_settings.education,this.educationData=_.findWhere(s,{id:a}),this.educationData.primary_school=!0))},processOccupationType:function(e){var n=$("#edit-employment-status");this._selectValueChanged(n,this.originalEmploymentStatusVal)&&(this.profileData.occupation_type=e.value)},processSubject:function(e){this.educationData&&e.value&&(this.educationData.subject=e.value)},processAcademicTitle:function(e){var n=$("#edit-academic-title"),t=n.find("option:first-child").val();this._selectValueChanged(n,this.originalAcademicTitleVal)&&(e.value===t?this.profileData.academic_title="":this.profileData.academic_title=e.value)},_selectValueChanged:function(e,n){return n!==e.find("option:selected").val()},onFormSubmit:function(e){e&&e.preventDefault(),this.errors=[],this.saveFormValues()},addPosition:function(){var e,n=this,t=n.lightbox,i=$("#edit-position").val(),s="add-work-experience"===i,a="add-education"===i;(s||a)&&(e=function(){s?(t.close(),$("[data-add=work-experience]").trigger("click"),n.addWorkExperienceCallback&&n.addWorkExperienceCallback.call(n)):a&&(t.close(),$("[data-add=education]").trigger("click")),xing.profiles.router.off("route:cv:rendered")},"cv"!==xing.profiles.router.currentRoute?(xing.profiles.router._events?xing.profiles.router._events["route:cv:rendered"]&&xing.profiles.router.on("route:cv:rendered",function(){setTimeout(e,0)}):xing.profiles.router.on("route:cv:rendered",function(){setTimeout(e,0)}),xing.profiles.router.navigate(xing.profiles.models.user.get("page_name")+"/cv",{trigger:!0,replace:!0})):e())},selectedSchoolHasSubject:function(e){var n,t;return n=+e.substr(7),t=_.findWhere(this.resources.vcard_settings.education,{id:n}),t.subject&&t.subject.length>0},setValues:function(e){var n,t,i=$(e.currentTarget),s=i.val(),a="student"===this.$("#edit-employment-status :selected").val(),l=$("#subject-input");l.hide(),l.find("input").val(""),"edit-position"===i.attr("id")&&(n=0===s.indexOf("school"),t=0===s.indexOf("job"),n&&(this.selectedSchoolHasSubject(s)||l.show(),this.$("#edit-employment-status").hide().next("p").show(),this.$("#edit-employment-status option:selected").removeAttr("selected"),this.$("#edit-employment-status option[value=student]").prop("selected",!0)),t&&(this.$("#edit-employment-status").show().next("p").hide(),a&&(this.$("#edit-employment-status option[value=student]").removeAttr("selected"),this.$("#edit-employment-status option[value=employee]").prop("selected",!0))))}},xing.define("profiles.sections.vcard.views.EmploymentStatusForm",Backbone.View.extend(xing.profiles._views.EmploymentStatusForm).extend(xing.profiles.mixins.WithErrorMessages)),xing.profiles._views=xing.profiles._views||{},xing.profiles._views.JobSeeker={templates:{main:HandlebarsTemplates["sections/vcard/job_seeker_form"],errorMessage:HandlebarsTemplates.error_message},events:{"click .remove-entry":"removeEntry","change .entry-container select":"linkIndustrySelects","change input.opt-premium-checkbox":"togglePremiumTeaser","keydown form input":"preventSubmit","submit form":"save","focus input[name='locations']":"addInput","keydown .input-error":"hideErrors","blur input[name='locations']":"selectFirstResult","change .entry-industries-container .entry:last-child select":"addInput","change [name=seeking_status]":"relations","click .message-lightbox-link":"profilePreviewMsg"},initialize:function(){this.loadingIndicator()},render:function(){var e,n,t,i,s,a,l,r,o,c,u,d={},p={},h=xing.profiles.sections.vcard.models.JobSeeker,f=xing.profiles.globals.profileAttributes.displayName,m=this.model;return n=xing.i18n.t("PROFILERAILS_JOB_SEEKER_ENCOURAGE_BASIC_TO_UPGRADE_MSG_FEMAL",{profile_owner:f}),t=xing.i18n.t("PROFILERAILS_JOB_SEEKER_ENCOURAGE_BASIC_TO_UPGRADE_MSG_MALE",{profile_owner:f}),i=xing.i18n.t("PROFILERAILS_JOB_SEEKER_DISCOURAGE_CONTACT",{profile_owner:f}),h.seeking_status.forEach(function(e){d[e]="PROFILERAILS_JOB_SEEKER_STATUS_"+e.toUpperCase()+"_MSG"}),h.status_visibility.forEach(function(e){p[e]="PROFILERAILS_JOB_SEEKER_VISIBILITY_"+e.toUpperCase()}),l=!(!this.model.get("full_time")&&!this.model.get("part_time")),r=!(!this.model.get("full_time")||!this.model.get("part_time")),s=!(!this.model.get("salary_expectations")&&!l),a=!!(this.model.get("locations")&&this.model.get("locations").length>0||this.model.get("willingness_to_move")||this.model.get("willingness_to_travel")),o=!!(this.model.get("discipline")||this.model.get("open_to_other_industries")||this.model.get("industries")&&this.model.get("industries").length>0||this.model.get("target_positions")&&this.model.get("target_positions").length>0||this.model.get("target_companies")&&this.model.get("target_companies").length>0||this.model.get("excluded_keywords")&&this.model.get("excluded_keywords").length>0),e=!!(s||a||o),o&&s&&(c=!0),s&&a&&(u=!0),o&&!s&&a&&(c=!0),this.$el.html(this.templates.main($.extend({},m.toJSON(),{resources:{seeking_status:d,status_visibility:p,salary_expectations:h.salary_expectations,disciplines:h.disciplines,industries:h.industries,detailed_job_seeker_info:h.detailed_job_seeker_info,extended_job_seeker_info:h.extended_job_seeker_info,job_seeker_encourage_female:n,job_seeker_encourage_male:t,job_seeker_discourage_contact:i,hasSalaryOrWorktime:s,hasLocationOrTravel:a,hasWorkingTime:l,hasBothWorkingTime:r,hasPositionDetails:o,hasAnyProJobsData:e,showFirstSeparator:c,showSecondSeparator:u,showProJobsUpsell:xing.profiles.globals.showProJobsUpsell,showProJobsAdditionalUpsell:e&&xing.profiles.globals.showProJobsUpsell}}))),this.$(".js-status_visibility").val(m.get("status_visibility")),this.$(".js-salary_expectations").val(m.get("salary_expectations")),this.$(".js-disciplines").val(m.get("discipline")),this.populateIndustriesSelect(m.get("industries")),this.locationList=m.get("locations")||[],this.storeListFields(),xing.profiles.globals.profileAttributes.self&&this.loadAutocompleteAPI(),this.togglePremiumTeaser(),this.relations(),setTimeout(function(){xing.trigger("lightbox.rePosition")},10),this},relations:function(e){var n=this.$(".seeking-status [name=seeking_status]").serializeObject().seeking_status,t=this.$("#status-visibility"),i=t.find("[value=xing_members]"),s=t.find("[value=recruiter_and_contacts]");"not_seeking"===n?(i.attr("disabled",!0),s.attr("disabled",!0),e&&"change"===e.type&&t.val("recruiter")):(i.attr("disabled",!1),s.attr("disabled",!1))},populateIndustriesSelect:function(e){var n=this.$(".js-industries");e=e||[],e.length&&(n.each(function(n,t){e.forEach(function(e,i){n===i&&$(t).val(e)})}),setTimeout(function(){n.last().trigger("change"),this.linkIndustrySelects()}.bind(this),0))},storeListFields:function(){var e={};this.$(".entry-container").each(function(n,t){var i,s=$(t).find("input, select");s&&(i=s.attr("name"),e[i]||(e[i]=s.closest(".entry:first").val("").change().clone(),e[i].find("input, select").val("")))}),this.fields=e},addInput:function(e){var n,t,i,s,a,l,r,o,c;(c=xing.profiles.models.userExtentions.get("self"))&&(n=e.target?$(e.target):$(e),t=n.closest(".entry-container"),i=t.find(".entry:last-child"),s=i.find("input, select"),s&&(o=s.attr("name"),a=this.fields[o],n.find(".prompt").remove(),t.find("select, input").length<t.data("max-entries")&&a&&(l=a.clone(),l.removeData("id","administrative_area_level_1","json_attributes","locality","country","lat","lng").removeAttr("data-id data-administrative_area_level_1 data-json_attributes data-locality data-country data-lat data-lng").removeClass("geocoded").val(""),"locations"===o&&"undefined"!=typeof google&&(r=l.find("input[name='locations']"),r.removeData("id","administrative_area_level_1","json_attributes","locality","country","lat","lng").removeAttr("data-id data-administrative_area_level_1 data-json_attributes data-locality data-country data-lat data-lng").removeClass("geocoded").val(""),this.addAutocompleteToInput(r[0])),t.append(l).addClass("entry-fade-in"))),setTimeout(function(){this.linkIndustrySelects()}.bind(this),200))},removeEntry:function(e){var n,t,i,s,a,l=$(e.target).closest(".entry"),r=l.closest(".entry-container"),o=l.find("select"),c=l.find("input"),u=+r.data("max-entries"),d=r.find(".entry input").length,p=r.find(".entry select").length;e&&e.stopPropagation(),o.length&&p<=1||c.length&&d<=1||o.length&&""===o.val()||c&&""===c.val()&&(s=c.closest(".entry-container").find("input:text").filter(function(){return""===this.value}),s.length<=1)||(o.length&&(r.find("select").each(function(){""===$(this).val()&&(t=!0)}),p!==u||t||(n=o.attr("name"),this.fields[n]&&r.append(this.fields[n].clone().removeData("lat","lng").removeAttr("data-lat data-lng")).addClass("entry-fade-in"))),r.hasClass("entry-locations-container")&&(a=[l.find("input").data("lat"),l.find("input").data("lng")].join(","),this.locationList=_.reject(this.locationList,function(e){return[e.lat,e.lng].join(",")===a})),l.remove(),i=r.find("input:text").filter(function(e,n){var t=$(n).val();return t===$(n).attr("placeholder")?t:""===t}),s=i.length,c.length&&!s&&this.addInput(r.find("input:text")[0]),this.linkIndustrySelects())},locationDuplicated:function(e,n){var t,i,s=$(n);return t=[e.geometry.location.lat().toFixed(1),e.geometry.location.lng().toFixed(1)].join(","),i=_.compact(_.map(this.getLocations(),function(e){return[e.lat.toFixed(1),e.lng.toFixed(1)].join(",")===t}))[0],i&&(s.addClass("input-error"),s.val("").change(),s.parents(".grid-col").siblings(".location-duplicated").show(),s.removeData()),i||!1},addLocation:function(e,n){var t,i,s,a,l=$(n);e&&e.geometry&&!this.locationDuplicated(e,n)&&(t=_.groupBy(e.address_components,function(e){return e.types[0]}),i=t.locality,i=i&&i.length?t.locality[0].long_name:"",a=t.administrative_area_level_1,a=a&&a.length?t.administrative_area_level_1[0].long_name:"",s=t.country,s=s&&s.length?t.country[0].long_name:"",e.address_components&&(l.removeData("id"),l.data({locality:i,administrative_area_level_1:a,json_attributes:e,country:s,lat:e.geometry.location.lat(),lng:e.geometry.location.lng()}),l.addClass("geocoded")))},getLocations:function(){var e=[];return $(".entry-locations-container input.geocoded").filter(function(){var n=$(this).data();!_.isEmpty(n)&&e.push(n)}),e},wrapStringIntoArray:function(e){return"string"==typeof e&&(e=[e]),e},linkIndustrySelects:function(){var e=this.$(".entry-industries-container"),n=e.find("select");e.find("option").each(function(e,n){$(n).removeAttr("disabled")}),n.each(function(n,t){var i=$(t).val();""!==i&&e.find("select").not(t).each(function(e,n){$(n).find("option[value='"+i+"']").attr("disabled",!0)})})},togglePremiumTeaser:function(){this.$(".job-seeker-lightbox-contents").toggleClass("show-teaser"),this.triggeredPremiumTeaser=this.$(".opt-premium-checkbox").is(":checked")},loadAutocompleteAPI:function(){var e,n=location.protocol+"//maps.googleapis.com/maps/api/js";e=$.param({sensor:!0,libraries:"places",callback:"xing.profiles.libraries.googleMaps.initAutocomplete",language:xing.profiles.globals.lang}),n+="?"+e,xing.profiles.libraries.googleMaps.loaded?this.startAutocompletes():(xing.profiles.libraries.googleMaps.initAutocomplete=this.startAutocompletes.bind(this),new xing.utils.LazyLoader([n],function(){xing.profiles.libraries.googleMaps.loaded=!0}))},startAutocompletes:function(){var e=this.$(".entry-locations-container .entry"),n=this.addAutocompleteToInput.bind(this);this.removeAutocompleteListeners(),e.each(function(e,t){n($(t).find("input[name='locations']")[0])}),setTimeout(function(){1===e.length&&""===e.first().find("input").val()||this.addInput(e.first().find("input")[0])}.bind(this),0)},addAutocompleteToInput:function(e){function n(e){var n,t=$(e.currentTarget),i=e.keyCode,s=9===i,a=13===i,l=46===i,r=8===i;t.change(),n=""===t.val(),s||a||((n||l||r)&&(t.removeClass("input-error"),t.parents(".grid-col").siblings(".error-message").hide()),e.stopPropagation())}var t,i,s=$(e),a=this.geocodeSuccess.bind(this);"undefined"!=typeof google&&(t=new google.maps.places.Autocomplete(e,{types:["(cities)"]}),i=google.maps.event.addListener(t,"place_changed",function(){a(t,e)}),s.on("keydown",n),xing.browser.msie&&s.on("bodyClick.force",function(e){e.stopImmediatePropagation()}),xing.profiles.libraries.googleMaps.listeners.push(i))},geocodeSuccess:function(e,n){var t=e.getPlace();t&&t.geometry?this.addLocation(t,n):this.removeError(n)},removeError:function(e){$(e).addClass("input-error"),$(e).closest(".entry").find(".error-message.location-not-found").show(),$(e).removeData("id","administrative_area_level_1","json_attributes","locality","country","lat","lng"),$(e).removeAttr("data-id data-administrative_area_level_1 data-json_attributes data-locality data-country data-lat data-lng")},removeAutocompleteListeners:function(){"undefined"!=typeof google&&(xing.profiles.libraries.googleMaps.listeners.forEach(function(e){google.maps.event.removeListener(e)}),xing.profiles.libraries.googleMaps.listeners=[])},save:function(e){var n,t,i;xing.profiles.tracking.loggedIn("saveJobSeekerData",!1),e&&e.preventDefault(),this.validLocations()&&(t=this.$("form"),n=this.$("[name=send]"),i=t.serializeObject(),$.extend(i,{locations:this.getLocations(),industries:this.wrapStringIntoArray(_.compact(i.industries)),willingness_to_move:"on"===i.willingness_to_move}),this.model.unset("user_id"),n.attr("disabled",!0),t.addClass("loading-spinner"),this.model.save(i,{success:this.savedSuccess.bind(this),error:function(e){xing.trigger("app_messages.create",{messageType:"error",messageSummary:e}),n.removeAttr("disabled"),t.removeClass("loading-spinner")}}))},validLocations:function(){var e=!0;return this.$(".entry-locations-container input").each(function(){var n,t=$(this),i=t.val();return t.change(),n=""===i||i===t.attr("placeholder"),!(!t.hasClass("geocoded")&&!n)||(e=!1,t.addClass("input-error"),t.parents(".grid-col").siblings(".location-not-found").show(),t.removeData(),!1)}),e},savedSuccess:function(){var e=this.triggeredPremiumTeaser;e&&!xing.profiles.globals.jobSeeker.detailed_job_seeker_info?new xing.controls.Lightbox({content:Handlebars.partials["sections/vcard/_job-seeker-save-success-teaser"]()}):e||(xing.trigger("app_messages.create",{messageType:"success",messageSummary:xing.i18n.t("PROFILERAILS_JOB_SEEKER_SAVE_SUCCESS"),autoDismiss:!0}),this.close())},hideErrors:function(e){var n=$(e.currentTarget),t=e.keyCode,i=9===t,s=13===t;i||s||(n.removeClass("input-error"),n.parents(".grid-col").siblings(".error-message").hide())},preventSubmit:function(e){if(13===e.keyCode)return e.preventDefault(),!1},close:function(){xing.profiles.views.jobSeekerLightbox.close(),this.undelegateEvents(),this.$el.removeData().unbind(),this.remove(),Backbone.View.prototype.remove.call(this)},profilePreviewMsg:function(e){var n=xing.profiles.views.vCard;e&&e.preventDefault(),n&&xing.profiles.globals.preview&&n.profilePreviewMsg()}},
xing.define("profiles.sections.vcard.views.JobSeeker",Backbone.View.extend(xing.profiles.mixins.WithLoadingIndicator).extend(xing.profiles._views.JobSeeker)),xing.define("profiles.sections.vcard.views.Notes",Backbone.View.extend($.extend({},xing.profiles.mixins.WithLoadingIndicator,{el:"#profile-note",events:{"focus textarea":"focusTextarea","click .cancel-link":"cancel","submit form":"submit"},initialize:function(){var e;_.bindAll(this,"updateFixedElement","onSubmitSuccess","onSubmitFails","onFetchNotesSuccess","onAlways"),this.textareaChanged=!1,this.memo="",this.textarea=this.$el.find("textarea"),this.printMemo=this.$el.find("#print-memo"),this.buttons=this.$el.find(".profile-note-buttons"),this.errorMessage=this.$el.find(".error-message"),e=xing.profiles.ajaxHelper({url:xing.profiles.models.userExtentions.get("notes_requestUrl")}),e.done(this.onFetchNotesSuccess),e.always(this.onAlways)},focusTextarea:function(){this.textareaChanged||(this.showButtons(),this.addTimeStamp(),this.textareaChanged=!0)},addTimeStamp:function(){var e,n,t,i;e=this.textarea,n=$.trim(e.val()),t=n.length,i=["[",xing.profiles.globals.current_date,"]"].join(""),t?e.val(n+"\n"+i+" "):e.val(i+" ")},cancel:function(e){e.preventDefault(),this.textarea.val(this.memo),this.printMemo.text(this.memo),this.textareaChanged=!1,this.hideButtons()},submit:function(e){var n;e.preventDefault(),this.loadingIndicator(!0),n=xing.profiles.ajaxHelper({type:"patch",dataType:"json",url:xing.profiles.models.userExtentions.get("notes_submitUrl"),data:{memo:this.textarea.val()}}),n.done(this.onSubmitSuccess),n.fail(this.onSubmitFails),n.always(this.onAlways)},hideButtons:function(){this.buttons.slideUp("fast",this.updateFixedElement),this.errorMessage.hide(),this.textarea.removeClass("input-error")},showButtons:function(){this.buttons.slideDown("fast",this.updateFixedElement)},onSubmitSuccess:function(){this.memo=this.textarea.val(),this.printMemo.text(this.memo),this.textareaChanged=!1,this.hideButtons()},onSubmitFails:function(e){var n;try{n=$.parseJSON(e.responseText).errors.notes}catch(e){}n&&(this.loadingIndicator(!1),this.errorMessage.show().html(n),this.textarea.addClass("input-error"),this.showButtons())},onFetchNotesSuccess:function(e){var n,t;e&&(n=e.errors,t=e.memo,n&&(xing.trigger("app_messages.create",{messageType:"error",messageSummary:n.notes}),xing.profiles.views.profileNotes=undefined,xing.profiles.views.vCard.notesToggler.toggle()),t&&(this.textarea.val(t),this.printMemo.text(t)),this.memo=t)},onAlways:function(){this.loadingIndicator(!1),this.printMemo.text(this.textarea.val())},updateFixedElement:function(){}}))),xing.define("profiles.sections.vcard.views.ProfileImage",Backbone.View.extend(xing.profiles.mixins.WithLoadingIndicator).extend(xing.profiles.mixins.WithUploadFile).extend({el:"#vcard",events:{"click #input-upload-photo":"onUploadPhotoClick","change #input-upload-photo":"onUploadPhoto","click .upload-delete":"onDeletePhoto","click .download-link":"onDownloadLinkClick"},VALID_IMG_EXTENSIONS:/\.(jpg|jpeg|png|bmp|gif)$/i,initialize:function(){_.bindAll(this,"loadUploadIframe","resetUserImage","myLoadingIndicator"),this.progressHelper=new xing.profiles.utils.photoUploadProgressHelper,this.$el.find(".image-processing").length>0&&this.progressHelper.pollForProfilePhotoProgress()},myLoadingIndicator:function(e){e?xing.trigger("uploadImage.start"):xing.trigger("uploadImage.stop"),this.loadingIndicator(e)},onDownloadLinkClick:function(e){e.stopPropagation()},onUploadPhotoClick:function(){xing.profiles.tracking.loggedIn("openEditPhotoLightbox",xing.profiles.globals.profileAttributes.self)},onUploadPhoto:function(e){var n=xing.profiles,t=$(e.target),i=t.closest("form"),s=t.val(),a=n.models.user.getProfilePath()+"/profile_photo";this.validatesFile(e)&&(this.myLoadingIndicator(!0),this.uploadFile(i,{action:a,file:s},"",this.loadUploadIframe),t.val(""))},validatesFile:function(e){var n,t,i=$(e.target),s=i.val().trim();if(s)return e.target.files&&(n=e.target.files[0].size),t=this.VALID_IMG_EXTENSIONS.test(s.toLowerCase()),t?!(n&&n>1024*xing.profiles.globals.fencing.maxPhotoSize*1024)||void xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_PHOTO_ERROR_FILESIZE",{size:xing.profiles.globals.fencing.maxPhotoSize})}):void xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_PORTFOLIO_IMG_ERROR_TYPE")})},loadUploadIframe:function(e){var n,t,i=xing.profiles,s=$.parseJSON($(e.currentTarget).contents().find("pre").text()),a=s.errors,l=s.photo_url;if(a&&a.profile_photo&&a.profile_photo.length)return xing.trigger("app_messages.create",{messageType:"error",messageSummary:a.profile_photo.join(" ")}),void this.myLoadingIndicator(!1);n=xing.appMessagesTargetProvider.register("lightbox"),t=new i.controls.CropDialog({open:!1,dimensions:{originalWidth:s.width,originalHeight:s.height,minSize:63},content:HandlebarsTemplates["sections/vcard/vcard_crop_dialog"]({image_url:l,page_name:i.globals.profile.page_name})}),t.on("open",function(){(s.width<i.globals.fencing.minPhotoDimension||s.height<i.globals.fencing.minPhotoDimension)&&xing.trigger("app_messages.create",{targetId:n,messageType:"prompt",messageSummary:xing.i18n.t("PROFILERAILS_PHOTO_ERROR_DIMENSION_SUMMARY"),messageBody:xing.i18n.t("PROFILERAILS_PHOTO_ERROR_DIMENSION_BODY",{width:i.globals.fencing.minPhotoDimension,height:i.globals.fencing.minPhotoDimension})})}.bind(this)),t.on("close",function(){xing.trigger("app_messages.clear",n),this.myLoadingIndicator(!1)}.bind(this)),t.on("change",function(e,n){this.showPreviews({width:s.width,height:s.height},n)}.bind(this)),t.on("success",function(){i.tracking.loggedIn("saveProfilePhoto",i.globals.profileAttributes.self),xing.trigger("app_messages.clear",n),this.myLoadingIndicator(!1),t.container.find(".app-message-success").show(),t.container.find(".crop-dialog").hide(),xing.trigger("lightbox.rePosition"),setTimeout(t.close,5e3),this.progressHelper.completeProcess(t)}.bind(this)),t.on("error",function(e,n){xing.trigger("app_messages.create",{messageType:"error",messageSummary:n})}.bind(this)),t.open()},showPreviews:function(e,n){this.showPreview(e,n,"main",192,192),this.showPreview(e,n,"circle",32,32),this.showPreview(e,n,"small",32,32),this.showPreview(e,n,"medium",48,48),this.showPreview(e,n,"big",64,64)},showPreview:function(e,n,t,i,s){var a=i/n.w,l=s/n.h,r=e.width,o=e.height;$("#preview-"+t).css({width:Math.round(a*r)+"px",height:Math.round(l*o)+"px",marginLeft:"-"+Math.round(a*n.x)+"px",marginTop:"-"+Math.round(l*n.y)+"px"})},onDeletePhoto:function(){this.$spinner=this.$(".spinner"),new xing.controls.Confirm({title:xing.i18n.t("PROFILERAILS_DELTE_PROFILE_IMAGE_CONFIRM"),onConfirm:this.resetUserImage})},resetUserImage:function(){xing.profiles.ajaxHelper({url:xing.profiles.settings.mainPath+xing.profiles.models.user.get("page_name")+"/profile_photo",type:"POST",data:{_method:"DELETE"}}).done(function(){this.trigger("change"),this.progressHelper.reloadMefeed()}.bind(this)).fail(function(e){xing.trigger("app_messages.create",{messageType:"error",messageSummary:JSON.parse(e.responseText).errors.profile_photo})})}})),xing.profiles._views=xing.profiles._views||{},xing.profiles._views.SalesStatusForm={el:"#sales-status .status",template:HandlebarsTemplates["sections/vcard/sales_status_form"],events:{"click li":"setSalesStatus"},initialize:function(){_.bindAll(this,"onFetchResourcesSuccess","updateSalesStatus","deleteSalesStatus"),this.resources={}},render:function(){var e,n=xing.profiles;return this.hasData?(this.$el.html(this.template(this.resources)),this.spinner=$("#sales-status").find(".spinner"),xing.utils.Behaviors.update(),this):(e=n.ajaxHelper({type:"GET",url:"/profile/"+n.models.user.get("page_name")+"/classification_assignments",dataType:"json"}),void e.done(this.onFetchResourcesSuccess))},onFetchResourcesSuccess:function(e){$.extend(this.resources,e),this.hasData=!0,this.render()},updateSalesStatus:function(e){var n=xing.profiles;xing.profiles.ajaxHelper({type:"POST",url:"/profile/"+n.models.user.get("page_name")+"/classification_assignments?format=json",data:JSON.stringify(e),dataType:"json",processData:!1,contentType:"application/json",beforeSend:function(e){e.setRequestHeader("X-HTTP-Method-Override","PATCH")}}).done(function(e){this.resources.sales_status=e,this.spinner.hide(),this.render()}.bind(this)).fail(function(){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR")}),this.render()}.bind(this))},deleteSalesStatus:function(){var e=xing.profiles;xing.profiles.ajaxHelper({type:"DELETE",url:"/profile/"+e.models.user.get("page_name")+"/classification_assignments?format=json"}).done(function(){this.resources.sales_status=undefined,this.spinner.hide(),this.render()}.bind(this)).fail(function(){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t("PROFILERAILS_EDIT_ERROR")}),this.render()}.bind(this))},setSalesStatus:function(e){var n,t,i,s=$(e.currentTarget);e.preventDefault(),this.spinner.show(),this.$el.find("ul").hide(),t=+s.data("status-id"),t>0?(i=s.find("a").html(),n={id:t,name:i},this.updateSalesStatus(n)):this.deleteSalesStatus()}},xing.define("profiles.sections.vcard.views.SalesStatusForm",Backbone.View.extend(xing.profiles._views.SalesStatusForm).extend(xing.profiles.mixins.WithErrorMessages)),xing.profiles._views=xing.profiles._views||{},xing.profiles._views.VCard={el:"#vcard",events:{"click #employment-status.edit-mode a.company-name":"onLinkClicked","click #employment-status.edit-mode":"onOpenEmploymentStatus","click #primary-actions .add-bookmark":"onAddBookmark","click #primary-actions .block-user":"onBlockUser","click #primary-actions .contact-infos":"onOpenContactDetails","click #primary-actions .delete":"onOpenDelete","click #primary-actions .js-follow, #primary-actions .js-unfollow":"onFollow","click #primary-actions .pos-rel .show-more":"onMoreClick","click #primary-actions .projobs-action-other":"openJobSeeker","click #primary-actions .restart-wizard":"onRestartWizard","click #primary-actions .shared-data":"onOpenShared","click [data-edit-layer]":"onOpenEditLayerClick","click .js-profile-other .user-name-premium":"onProfileOtherPremiumBadgeClick"},initialize:function(e){this.jobSeeker=e.jobSeeker,_.bindAll(this,"initLegalNotice","onFollow","onRenderMiniVCardSuccess","onRenderVCardSuccess","render","showTutorialBubble"),xing.profiles.models.user.on("sync",this.render,this),this.profileImage=new xing.profiles.sections.vcard.views.ProfileImage,this.listenTo(this.profileImage,"change",this.render),this.showTutorialBubble(),this.initLegalNotice(),$(".profile-mini-vcard .js-follow, .profile-mini-vcard .js-unfollow").on("click",this.onFollow),this.showLightbox()},initLegalNotice:function(){var e,n,t=null,i=xing.profiles;e=this.$el.find(".js-profile-legal-information-link"),e.length&&(n=new i.sections.common.models.LegalNotice,e.click(function(s){function a(){null===t?t=new i.sections.common.views.LegalNoticeDialog({open:!0,name:i.globals.profileAttributes.displayName,model:n}):t.open()}s.preventDefault(),e.data("has-legal-information")?n.fetch({success:function(e){e.setStored(!0),a()}}):a()}))},render:function(){return this.loadingIndicator(!0),this.showMiniVCardLoadingIndicator(),this.updateVCard(this.loadingIndicator),this.updateMiniVCard(),this},showLightbox:function(){var e,n=this,t=n.$el.find("#follow-lightbox");t.length&&(e=new xing.controls.Lightbox({content:t.html()}),e.on("open",function(){$("#lightbox .js-lightbox-follow").on("click",n.onFollow)}))},showMiniVCardLoadingIndicator:function(){$(".js-profile-mini-vcard .loading-indicator").addClass("show show-image").removeClass("hide").css("display","")},hideMiniVCardLoadingIndicator:function(){$(".js-profile-mini-vcard .loading-indicator").removeClass("show show-image").addClass("hide").css("display","none")},updateVCard:function(e){xing.profiles.ajaxHelper({url:xing.profiles.settings.mainPath+xing.profiles.models.user.get("page_name")+"/vcard",dataType:"html"}).done(this.onRenderVCardSuccess).always(function(){e(!1),xing.trigger("vcard.rendered")})},updateMiniVCard:function(){var e=this;xing.profiles.ajaxHelper({url:xing.profiles.settings.mainPath+xing.profiles.models.user.get("page_name")+"/vcard/mini",dataType:"html"}).done(this.onRenderMiniVCardSuccess).always(function(){e.hideMiniVCardLoadingIndicator()})},onLinkClicked:function(e){$(e.currentTarget).hasClass("edit-icon")||e.stopPropagation()},openJobSeeker:function(e){var n=new xing.profiles.sections.vcard.models.JobSeeker;this.trigger("openJobSeeker"),e&&e.preventDefault(),xing.profiles.globals.profileAttributes.self?xing.profiles.tracking.loggedIn("openJobSeekerTabSelf",!0):(xing.profiles.tracking.loggedIn("openJobSeekerTabOther",!1),xing.profiles.tracking.loggedIn("openProJobsOther",!1)),new xing.controls.Lightbox({content:'<div class="loading-indicator general show"><img width="16" height="16" alt="" src="/img/v/ajax_wait_r1.gif"></div>'}),n.fetch({success:function(e,n){xing.profiles.views.jobSeekerLightboxView=new xing.profiles.sections.vcard.views.JobSeeker({model:e,detailedJobSeekerInfo:n.detailed_job_seeker_info,extendedJobSeekerInfo:n.extended_job_seeker_info}),xing.profiles.views.jobSeekerLightbox=new xing.controls.Lightbox({content:xing.profiles.views.jobSeekerLightboxView.render().el})}})},onRenderMiniVCardSuccess:function(e){var n=$(e).find(".js-mini-vcard-content");$(".js-profile-mini-vcard .js-mini-vcard-content").replaceWith(n),$(".js-profile-mini-vcard .loading-indicator").hide()},onRenderVCardSuccess:function(e){var n;this.$(".card").html(e),n=$("#vcard").find("img.user-image").attr("src"),$(".myxing-profile-image img").attr("src",n),this.delegateEvents(),this.initLegalNotice(),xing.utils.Behaviors.update(),xing.trigger("fillingWizard.updateCard")},onOpenEmploymentStatus:function(e){if(!$(e.target).is(".user-name-badge, .insider-badge")){(new xing.profiles.sections.vcard.views.EmploymentStatusForm).render(),e.preventDefault(),xing.profiles.tracking.loggedIn("openEditVcardLightbox",xing.profiles.globals.profileAttributes.self)}},onOpenContactDetails:function(e){var n;n=xing.profiles.views.contactDetails,e.preventDefault(),n=xing.profiles.models.userExtentions.get("self")?new xing.profiles.sections.vcard.views.ContactDetailsForm({model:new xing.profiles.sections.vcard.models.ContactDetails(this.model.toJSON())}):new xing.profiles.sections.vcard.views.ContactDetails({model:this.model,jobSeeker:this.jobSeeker}),n.render(),xing.profiles.views.contactDetails=n,xing.profiles.globals.profileAttributes.self?xing.profiles.tracking.loggedIn("openContactDetailsLightboxSelf",!0):xing.profiles.tracking.loggedIn("openContactDetailsLightboxOther",!1)},onOpenDelete:function(e){var n=$(e.target);e.preventDefault(),new xing.controls.DeleteContactLightbox({id:n.attr("data-contact-id"),shared_authenticity_token:n.attr("data-shared-authenticity-token"),onSuccess:function(){location.reload()}})},onFollow:function(e){var n=$(e.currentTarget),t=$(".add-contact"),i=$(".mail"),s=t.length>0?t:i,a=$(".js-follow"),l=$(".js-unfollow"),r="js-follow",o="js-lightbox-follow",c="profile-action-list-item-selected",u="profile-action-list-item",d=$(".js-followers-count .js-count"),p=n.hasClass(r)||n.hasClass(o);_this=this,naviIsSticked=$("#js-profile-information").hasClass("js-profile-information--fixed"),tracking_variables=xing.profiles.globals.tracking.profile_navigation,trackingName=p?"da836_follow_xinginsider_profile":"da836_unfollow_xinginsider_profile",trackingProduct=p?"da835_follow_insider_page":"da835_unfollow_insider_page",insiderPageID=$(".js-follow, .js-unfollow").data("insider-page-id"),insiderName=this.model.attributes.page_name.toLowerCase().replace(/_/g,"-"),e.preventDefault(),this.loadingIndicator(!0,".js-vcard-loading-indicator"),this.showMiniVCardLoadingIndicator(),xing.trigger("tracking.track_event",{trackingName:trackingName,extendedParams:{events:p?"event224":"event226",linkTrackEvents:"event224,event226",linkTrackVars:"products,events,prop64,prop56,eVar56",products:";"+trackingProduct+";1;;;eVar31="+trackingProduct+"_"+insiderPageID+"_"+insiderName,prop56:naviIsSticked?"p2786_follow_s":"p2786_follow_ns",prop64:trackingName,eVar56:"D=c56"}}),$.ajax({type:"POST",url:n.data("url"),data:{_method:p?"POST":"DELETE"}}).done(function(e){e.tracking_user_relation&&(xing.profiles.globals.profileAttributes.user_relation=e.tracking_user_relation),p?(l.show(),a.hide(),s.removeClass(u).addClass(c),d.html(parseInt(d.html(),10)+1)):(a.show(),l.hide(),s.removeClass(c).addClass(u),d.html(parseInt(d.html(),10)-1))}).fail(function(e){xing.trigger("app_messages.create",{messageType:"error",messageSummary:xing.i18n.t(e.responseJSON.message)})}).always(function(){_this.hideMiniVCardLoadingIndicator(),_this.loadingIndicator(!1,".js-vcard-loading-indicator")})},onOpenShared:function(e){e.preventDefault(),new xing.controls.SharedDataLightbox("#sd_"+xing.profiles.models.user.get("id"),xing.profiles.models.userExtentions.get("b_sid")),xing.profiles.tracking.loggedIn("sharedPersonalInfo",xing.profiles.globals.profileAttributes.self)},onAddBookmark:function(){xing.profiles.tracking.loggedIn("bookmark",xing.profiles.globals.profileAttributes.self)},onBlockUser:function(e){var n=xing.profiles.models.userExtentions;e.preventDefault(),new xing.controls.Lightbox({src:"/profile/users/"+n.get("b_sid").toString()+"/"+n.get("blocked").toString()+"_lightbox"}),xing.profiles.tracking.loggedIn("block",xing.profiles.globals.profileAttributes.self),ttt.event("PropTrackAction",{PropTrackAction:"contacts_blocks_user"})},onMoreClick:function(){xing.profiles.tracking.loggedIn("moreButtonForFurtherPrimaryActions",xing.profiles.globals.profileAttributes.self)},onRestartWizard:function(e){var n=$(e.currentTarget),t=n.attr("href"),i=xing.profiles;e.preventDefault(),$.ajax({url:t}).done(function(e){$("#filling-wizard").size()?$("#filling-wizard").replaceWith(e):$("#visitors-of-my-profile").after(e),i.sections.fillingWizard.init({showMsgOnEmptyCardQueue:!0,initializedManually:!0}),$("body").trigger("click")})},createLayerView:function(){return new xing.profiles.sections.vcard.views.ElevatorPitchForm({model:new xing.profiles.sections.vcard.models.ElevatorPitch(this.model.toJSON())})},profilePreviewMsg:function(){new xing.controls.Lightbox({content:HandlebarsTemplates["sections/common/profile_preview_msg"]})},showTutorialBubble:function(){var e,n=$("[data-tutorial-bubble]");n.length&&(e=n.data("tutorial-bubble"),new xing.controls.TutorialBubble($(".profile-image"),25,e,{position:"right"}))},onProfileOtherPremiumBadgeClick:function(){xing.trigger("tracking.track_event",{trackingName:"Click_PremiumBadge_ProfileOther_DA-1061",extendedParams:{channel:"Profile_Other",linkTrackVars:"prop64,channel",prop64:"Click_PremiumBadge_ProfileOther_DA-1061"}})}},xing.define("profiles.sections.vcard.views.VCard",Backbone.View.extend(xing.profiles.mixins.WithLoadingIndicator).extend(xing.profiles.mixins.WithOpenEditLayer).extend(xing.profiles._views.VCard)),xing.define("xing.profiles.tracking.loggedIn",function(){var e={openEditPhotoLightbox:{omnitureParams:{pageName:"profile/profile_details/self_photo_upload_open",prop64:"b5178_10_VCoepl"},self:!0,other:!1},saveProfilePhoto:{omnitureParams:{pageName:"profile/profile_details/self_photo_upload_save",prop64:"b5178_b7113_10_VCoeplsv"},self:!0,other:!1},openEditVcardLightbox:{omnitureParams:{pageName:"profile/profile_details/self_vcard_lightbox",channel:"profile",prop64:"b5178_10_VCoevcl"},self:!0,other:!1},saveInVcardLightbox:{omnitureParams:{prop64:"b5178_10_VCsevc"},self:!0,other:!1},openContactDetailsLightboxSelf:{omnitureParams:{pageName:"profile/profile_details/self_contact_detail_lightbox",channel:"profile",prop64:"b5178_10_VCocdl"},self:!0,other:!1},saveContactDetails:{omnitureParams:{prop64:"b5178_10_VCscd"},self:!0,other:!1},contactDetailsUpsellTabClick:{omnitureParams:{prop64:"ps1846_third"},self:!0,other:!0},openingOfVisitorsToProfileHoverCard:{omnitureParams:{prop64:"b5178_10_VCoovtphc"},self:!0,other:!1},openContactDetailsLightboxOther:{omnitureParams:{pageName:"profile/profile_details/other_contact_detail_lightbox",channel:"profile",prop64:"b5178_20_VCocdl"},self:!1,other:!0},moreButtonForFurtherPrimaryActions:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_20_VCmbffpa"},trackingName:"b5178_20_VCmbffpa"},self:!1,other:!0,event:"tracking.track_event"},sharedPersonalInfo:{omnitureParams:{pageName:"profile/profile_details/other_sharepersonalinfo_lightbox",channel:"profile",prop64:"b5178_20_VCspi"},self:!1,other:!0},block:{omnitureParams:{pageName:"profile/profile_details/other_block_lightbox",channel:"profile",prop64:"b5178_20_VCblk"},self:!1,other:!0},bookmark:{omnitureParams:{pageName:"profile/profile_details/other_bookmark_lightbox",channel:"profile",prop64:"b5178_20_VCbmk"},self:!1,other:!0},openMatchesLightbox:{omnitureParams:{pageName:"profile/profile_details/other_openmatches_lightbox",channel:"profile",prop64:"b5178_20_VComl"},self:!1,other:!0},openNoteTagsSection:{omnitureParams:{prop64:"b5178_20_VConts"},self:!1,other:!0},openDetailsOfAPositionSelf:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_10_CVodoap"},trackingName:"b5178_10_CVodoap"},self:!0,other:!1,event:"tracking.track_event"},addWorkExperience:{omnitureParams:{pageName:"profile/profile_details/self_workexperience_lightbox",channel:"profile",prop64:"b5178_10_CVapn"},self:!0,other:!1},editWorkExperience:{omnitureParams:{pageName:"profile/profile_details/self_workexperience_lightbox",channel:"profile",prop64:"b5178_10_CVepn"},self:!0,other:!1},saveWorkExperience:{omnitureParams:{prop64:"b5178_10_CVspn",events:"events2"},self:!0,other:!1},addEducation:{omnitureParams:{pageName:"profile/profile_details/self_education_lightbox",channel:"profile",prop64:"b5178_10_CVaedc"},self:!0,other:!1},editEducation:{omnitureParams:{pageName:"profile/profile_details/self_education_lightbox",channel:"profile",prop64:"b5178_10_CVeedc"},self:!0,other:!1},saveEducation:{omnitureParams:{prop64:"b5178_10_CVsedc"},self:!0,other:!1},addLanguage:{omnitureParams:{pageName:"profile/profile_details/self_language_lightbox",channel:"profile",prop64:"b5178_10_CValng"},self:!0,other:!1},editLanguage:{omnitureParams:{pageName:"profile/profile_details/self_language_lightbox",channel:"profile",prop64:"b5178_10_CVelng"},self:!0,other:!1},saveLanguage:{omnitureParams:{prop64:"b5178_10_CVslng"},self:!0,other:!1},addAward:{omnitureParams:{pageName:"profile/profile_details/self_award_lightbox",channel:"profile",prop64:"b5178_10_CVaawd"},self:!0,other:!1},editAward:{omnitureParams:{pageName:"profile/profile_details/self_award_lightbox",channel:"profile",prop64:"b5178_10_CVeawd"},self:!0,other:!1},saveAward:{omnitureParams:{prop64:"b5178_10_CVsawd"},self:!0,other:!1},addOrganisation:{omnitureParams:{pageName:"profile/profile_details/self_organisation_lightbox",channel:"profile",prop64:"b5178_10_CVaorg"},self:!0,other:!1},editOrganisation:{omnitureParams:{pageName:"profile/profile_details/self_organisation_lightbox",channel:"profile",prop64:"b5178_10_CVeorg"},self:!0,other:!1},saveOrganisation:{omnitureParams:{prop64:"b5178_10_CVsorg"},self:!0,other:!1},editBirthday:{omnitureParams:{pageName:"profile/profile_details/self_birthday_lightbox",channel:"profile",prop64:"b5178_10_CVebsd"},self:!0,other:!1},saveBirthday:{omnitureParams:{prop64:"b5178_10_CVsbsd"},self:!0,other:!1},addHaves:{omnitureParams:{pageName:"profile/profile_details/self_haves_lightbox",channel:"profile",prop64:"b5178_10_CVahs"},self:!0,other:!1},editHaves:{omnitureParams:{pageName:"profile/profile_details/self_haves_lightbox",channel:"profile",prop64:"b5178_10_CVehs"},self:!0,other:!1},saveHaves:{omnitureParams:{prop64:"b5178_10_CVshs"},self:!0,other:!1},topHavesEditLayerShow:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"ps2891_editlayer"},trackingName:"ps2891_editlayer"},self:!0,other:!1,event:"tracking.track_event"},topHavesHelpLayerShowSelf:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"ps2891_helplayer"},trackingName:"ps2891_helplayer"},self:!0,other:!1,event:"tracking.track_event"},topHavesFull:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"ps2871_full"},trackingName:"ps2871_full"},self:!0,other:!1,event:"tracking.track_event"},topHavesTeaserView:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"ps2870_teaserview"},trackingName:"ps2870_teaserview"},self:!0,other:!1,event:"tracking.track_event"},topHavesTeaserClose:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"ps2870_teaserclosed"},trackingName:"ps2870_teaserclosed"},self:!0,other:!1,event:"tracking.track_event"},addWants:{omnitureParams:{pageName:"profile/profile_details/self_wants_lightbox",channel:"profile",prop64:"b5178_10_CVawnt"},self:!0,other:!1},editWants:{omnitureParams:{pageName:"profile/profile_details/self_wants_lightbox",channel:"profile",prop64:"b5178_10_CVewnt"},self:!0,other:!1},saveWants:{omnitureParams:{prop64:"b5178_10_CVswnt"},self:!0,other:!1},WantsEditLayerShow:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"pj_89_editlayer"},trackingName:"pj_89_editlayer"},self:!0,other:!1,event:"tracking.track_event"},addInterests:{omnitureParams:{pageName:"profile/profile_details/self_interest_lightbox",channel:"profile",prop64:"b5178_10_CVaint"},self:!0,other:!1},editInterests:{omnitureParams:{pageName:"profile/profile_details/self_interest_lightbox",channel:"profile",prop64:"b5178_10_CVeint"},self:!0,other:!1},saveInterests:{omnitureParams:{prop64:"b5178_10_CVsint"},self:!0,other:!1},addQualifications:{omnitureParams:{pageName:"profile/profile_details/self_qualification_lightbox",channel:"profile",prop64:"b5178_10_CVaqls"},self:!0,other:!1},editQualifications:{omnitureParams:{pageName:"profile/profile_details/self_qualification_lightbox",channel:"profile",prop64:"b5178_10_CVeqls"},self:!0,other:!1},saveQualifications:{omnitureParams:{prop64:"b5178_10_CVsqls"},self:!0,other:!1},openDetailsOfAPositionOther:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_20_Cvodoap"},trackingName:"b5178_20_Cvodoap"},self:!1,other:!0,event:"tracking.track_event"},topHavesHelpLayerShowOther:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"ps2893_shown"},trackingName:"ps2893_shown"},self:!1,other:!0,event:"tracking.track_event"},addPortfolioItem:{omnitureParams:{pageName:"profile/profile_details/self_additem_lightbox",channel:"profile",prop64:"b5178_10_Papm"},self:!0,other:!1},addPortfolioItemText:{pageName:"profile/profile_details/self_additemtext_lightbox",channel:"profile",omnitureParams:{prop64:"b5178_10_Papmt"},self:!0,other:!1},addPortfolioItemImage:{pageName:"profile/profile_details/self_additemimage_lightbox",channel:"profile",omnitureParams:{prop64:"b5178_10_Papmb"},self:!0,other:!1},addPortfolioItemPDF:{pageName:"profile/profile_details/self_additempdf_lightbox",channel:"profile",omnitureParams:{prop64:"b5178_10_Papmp"},self:!0,other:!1},addPortfolioItemVideo:{pageName:"profile/profile_details/self_additemvideo_lightbox",channel:"profile",omnitureParams:{prop64:"b5178_10_Papmp"},self:!0,other:!1},editPortfolioItem:{omnitureParams:{pageName:"profile/profile_details/self/portfolio_editportfolio_lightbox",channel:"profile",prop64:"b5178_10_Pepm"},self:!0,other:!1},deletePortfolioItem:{omnitureParams:{prop64:"b5178_10_Pdel"},self:!0,other:!1},maxAndMinimizeImage:{omnitureParams:{prop64:"b5178_10_Pmmi"},self:!0,other:!1},openCarousel:{omnitureParams:{pageName:"profile/profile_details/other/portfolio_opencaroussel_lightbox",channel:"profile",prop64:"b5178_20_Pocl"},self:!1,other:!0},clicksInCarouselBack:{omnitureParams:{prop64:"b5178_20_Pnoivic_b"},self:!1,other:!0},clicksInCarouselNext:{omnitureParams:{prop64:"b5178_20_Pnoivic_n"},self:!1,other:!0},addTwitterAccount:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_10_OWatt"},trackingName:"b5178_10_OWatt"},self:!0,other:!1,event:"tracking.track_event"},deleteTwitterAccount:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_10_OWett"},trackingName:"b5178_10_OWett"},self:!0,other:!1,event:"tracking.track_event"},exitXingToGoToTwitter:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_20_OWelt"},trackingName:"b5178_20_OWelt"},self:!1,other:!0,event:"tracking.track_event"},clickOnRssLinks:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_20_OWelr"},trackingName:"b5178_20_OWelr"},self:!1,other:!0,event:"tracking.track_event"},clickOnOtherLinks:{omnitureParams:{extendedParams:{linkTrackVars:"prop64",prop64:"b5178_20_OWelo"},trackingName:"b5178_20_OWelo"},self:!1,other:!0,event:"tracking.track_event"},bookEvent:{omnitureParams:{prop64:"b5178_20_EvTbe"},self:!1,other:!0},openJobSeekerTabSelf:{omnitureParams:{pageName:"profile/profile_details/self/jobseeker_status_lightbox",channel:"profile",products:";profile_jobseeker_status_lightbox;1;;;eVar31=jobseekerstatuslbx_profile/profile_details/self",prop64:"b5701_1"},self:!0,other:!1},openJobSeekerTabOther:{omnitureParams:{pageName:"profile/profile_details/other/jobseeker_status_lightbox",channel:"profile",products:";profile_jobseeker_status_lightbox;1;;;eVar31=jobseekerstatuslbx_profile/profile_details/other",prop64:"b5701_1"},self:!1,other:!0},openProJobsOther:{omnitureParams:{prop64:"ps1399_other"},self:!1,other:!0,event:"tracking.track_event"},saveJobSeekerData:{omnitureParams:{prop64:"b5701_2"},self:!1,other:!0},premiumBadge:{omnitureParams:{pageName:"profile/profile_details/other_mbt_premium_lightbox",channel:"premium",prop47:"premium"},self:!0,other:!0},moderatorBadge:{omnitureParams:{pageName:"profile/profile_details/other_mbt_moderator_lightbox",channel:"premium",prop47:"premium"},self:!0,other:!0},ambassadorBadge:{omnitureParams:{pageName:"profile/profile_details/other_mbt_ambassador_lightbox",channel:"premium",prop47:"premium"},self:!0,other:!0},xpertBadge:{omnitureParams:{pageName:"profile/profile_details/other_mbt_xpert_lightbox",channel:"premium",prop47:"premium"},self:!0,other:!0},joinOpenGroup:{omnitureParams:{extendedParams:{linkTrackVars:"evar31,events,products",linkTrackEvents:"event48",events:"event48",products:";group_join_open;1;;;evar31=profile/groups"},trackingName:"b6733_grp_join"},self:!1,other:!0,event:"tracking.track_event"},joinClosedGroup:{omnitureParams:{extendedParams:{linkTrackVars:"evar31,events,products",linkTrackEvents:"event48",events:"event48",products:";group_join_close;1;;;evar31=profile/groups"},trackingName:"b6733_grp_join"},self:!1,other:!0,event:"tracking.track_event"}};return function(n,t){var i=e[n].event||"tracking.track_page_view";(t&&e[n].self||!t&&e[n].other)&&xing.trigger(i,e[n].omnitureParams)}}()),xing.define("profiles.StickableParts",function(){var e={FOOTER_THRESHOLD:600,CLASS_STICKY_JS:"js-profile-information--fixed",CLASS_STICK:"profile-mini-vcard--stick",CLASS_STICK_ANIMATE:"profile-mini-vcard--stick--animate",CLASS_UNSTICK:"profile-mini-vcard--unstick",CLASS_VCARD_FIXED:"profile-vcard--fixed",CLASS_CONTAINER_FIXED:"profile-information--fixed",SELECTOR_CONTAINER:".profile-container",SELECTOR_VCARD:"#vcard",SELECTOR_MINI_VCARD:".js-profile-mini-vcard",SELECTOR_INFORMATION:"#js-profile-information",SELECTOR_NAVIGATION:"#js-profile-information-navigation",SELECTOR_CONTENT:"#js-profile-information-content",SELECTOR_VOMP:"#visitors-of-my-profile",LEFT_OFFSET:80,ANIMATION_TIME_MILLIS:1200,DELAY_SCROLL_TIME_MILLIS:500,LEFT_EXTRA_OFFSET:24};return Class.create({initialize:function(){this.window=$(window),this.profileInformation=$(e.SELECTOR_INFORMATION),this.vCard=$(e.SELECTOR_VCARD),this.miniVCard=$(e.SELECTOR_MINI_VCARD),this.navi=$(e.SELECTOR_NAVIGATION),this.container=$(e.SELECTOR_CONTAINER),this.miniVCardHeight=this.miniVCard.outerHeight(),this.vCardHeight=this.vCard.outerHeight(),this.naviHeight=this.navi.outerHeight(),this.vompHeight=$(e.SELECTOR_VOMP).outerHeight(!0),this.windowHeight=this.window.outerHeight(),this.miniVCardVisible=!1,this.allContentsScrollWithFooter=!1,this.previousZoomLevel=1,this.touchEnabled=!!xing.profiles.globals.profile_navigation.touch_enabled||!xing.browser.TOUCH,_.bindAll(this,"handleHorizontalScroll","handleVerticalScroll","hideStickyElementsOnZoom","updatePageSpecificValues","isScreenSmall","naviLeftExtraOffset","onPageLoad","onTabShown","preventFooterOverlap","startMiniVCardScrollWithContent","stopMiniVCardScrollWithContent","checkFixedMiniVCardView","switchToFixedMiniVCardView"),this.updatePageSpecificValues(),this.touchEnabled&&this.observe()},updatePageSpecificValues:function(){
this.containerBottom=this.container.outerHeight()+this.container.offset().top,this.isLongPage=this.profileInformation.outerHeight()-parseInt($(e.SELECTOR_CONTENT).css("marginTop"),10)+this.miniVCardHeight>this.windowHeight-e.FOOTER_THRESHOLD},onPageLoad:function(){var e=this;this.window.scrollTop()>=Math.floor(this.profileInformation.offset().top)-this.miniVCardHeight&&(this.handleVerticalScroll(),setTimeout(function(){e.handleHorizontalScroll()}.bind(this),100))},observe:function(){var e=this.window;xing.on("miniVCard.stick",this.switchToFixedMiniVCardView),xing.on("profile.profile-information.tabs.shown",this.onTabShown),e.on("scroll",this.handleVerticalScroll),e.on("scroll",this.handleHorizontalScroll),e.ready(this.onPageLoad),xing.browser.TOUCH&&e.on("scroll",this.hideStickyElementsOnZoom)},checkFixedMiniVCardView:function(){this.miniVCardVisible||this.switchToFixedMiniVCardView(undefined,undefined,!0)},switchToFixedMiniVCardView:function(n,t,i){if(t=$.extend(t,{}),!this.miniVCardVisible&&!xing.profiles.globals.pro_jobs_preview&&!xing.profiles.globals.lebenslauf_welcome){var s={addOffset:-this.miniVCardHeight,time:200},a=this.profileInformation;i||(s.callback=this.checkFixedMiniVCardView),t.animate&&(s.time=e.ANIMATION_TIME_MILLIS),t.delay?setTimeout(function(){a.scrollTo(s)},e.DELAY_SCROLL_TIME_MILLIS):a.scrollTo(s)}},onTabShown:function(n,t){if(t.scrollToTop){var i=this.miniVCardHeight+this.naviHeight,s={addOffset:-i};$(e.SELECTOR_CONTENT).scrollTo(s)}},startMiniVCardScrollWithContent:function(){var n=this.container.outerHeight()-this.windowHeight+this.vompHeight+e.FOOTER_THRESHOLD;this.allContentsScrollWithFooter=!0,xing.trigger("profile.minivcard.shown.absolute",{}),this.miniVCard.removeClass(e.CLASS_STICK_ANIMATE,e.CLASS_UNSTICK).css({position:"absolute",top:n}),this.vCard.css({display:"none"}),this.navi.css({left:this.naviLeftExtraOffset(),position:"absolute",top:n+this.miniVCardHeight})},stopMiniVCardScrollWithContent:function(){var n=this.profileInformation.offset().left+this.naviLeftExtraOffset();this.allContentsScrollWithFooter=!1,xing.trigger("profile.minivcard.shown.fixed",{}),this.navi.css({left:Math.floor(n),position:"fixed",top:this.miniVCardHeight}),this.miniVCard.addClass(e.CLASS_STICK),this.miniVCard.css({position:"",top:""}),this.vCard.css({display:""})},showStickyMiniVCard:function(){var n=this.miniVCard;xing.trigger("xing_layer.close_layer"),this.profileInformation.addClass(e.CLASS_CONTAINER_FIXED),this.profileInformation.addClass(e.CLASS_STICKY_JS),this.navi.css({position:"fixed",top:this.miniVCardHeight}),this.miniVCardVisible=!0,n.addClass(e.CLASS_STICK_ANIMATE),n.addClass(e.CLASS_STICK),n.removeClass(e.CLASS_UNSTICK),this.vCard.addClass(e.CLASS_VCARD_FIXED).css("top",this.miniVCard.outerHeight()-this.vCard.outerHeight()),$(e.SELECTOR_CONTENT).css("marginTop",this.vCard.outerHeight()+this.navi.outerHeight())},showNormalVCard:function(){var n=this.miniVCard;this.profileInformation.removeClass(e.CLASS_CONTAINER_FIXED),this.profileInformation.removeClass(e.CLASS_STICKY_JS),this.navi.css({position:"",top:""}),this.miniVCardVisible=!1,n.addClass(e.CLASS_UNSTICK),n.removeClass(e.CLASS_STICK),this.vCard.removeClass(e.CLASS_VCARD_FIXED).css("top",""),$(e.SELECTOR_CONTENT).css("marginTop",""),xing.trigger("profile.minivcard.shown.normal",{})},handleVerticalScroll:function(){var n=this.window.scrollTop();this.miniVCard.css({transition:""}),this.updatePageSpecificValues(),!this.miniVCardVisible&&Math.floor(this.navi.offset().top)-n<=this.miniVCardHeight?this.showStickyMiniVCard():this.miniVCardVisible&&Math.floor($(e.SELECTOR_CONTENT).offset().top)-n>this.naviHeight+this.miniVCardHeight&&this.showNormalVCard(),this.isLongPage&&this.preventFooterOverlap()},preventFooterOverlap:function(){var n=this.containerBottom-this.window.scrollTop();this.miniVCardVisible&&(!this.allContentsScrollWithFooter&&n<this.windowHeight-e.FOOTER_THRESHOLD?this.startMiniVCardScrollWithContent():this.allContentsScrollWithFooter&&n>=this.windowHeight-e.FOOTER_THRESHOLD&&this.stopMiniVCardScrollWithContent())},hideStickyElementsOnZoom:function(){detectZoom.zoom()>1&&this.showNormalVCard()},isScreenSmall:function(){return Math.floor(this.profileInformation.offset().left)<=e.LEFT_OFFSET},naviLeftExtraOffset:function(){return this.isScreenSmall()?e.LEFT_EXTRA_OFFSET:0},handleHorizontalScroll:function(){var n,t,i=!1;if(this.miniVCardVisible){if(!this.isScreenSmall())return this.miniVCard.css("left","auto"),void this.navi.css("left","auto");this.allContentsScrollWithFooter?(n=Math.abs(parseInt($(e.SELECTOR_INFORMATION).css("margin-left"),10)),t=0):(t=e.LEFT_OFFSET-this.window.scrollLeft(),n=t+Math.abs(parseInt($(e.SELECTOR_INFORMATION).css("margin-left"),10))),this.miniVCard.css({left:n,transition:"none"}),this.navi.css("left",t+this.naviLeftExtraOffset()),this.previousZoomLevel!==detectZoom.zoom()&&(i=!0),this.previousZoomLevel=detectZoom.zoom(),i&&this.handleHorizontalScroll()}}})}()),Backbone.emulateHTTP=!0,xing.define("profiles.init",function(){var e=xing.profiles,n=$("body");e=$.extend(e,{collections:{},models:{},views:{}}),e.models.user=new e.sections.common.models.User(e.globals.profile),e.models.jobSeeker=new e.sections.vcard.models.JobSeeker(e.globals.jobSeeker),e.models.userExtentions=new e.sections.common.models.UserAttributes(e.globals.profileAttributes),e.views.contactPath=new e.sections.contactPath.views.contactPath,e.views.vCard=new e.sections.vcard.views.VCard({model:e.models.user,jobSeeker:e.models.jobSeeker}),e.sections.fillingWizard.init(),new e.controls.InformationNavigation,$("#js-profile-information-navigation").length>0&&new e.StickableParts,e.router=new e.Router,Backbone.history.start({pushState:!0,hashChange:!1,root:xing.profiles.settings.mainPath}),xing.profiles.globals.iPad=null!==navigator.userAgent.match(/iPad/i),xing.profiles.globals.iPad&&(xing.profiles.globals.iOS={4:!!navigator.userAgent.match("iPad; CPU OS 4"),5:!!navigator.userAgent.match("iPad; CPU OS 5"),6:!!navigator.userAgent.match("iPad; CPU OS 6"),7:!!navigator.userAgent.match("iPad; CPU OS 7")}),xing.profiles.touch="ontouchstart"in document.documentElement,xing.profiles.touch&&n.addClass("touch"),xing.profiles.libraries={googleMaps:{listeners:[],loaded:!1},packery:{listeners:[],loaded:!1}}}),xing.globals.assets.add({TopHavesLayer:["https://www.xing.com/assets/profiles/lazyload/top_haves_layer-fbcb4302ec11e41d45235592695ddb16.js"],WantsLayer:["https://www.xing.com/assets/profiles/lazyload/wants_layer-b2d2d19d22c4e7d4abe05ce783b009ca.js"]}),xing.define("profiles.loggedin.initializer",{trackActions:function(e){xing.profiles.tracking.statsd.trackAction({selector:"[data-logged-in-action]",scope:e,callback:xing.profiles.loggedin.initializer.trackClick,dataParam:"loggedInAction",typeParam:"loggedInActionType"})},trackLightBoxEvent:function(e){xing.profiles.tracking.statsd.trackLightBoxClose({eventName:e.eventName,lightBoxName:e.lightBoxName,callback:xing.profiles.loggedin.initializer.trackClick})},trackView:function(){var e,n,t,i,s;if(!xing.profiles.globals.profileAttributes)return!1;e=!xing.profiles.globals.profileAttributes.self,t=xing.profiles.globals.preview,i=xing.profiles.globals.profileAttributes.is_contact,s=xing.profiles.globals.profileAttributes.is_follower,n=!e||t?"self":"other",n+=t?".preview":".normal",e&&!t&&(n+=s||i?i?".contact":".follower":".not_contact"),n+=".viewed",xing.profiles.tracking.statsd.trackView({actionType:"loggedin",profileVersion:"v1",subKey:n})},trackClick:function(e){e.preventDefault&&event.preventDefault();var n={clickName:e.trackingName,clickType:e.clickType?e.clickType:"link",profileVersion:"v1",actionType:"loggedin"};xing.profiles.tracking.statsd.trackClick(n)},trackStuff:function(){xing.profiles.loggedin.initializer.trackView(),xing.profiles.loggedin.initializer.trackActions("div#primary-actions"),xing.profiles.loggedin.initializer.trackActions("section#js-profile-information-navigation","tab"),xing.profiles.loggedin.initializer.trackLightBoxEvent({eventName:"lightbox_contact_added",lightBoxName:"lb_contact_added"}),xing.profiles.loggedin.initializer.trackLightBoxEvent({eventName:"message_lightbox.close",lightBoxName:"lb_message_sent"})},postResizeMessage:function(){setTimeout(function(){parent.postMessage({type:"profiles.resize",height:$("body").height(),width:$("body").width()},"*")},0)}}),xing.ready(function(){xing.profiles.loggedin.initializer.trackStuff(),xing.profiles.loggedin.initializer.postResizeMessage(),$(window).resize(xing.profiles.loggedin.initializer.postResizeMessage),xing.on("profiles.resize",xing.profiles.loggedin.initializer.postResizeMessage)});